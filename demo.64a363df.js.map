{"version":3,"sources":["../../node_modules/s-js/dist/es/S.js","../../src/main/api-types.ts","../../src/main/issue-forest.ts","../../src/main/worker-interface.ts","../../src/main/bundler-worker-factory.ts","../../src/main/minheap.ts","../../src/main/scheduling.ts","../../src/main/scheduling-async.ts","../../src/main/util.ts","../../src/main/you-track-rest.ts","../../src/main/you-track-oauth.ts","../../src/main/you-track-http.ts","../../src/main/you-track-project-planning.ts","../../../../src/main/components/alerts/alerts-ctrl.ts","../../node_modules/surplus/es/insert.js","../../node_modules/surplus/es/content.js","../../node_modules/surplus/es/dom.js","../../node_modules/surplus/es/fieldData.js","../../node_modules/surplus/es/spread.js","../../node_modules/surplus/es/index.js","../../../../src/main/components/alerts/alerts-view.tsx","../../../src/main/utils/counter.ts","../../node_modules/object-assign/index.js","../../node_modules/assert/node_modules/util/support/isBufferBrowser.js","../../node_modules/assert/node_modules/inherits/inherits_browser.js","../../node_modules/process/browser.js","../../node_modules/assert/node_modules/util/util.js","../../node_modules/assert/assert.js","../../node_modules/sortablejs/Sortable.js","../../../src/main/utils/surplus.ts","../../../src/main/utils/s.ts","../../../src/main/utils/typescript.ts","../../../../src/main/components/settings/settings-model.ts","../../../../src/main/components/settings/settings-ctrl.ts","../../../../src/main/components/you-track-metadata/you-track-metadata-ctrl.ts","../../../../src/main/components/app/app-ctrl.ts","../../node_modules/s-array/es/index.js","../../../../src/main/components/app/app-model.ts","../../../../src/main/components/contributor/contributor-model.ts","../../../../src/main/components/contributors/contributors-model.ts","../../../../src/main/components/contributors/contributors-ctrl.ts","../../../src/main/components/bootstrap.ts","../../../../src/main/components/contributor/contributor-view.tsx","contributor-view.jsx","../../../../src/main/components/contributors/contributors-view.tsx","../../../../src/main/components/depends-link-type/depends-link-type-model.ts","../../../src/main/components/base-views.tsx","base-views.jsx","../../../src/main/components/you-track-base-views.tsx","you-track-base-views.jsx","../../../../src/main/components/depends-link-type/depends-link-type-view.tsx","depends-link-type-view.jsx","../../../../src/main/components/nav/nav-view.tsx","nav-view.jsx","../../../src/main/utils/deep-equals.ts","../../../../src/main/components/contributor/contributor-ctrl.ts","../../../../src/main/components/project-planning-settings/project-planning-settings-ctrl.ts","../../../../src/main/components/project-planning-app/project-planning-app-ctrl.ts","../../../../src/main/components/project-planning-settings/project-planning-settings-model.ts","../../../../src/main/components/project-planning-app/project-planning-app-model.ts","../../../../src/main/components/project-planning-app/project-planning-app-view.ts","../../../../src/main/components/settings/settings-view.tsx","settings-view.jsx","../../../../src/main/components/project-planning-settings/project-planning-settings-view.tsx","../../../src/main/components/router.ts","../../../../src/main/components/warnings/warnings-view.tsx","warnings-view.jsx","../../src/main/index.ts","../../src/demo/demo-ctrl.ts","../../src/demo/demo-model.ts","../../src/demo/demo-view.tsx","demo-view.jsx","../../src/demo/index.ts"],"names":["S","fn","value","node","ComputationNode","current","Object","defineProperty","topLevelRoot","disposer","owner","Owner","callAll","ss","i","length","root","UNOWNED","result","undefined","RunningClock","RootClock","disposes","add","dispose","on","ev","seed","onchanges","Array","isArray","running","RunningNode","effect","data","DataNode","arguments","next","eq","age","update","time","Error","freeze","changes","reset","event","sample","cleanup","cleanups","push","console","warn","makeDataNode","makeComputationNode","isFrozen","isListening","Clock","Queue","updates","RootClockProxy","pending","NOTPENDING","log","prototype","logDataRead","clock","state","CURRENT","source1","source1slot","sources","sourceslots","owned","toplevelComputation","RUNNING","updateNode","logComputationRead","Log","node1","node1slot","nodes","nodeslots","items","count","item","run","STALE","logRead","from","to","fromslot","toslot","applyDataChange","markComputationsStale","markNodeStale","len","markOwnedNodesForDisposal","child","final","cleanupSource","pop","source","slot","last","lastslot","isFailure","leaveNode","makeForest","issues","idToNode","reduce","map","issue","index","set","id","children","dependencies","dependents","Map","values","parentKey","parent","get","dependency","dependencyNode","Symbol","iterator","traverseIssueForest","rootNodes","enterNode","currentIterator","stack","iteratorResult","done","isDedicatedWorkerGlobalScope","DedicatedWorkerGlobalScope","workerFactory","createWorker","Worker","JobSplitting","isSchedulingFailure","MinHeap","parentIdx","idx","Math","trunc","leftChildIdx","rightChildIdx","swap","array","leftIdx","rightIdx","temp","heapify","comparatorFn","rootIdx","currentIdx","minIdx","l","r","constructor","iterable","comparatorFn_","array_","element","p","extractMin","min","isEmpty","JOB_DEFAULTS","deliveryTime","splitting","PREEMPTION","releaseTime","preAssignment","computeSchedule","instance","nonNegativeInteger","number","Number","isInteger","undefinedOrNonNegativeInteger","numMachines","machineSpeeds","numJobs","jobs","numbers","filter","positiveIntegers","job","size","undefinedOrNonNegativeIntegers","upperBoundExcl","undefinedOrIntegerWithinZeroTo","integersWithinZeroTo","minFragmentSize","assign","ListScheduling","schedule","numMachines_","machineSpeeds_","jobs_","minFragmentSize_","gapsLists_","ignoredMachineSpeed","head","startTime","MIN_SAFE_INTEGER","endTime","tail","MAX_SAFE_INTEGER","nextTimeStamp","minWallClockTime","earliestStart","machine","currentGap","gapsList","currentFragmentStart","timeStamp","max","previousGapsList","adjustGaps","machineState","end","commitGaps","start","createJobFragment","scheduledJob","jobFragment","isWaiting","scheduleJob","availableMachineIndices","isPreemptible","currentSpeed","lastTimestamp","remainingSize","machines","availableIdx","speed","eventTime","forEach","ceil","machineEventTime","isProjectedEndTime","currentProjectedEndTime","nextGap","ignoredIndex","scheduleDeliveryTime","machineIdx","processingCompletionTime","completionTime","deliveryJobFragment","allMachines","callbackfn","singleMachine","singleMachineIdx","noDependencyNodes","jobGraphNodes","numDependencies","jobGraphNode","dependencyIdx","newSchedule","ignoredJob","finishTimes","numScheduledJobs","noDependencyNodesHeap","left","right","NONE","earliestStartTime","previousEarliestStartTime","dependencyFinishTime","availableMachines","deliveryMachineIdx","MULTIPLE_MACHINES","maxCompletionTime","currentAvailableMachines","currentCompletionTime","dependent","promise","computeScheduleAsync","args","worker","failure","Promise","reject","resolve","onmessage","onerror","terminate","filename","lineno","colno","message","postMessage","assignDefined","target","typedTarget","key","entries","deepClone","original","obj","coalesce","unreachableCase","x","JobType","scheduleUnresolved","options","actualOptions","newDefaultSchedulingOptions","jobIdxToExtendedIssue","machineIdxToContributorIdx","schedulingInstance","makeSchedulingInstance","machineSchedule","ProjectPlanningJs","realTimeFactor","MINUTES_PER_WEEK_REAL_TIME","minutesPerWeek","scheduleTimestampToEpochTime","timestamp","predictionStartTimeMs","resolutionMs","j","scheduledIssue","issueIdx","issueActivity","assignee","contributors","appendSchedule","projectPlan","divisionTimestamp","collator","Intl","Collator","newProjectPlan","assigneeToActivities","existingActivities","issueActivities","has","createIfAbsent","returnValue","scheduledActivity","newActivity","assigneeActivities","sort","diff","compare","groupByIntervalAndWaitStatus","activities","IssueEventType","events","activity","filterActivity","type","ADDED","REMOVED","first","second","lastActivity","assignees","assigneeToActivityCount","timePassed","assigneeActiveCount","NO_INDEX","newDefaultSchedulableIssue","remainingWaitTimeMs","splittable","minActivityDuration","Date","now","n","assigneeToContributorIdx","contributor","numMembers","fill","jobType","makeJobDescriptors","startToStartDummyJobIdx","START_TO_START","asDependencyJobIdx","FINISH_TO_FINISH","childNode","concat","jobIdx","MAIN","remainingEffortMs","extendedIssues","jobDescriptors","outer","currentAssignees","assigneesChanged","activeCount","predicate","youTrackPath","ACTIVITIES_PAGE","CUSTOM_FIELD","customFieldId","ISSUES","queryId","SAVED_QUERY","SORTED_ISSUES","STATE_BUNDLES","WORK_TIME_SETTINGS","hubPath","OAUTH","isPeriodIssueCustomField","field","$type","isSingleUserIssueCustomField","isSingleEnumIssueCustomField","isStateIssueCustomField","secret","STORAGE_PREFIX","baseUrlToAccessTokenMap","storageKeyForOauthId","oAuthId","normalizeUrl","baseUrl","URL","toString","goToOauthPage","youTrackBaseUrl","hubUrl","serviceId","appState","redirectUrl","window","location","href","normalizedBaseUrl","normalizedHubUrl","strippedRedirectUrl","hash","username","password","search","floor","random","youTrackOauthUrl","RestApi","response_type","redirect_uri","request_credentials","client_id","scope","searchParams","append","baseUrlAndAppState","sessionStorage","setItem","JSON","stringify","handlePotentialOauthRedirect","url","fragmentParams","URLSearchParams","slice","storedValue","getItem","parse","removeItem","expiresIn","validUntil","parseInt","history","replaceState","authorizationFor","accessToken","isYouTrackError","error","error_description","httpGet","resourcePath","queryParams","authorization","urlSearchParams","xhr","XMLHttpRequest","open","setRequestHeader","responseType","onloadend","onRequestFinished","send","httpGetAll","restBatchSize","httpGetAllWithOptions","batch","processBatch","initial","numElementsRetrieved","busy","$top","batchPromise","$skip","response","status","retrieveProjectPlan","youTrackConfig","actualYouTrackConfig","newDefaultYouTrackConfig","newDefaultRequestProjectPlanOptions","YouTrackIssueActivities","getMinutesPerWorkWeek","fields","daysAWeek","minutesADay","remainingEffortFieldId","remainingWaitFieldId","assigneeFieldId","otherCustomFieldIds","doesInwardDependOnOutward","overlaySavedQueryId","minStateChangeDurationMs","defaultRemainingEffortMs","defaultWaitTimeMs","isSplittableFn","progressCallback","omitIssueActivities","progressUpdateIntervalMs","YOUTRACK_CUSTOM_FIELDS_CATEGORY","baseUrl_","config_","options_","dependsOnDirection_","idToActiveState_","inactiveStateIds","inactiveState","projectPlan_","warnings","retrieveNumIssues","retrieveSavedQueryName","stateBundleId","getStateBundleId","buildIdToActiveStateMap","progressUpdate","retrieveIssues","retrieveOverlayOrder","retrieveActivities","finalizeSchedule","lastProgressUpdate_","percentageDone","numIssues_","numTasksWithDetails_","minTimeStamp_","maxActivityTimeStamp_","maxUpdateTimeStamp_","newHttpRequest","getAll","folderId","savedQueryId","customField","stateFieldId","fieldDefaults","bundle","savedQuery","savedQueryName_","name","restStateBundles","restStateBundle","isRelevantStateBundle","restElement","isResolved","includes","lowerCaseNameToActiveState_","toLowerCase","parseIssueCustomFields","restIssue","customFields","fieldId","projectCustomField","minutes","activeState","stateBundleElementIdToActiveState","find","restIssues","idReadable","summary","resolved","internalId","parentIssueId","subtaskIssueIds","subtasks","subissue","dependencyIssueIds","stateTransitions","created","lastUpdate","updated","issues_","idToIssueMap_","restLink","links","direction","linkType","dependsLinkTypeId","linkedIssue","overlayIds","idToOverlayIdx","overlayIdx","categories","issueQuery","activitiesPage","hasAfter","cursor","afterCursor","parseActivityItems","arrayOrObject","object","lowerCaseName","addStateTransition","newStateTransition","replacementForPreviousUnknown","a","c","activityItems","activityItem","added","removed","finalizeIssueActivities","description","issueId","unknownDependencies","join","unknownSubtasks","subIssue","youTrackIssue","finalStateTransition","DOCUMENT_FRAGMENT_NODE","TEXT_NODE","insert","range","parentNode","test","good","t","nodeType","document","createTextNode","replaceChild","Node","insertArray","nextSibling","insertBefore","appendChild","previousSibling","removeChild","Function","firstChild","lastChild","textContent","content","clear","normalizeIncomingArray","appendNodes","reconcileArrays","NOMATCH","NOINSERT","RECONCILE_ARRAY_BATCH","RECONCILE_ARRAY_BITS","RECONCILE_ARRAY_INC","RECONCILE_ARRAY_MASK","ns","us","ulen","k","nmin","nmax","umin","umax","u","nx","ux","ul","loop","fixes","equable","insertOrAppend","ntext","__surplus_order","writable","Text","src","utext","preserved","lcs","longestPositiveIncreasingSubsequence","utexti","lcsj","ntextk","marker","normalized","seq","is","pre","findGreatestIndexLEQ","lo","hi","mid","svgNS","createElement","tag","className","el","createSvgElement","createElementNS","setAttribute","createComment","text","comment","removeAttribute","setAttributeNS","namespace","removeAttributeNS","htmlFieldCache","style","ref","class","for","onDoubleClick","spellCheck","allowFullScreen","autoCapitalize","autoFocus","autoPlay","role","svgFieldCache","htmlFor","tabIndex","allowReorder","attributeName","attributeType","autoReverse","baseFrequency","calcMode","clipPathUnits","contentScriptType","contentStyleType","diffuseConstant","edgeMode","externalResourcesRequired","filterRes","filterUnits","gradientTransform","gradientUnits","kernelMatrix","kernelUnitLength","keyPoints","keySplines","keyTimes","lengthAdjust","limitingConeAngle","markerHeight","markerUnits","maskContentUnits","maskUnits","numOctaves","pathLength","patternContentUnits","patternTransform","patternUnits","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","refX","refY","repeatCount","repeatDur","requiredExtensions","requiredFeatures","specularConstant","specularExponent","spreadMethod","startOffset","stdDeviation","stitchTiles","surfaceScale","systemLanguage","tableValues","targetX","targetY","textLength","viewBox","viewTarget","xChannelSelector","yChannelSelector","zoomAndPan","attributeOnlyRx","deepAttrRx","isAttrOnlyField","propOnlyRx","isPropOnlyField","propPartRx","getAttrName","replace","m","jsxEventPropRx","attrPartRx","getPropName","prop","toUpperCase","deepPropRx","buildPropData","exec","substr","attrNamespaces","xlink","xml","attrNamespaceRx","RegExp","keys","buildAttrData","attr","getFieldData","svg","cache","cached","b","props","spread","setField","_a","getOwnPropertySymbols","hasOwnProperty","propIsEnumerable","propertyIsEnumerable","toObject","val","TypeError","shouldUseNative","test1","String","getOwnPropertyNames","test2","fromCharCode","order2","test3","split","letter","err","module","exports","symbols","s","call","cachedSetTimeout","cachedClearTimeout","process","defaultSetTimout","defaultClearTimeout","runTimeout","fun","setTimeout","e","runClearTimeout","clearTimeout","currentQueue","queue","draining","queueIndex","cleanUpNextTick","drainQueue","timeout","Item","noop","nextTick","apply","title","env","argv","version","versions","addListener","once","off","removeListener","removeAllListeners","emit","prependListener","prependOnceListener","listeners","binding","cwd","chdir","dir","umask","formatRegExp","format","f","isString","objects","inspect","str","_","isNull","isObject","deprecate","msg","isUndefined","global","noDeprecation","warned","deprecated","throwDeprecation","traceDeprecation","trace","debugEnviron","debugs","opts","ctx","seen","stylize","stylizeNoColor","formatValue","depth","colors","isBoolean","showHidden","_extend","customInspect","stylizeWithColor","styleType","styles","arrayToHash","recurseTimes","isFunction","ret","primitive","formatPrimitive","visibleKeys","isError","indexOf","formatError","isRegExp","isDate","base","output","braces","toUTCString","formatArray","formatProperty","reduceToSingleString","simple","isNumber","match","desc","getOwnPropertyDescriptor","line","prev","cur","numLinesEst","ar","arg","isNullOrUndefined","isSymbol","re","objectToString","d","isPrimitive","o","pad","debuglog","pid","isBuffer","require","months","getHours","getMinutes","getSeconds","getDate","getMonth","inherits","origin","SArray","dirty","mutations","mutcount","pops","shifts","newvalues","mutation","unshift","shift","splice","remove","removeAll","lift","_seq","chainConcat","every","chainEvery","chainFilter","chainFind","chainForEach","chainIncludes","chainMap","chainSort","chainReduce","reduceRight","chainReduceRight","reverse","chainReverse","chainSlice","some","chainSome","mapS","chainMapS","mapSample","chainMapSample","mapSequentially","chainMapSequentially","orderBy","chainOrderBy","enter","exit","move","mapped","disposers","new_items","new_len","tempdisposers","NEXT","mapper","_item","_i","combine","chainCombine","new_indices","new_indices_next","new_end","found","pred","copy","by","v","others"],"mappings":"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","file":"demo.64a363df.js","sourceRoot":"../../src/demo","sourcesContent":["// Public interface\r\nvar S = function S(fn, value) {\r\n    var node = new ComputationNode(fn, value);\r\n    return function computation() {\r\n        return node.current();\r\n    };\r\n};\r\n// compatibility with commonjs systems that expect default export to be at require('s.js').default rather than just require('s-js')\r\nObject.defineProperty(S, 'default', { value: S });\r\nexport default S;\r\nS.root = function root(fn) {\r\n    var owner = Owner, root = fn.length === 0 ? UNOWNED : new ComputationNode(null, null), result = undefined, disposer = fn.length === 0 ? null : function _dispose() {\r\n        if (RunningClock !== null) {\r\n            RootClock.disposes.add(root);\r\n        }\r\n        else {\r\n            dispose(root);\r\n        }\r\n    };\r\n    Owner = root;\r\n    if (RunningClock === null) {\r\n        result = topLevelRoot(fn, disposer, owner);\r\n    }\r\n    else {\r\n        result = disposer === null ? fn() : fn(disposer);\r\n        Owner = owner;\r\n    }\r\n    return result;\r\n};\r\nfunction topLevelRoot(fn, disposer, owner) {\r\n    try {\r\n        return disposer === null ? fn() : fn(disposer);\r\n    }\r\n    finally {\r\n        Owner = owner;\r\n    }\r\n}\r\nS.on = function on(ev, fn, seed, onchanges) {\r\n    if (Array.isArray(ev))\r\n        ev = callAll(ev);\r\n    onchanges = !!onchanges;\r\n    return S(on, seed);\r\n    function on(value) {\r\n        var running = RunningNode;\r\n        ev();\r\n        if (onchanges)\r\n            onchanges = false;\r\n        else {\r\n            RunningNode = null;\r\n            value = fn(value);\r\n            RunningNode = running;\r\n        }\r\n        return value;\r\n    }\r\n};\r\nfunction callAll(ss) {\r\n    return function all() {\r\n        for (var i = 0; i < ss.length; i++)\r\n            ss[i]();\r\n    };\r\n}\r\nS.effect = function effect(fn, value) {\r\n    new ComputationNode(fn, value);\r\n};\r\nS.data = function data(value) {\r\n    var node = new DataNode(value);\r\n    return function data(value) {\r\n        if (arguments.length === 0) {\r\n            return node.current();\r\n        }\r\n        else {\r\n            return node.next(value);\r\n        }\r\n    };\r\n};\r\nS.value = function value(current, eq) {\r\n    var data = S.data(current), age = -1;\r\n    return function value(update) {\r\n        if (arguments.length === 0) {\r\n            return data();\r\n        }\r\n        else {\r\n            var same = eq ? eq(current, update) : current === update;\r\n            if (!same) {\r\n                var time = RootClock.time;\r\n                if (age === time)\r\n                    throw new Error(\"conflicting values: \" + update + \" is not the same as \" + current);\r\n                age = time;\r\n                current = update;\r\n                data(update);\r\n            }\r\n            return update;\r\n        }\r\n    };\r\n};\r\nS.freeze = function freeze(fn) {\r\n    var result = undefined;\r\n    if (RunningClock !== null) {\r\n        result = fn();\r\n    }\r\n    else {\r\n        RunningClock = RootClock;\r\n        RunningClock.changes.reset();\r\n        try {\r\n            result = fn();\r\n            event();\r\n        }\r\n        finally {\r\n            RunningClock = null;\r\n        }\r\n    }\r\n    return result;\r\n};\r\nS.sample = function sample(fn) {\r\n    var result, running = RunningNode;\r\n    if (running !== null) {\r\n        RunningNode = null;\r\n        result = fn();\r\n        RunningNode = running;\r\n    }\r\n    else {\r\n        result = fn();\r\n    }\r\n    return result;\r\n};\r\nS.cleanup = function cleanup(fn) {\r\n    if (Owner !== null) {\r\n        if (Owner.cleanups === null)\r\n            Owner.cleanups = [fn];\r\n        else\r\n            Owner.cleanups.push(fn);\r\n    }\r\n    else {\r\n        console.warn(\"cleanups created without a root or parent will never be run\");\r\n    }\r\n};\r\n// experimental : exposing node constructors and some state\r\nS.makeDataNode = function makeDataNode(value) {\r\n    return new DataNode(value);\r\n};\r\nS.makeComputationNode = function makeComputationNode(fn, seed) {\r\n    return new ComputationNode(fn, seed);\r\n};\r\nS.isFrozen = function isFrozen() {\r\n    return RunningClock !== null;\r\n};\r\nS.isListening = function isListening() {\r\n    return RunningNode !== null;\r\n};\r\n// Internal implementation\r\n/// Graph classes and operations\r\nvar Clock = /** @class */ (function () {\r\n    function Clock() {\r\n        this.time = 0;\r\n        this.changes = new Queue(); // batched changes to data nodes\r\n        this.updates = new Queue(); // computations to update\r\n        this.disposes = new Queue(); // disposals to run after current batch of updates finishes\r\n    }\r\n    return Clock;\r\n}());\r\nvar RootClockProxy = {\r\n    time: function () { return RootClock.time; }\r\n};\r\nvar DataNode = /** @class */ (function () {\r\n    function DataNode(value) {\r\n        this.value = value;\r\n        this.pending = NOTPENDING;\r\n        this.log = null;\r\n    }\r\n    DataNode.prototype.current = function () {\r\n        if (RunningNode !== null) {\r\n            logDataRead(this, RunningNode);\r\n        }\r\n        return this.value;\r\n    };\r\n    DataNode.prototype.next = function (value) {\r\n        if (RunningClock !== null) {\r\n            if (this.pending !== NOTPENDING) { // value has already been set once, check for conflicts\r\n                if (value !== this.pending) {\r\n                    throw new Error(\"conflicting changes: \" + value + \" !== \" + this.pending);\r\n                }\r\n            }\r\n            else { // add to list of changes\r\n                this.pending = value;\r\n                RootClock.changes.add(this);\r\n            }\r\n        }\r\n        else { // not batching, respond to change now\r\n            if (this.log !== null) {\r\n                this.pending = value;\r\n                RootClock.changes.add(this);\r\n                event();\r\n            }\r\n            else {\r\n                this.value = value;\r\n            }\r\n        }\r\n        return value;\r\n    };\r\n    DataNode.prototype.clock = function () {\r\n        return RootClockProxy;\r\n    };\r\n    return DataNode;\r\n}());\r\nvar ComputationNode = /** @class */ (function () {\r\n    function ComputationNode(fn, value) {\r\n        this.state = CURRENT;\r\n        this.source1 = null;\r\n        this.source1slot = 0;\r\n        this.sources = null;\r\n        this.sourceslots = null;\r\n        this.log = null;\r\n        this.owned = null;\r\n        this.cleanups = null;\r\n        this.fn = fn;\r\n        this.value = value;\r\n        this.age = RootClock.time;\r\n        if (fn === null)\r\n            return;\r\n        var owner = Owner, running = RunningNode;\r\n        if (owner === null)\r\n            console.warn(\"computations created without a root or parent will never be disposed\");\r\n        Owner = RunningNode = this;\r\n        if (RunningClock === null) {\r\n            toplevelComputation(this);\r\n        }\r\n        else {\r\n            this.value = this.fn(this.value);\r\n        }\r\n        if (owner && owner !== UNOWNED) {\r\n            if (owner.owned === null)\r\n                owner.owned = [this];\r\n            else\r\n                owner.owned.push(this);\r\n        }\r\n        Owner = owner;\r\n        RunningNode = running;\r\n    }\r\n    ComputationNode.prototype.current = function () {\r\n        if (RunningNode !== null) {\r\n            if (this.age === RootClock.time) {\r\n                if (this.state === RUNNING)\r\n                    throw new Error(\"circular dependency\");\r\n                else\r\n                    updateNode(this); // checks for state === STALE internally, so don't need to check here\r\n            }\r\n            logComputationRead(this, RunningNode);\r\n        }\r\n        return this.value;\r\n    };\r\n    ComputationNode.prototype.clock = function () {\r\n        return RootClockProxy;\r\n    };\r\n    return ComputationNode;\r\n}());\r\nvar Log = /** @class */ (function () {\r\n    function Log() {\r\n        this.node1 = null;\r\n        this.node1slot = 0;\r\n        this.nodes = null;\r\n        this.nodeslots = null;\r\n    }\r\n    return Log;\r\n}());\r\nvar Queue = /** @class */ (function () {\r\n    function Queue() {\r\n        this.items = [];\r\n        this.count = 0;\r\n    }\r\n    Queue.prototype.reset = function () {\r\n        this.count = 0;\r\n    };\r\n    Queue.prototype.add = function (item) {\r\n        this.items[this.count++] = item;\r\n    };\r\n    Queue.prototype.run = function (fn) {\r\n        var items = this.items;\r\n        for (var i = 0; i < this.count; i++) {\r\n            fn(items[i]);\r\n            items[i] = null;\r\n        }\r\n        this.count = 0;\r\n    };\r\n    return Queue;\r\n}());\r\n// Constants\r\nvar NOTPENDING = {}, CURRENT = 0, STALE = 1, RUNNING = 2;\r\n// \"Globals\" used to keep track of current system state\r\nvar RootClock = new Clock(), RunningClock = null, // currently running clock \r\nRunningNode = null, // currently running computation\r\nOwner = null, // owner for new computations\r\nUNOWNED = new ComputationNode(null, null);\r\n// Functions\r\nfunction logRead(from, to) {\r\n    var fromslot, toslot = to.source1 === null ? -1 : to.sources === null ? 0 : to.sources.length;\r\n    if (from.node1 === null) {\r\n        from.node1 = to;\r\n        from.node1slot = toslot;\r\n        fromslot = -1;\r\n    }\r\n    else if (from.nodes === null) {\r\n        from.nodes = [to];\r\n        from.nodeslots = [toslot];\r\n        fromslot = 0;\r\n    }\r\n    else {\r\n        fromslot = from.nodes.length;\r\n        from.nodes.push(to);\r\n        from.nodeslots.push(toslot);\r\n    }\r\n    if (to.source1 === null) {\r\n        to.source1 = from;\r\n        to.source1slot = fromslot;\r\n    }\r\n    else if (to.sources === null) {\r\n        to.sources = [from];\r\n        to.sourceslots = [fromslot];\r\n    }\r\n    else {\r\n        to.sources.push(from);\r\n        to.sourceslots.push(fromslot);\r\n    }\r\n}\r\nfunction logDataRead(data, to) {\r\n    if (data.log === null)\r\n        data.log = new Log();\r\n    logRead(data.log, to);\r\n}\r\nfunction logComputationRead(node, to) {\r\n    if (node.log === null)\r\n        node.log = new Log();\r\n    logRead(node.log, to);\r\n}\r\nfunction event() {\r\n    // b/c we might be under a top level S.root(), have to preserve current root\r\n    var owner = Owner;\r\n    RootClock.updates.reset();\r\n    RootClock.time++;\r\n    try {\r\n        run(RootClock);\r\n    }\r\n    finally {\r\n        RunningClock = RunningNode = null;\r\n        Owner = owner;\r\n    }\r\n}\r\nfunction toplevelComputation(node) {\r\n    RunningClock = RootClock;\r\n    RootClock.changes.reset();\r\n    RootClock.updates.reset();\r\n    try {\r\n        node.value = node.fn(node.value);\r\n        if (RootClock.changes.count > 0 || RootClock.updates.count > 0) {\r\n            RootClock.time++;\r\n            run(RootClock);\r\n        }\r\n    }\r\n    finally {\r\n        RunningClock = Owner = RunningNode = null;\r\n    }\r\n}\r\nfunction run(clock) {\r\n    var running = RunningClock, count = 0;\r\n    RunningClock = clock;\r\n    clock.disposes.reset();\r\n    // for each batch ...\r\n    while (clock.changes.count !== 0 || clock.updates.count !== 0 || clock.disposes.count !== 0) {\r\n        if (count > 0) // don't tick on first run, or else we expire already scheduled updates\r\n            clock.time++;\r\n        clock.changes.run(applyDataChange);\r\n        clock.updates.run(updateNode);\r\n        clock.disposes.run(dispose);\r\n        // if there are still changes after excessive batches, assume runaway            \r\n        if (count++ > 1e5) {\r\n            throw new Error(\"Runaway clock detected\");\r\n        }\r\n    }\r\n    RunningClock = running;\r\n}\r\nfunction applyDataChange(data) {\r\n    data.value = data.pending;\r\n    data.pending = NOTPENDING;\r\n    if (data.log)\r\n        markComputationsStale(data.log);\r\n}\r\nfunction markComputationsStale(log) {\r\n    var node1 = log.node1, nodes = log.nodes;\r\n    // mark all downstream nodes stale which haven't been already\r\n    if (node1 !== null)\r\n        markNodeStale(node1);\r\n    if (nodes !== null) {\r\n        for (var i = 0, len = nodes.length; i < len; i++) {\r\n            markNodeStale(nodes[i]);\r\n        }\r\n    }\r\n}\r\nfunction markNodeStale(node) {\r\n    var time = RootClock.time;\r\n    if (node.age < time) {\r\n        node.age = time;\r\n        node.state = STALE;\r\n        RootClock.updates.add(node);\r\n        if (node.owned !== null)\r\n            markOwnedNodesForDisposal(node.owned);\r\n        if (node.log !== null)\r\n            markComputationsStale(node.log);\r\n    }\r\n}\r\nfunction markOwnedNodesForDisposal(owned) {\r\n    for (var i = 0; i < owned.length; i++) {\r\n        var child = owned[i];\r\n        child.age = RootClock.time;\r\n        child.state = CURRENT;\r\n        if (child.owned !== null)\r\n            markOwnedNodesForDisposal(child.owned);\r\n    }\r\n}\r\nfunction updateNode(node) {\r\n    if (node.state === STALE) {\r\n        var owner = Owner, running = RunningNode;\r\n        Owner = RunningNode = node;\r\n        node.state = RUNNING;\r\n        cleanup(node, false);\r\n        node.value = node.fn(node.value);\r\n        node.state = CURRENT;\r\n        Owner = owner;\r\n        RunningNode = running;\r\n    }\r\n}\r\nfunction cleanup(node, final) {\r\n    var source1 = node.source1, sources = node.sources, sourceslots = node.sourceslots, cleanups = node.cleanups, owned = node.owned, i, len;\r\n    if (cleanups !== null) {\r\n        for (i = 0; i < cleanups.length; i++) {\r\n            cleanups[i](final);\r\n        }\r\n        node.cleanups = null;\r\n    }\r\n    if (owned !== null) {\r\n        for (i = 0; i < owned.length; i++) {\r\n            dispose(owned[i]);\r\n        }\r\n        node.owned = null;\r\n    }\r\n    if (source1 !== null) {\r\n        cleanupSource(source1, node.source1slot);\r\n        node.source1 = null;\r\n    }\r\n    if (sources !== null) {\r\n        for (i = 0, len = sources.length; i < len; i++) {\r\n            cleanupSource(sources.pop(), sourceslots.pop());\r\n        }\r\n    }\r\n}\r\nfunction cleanupSource(source, slot) {\r\n    var nodes = source.nodes, nodeslots = source.nodeslots, last, lastslot;\r\n    if (slot === -1) {\r\n        source.node1 = null;\r\n    }\r\n    else {\r\n        last = nodes.pop();\r\n        lastslot = nodeslots.pop();\r\n        if (slot !== nodes.length) {\r\n            nodes[slot] = last;\r\n            nodeslots[slot] = lastslot;\r\n            if (lastslot === -1) {\r\n                last.source1slot = slot;\r\n            }\r\n            else {\r\n                last.sourceslots[lastslot] = slot;\r\n            }\r\n        }\r\n    }\r\n}\r\nfunction dispose(node) {\r\n    node.fn = null;\r\n    node.log = null;\r\n    cleanup(node, true);\r\n}\r\n","/**\n * Contributor to a project to whom work can be assigned.\n *\n * A contributor can have one or more members.\n */\nexport interface Contributor {\n  /**\n   * Identifier for this contributor. If the contributor exists in YouTrack as a user, this should be the\n   * YouTrack-internal ID (YouTrack REST API entity name\n   * [User](https://www.jetbrains.com/help/youtrack/standalone/api-entity-User.html)), so that issue assignees in\n   * YouTrack can be considered for scheduling.\n   */\n  id: string;\n\n  /**\n   * The number of minutes per week each member of this contributor is available.\n   */\n  minutesPerWeek: number;\n\n  /**\n   * The number of members in this group.\n   *\n   * By default, there is only a single member; that is, 1.\n   */\n  numMembers?: number;\n}\n\n/**\n * Human-readable error message that can be displayed to the user.\n */\nexport type Failure = string;\n\n/**\n * Returns whether the given value is a {@link Failure}.\n */\nexport function isFailure(value: any): value is Failure {\n  return typeof value === 'string';\n}\n\n/**\n * An issue activity is a time period in which work was or is scheduled to be performed on an issue.\n *\n * Timestamps are in milliseconds since January 1, 1970 00:00:00 UTC. That is, all timestamps are in real time (and not\n * relative to work time).\n */\nexport interface IssueActivity {\n  /**\n   * If the activity is in the past: YouTrack-internal ID of the assignee (YouTrack REST API entity name\n   * [User](https://www.jetbrains.com/help/youtrack/standalone/api-entity-User.html)) or, if there was no assignee,\n   * the empty string. If the activity is scheduled for the future: the contributor id {@link Contributor.id}.\n   */\n  assignee: string;\n\n  /**\n   * The start timestamp of the activity (including).\n   */\n  start: number;\n\n  /**\n   * The end timestamp of the activity (excluding).\n   *\n   * If the issue activity has no scheduled end, this property is `Number.MAX_SAFE_INTEGER`.\n   */\n  end: number;\n\n  /**\n   * Whether this activity represents wait time.\n   *\n   * If true, this activity does not prevent other issues from being assigned concurrently to the same assignee.\n   * However, any dependent issue can only start once all work on this issue has finished and all wait time has elapsed.\n   */\n  isWaiting: boolean;\n}\n\n/**\n * Node in an issue tree (or forest).\n *\n * In an issue tree (or forest), there is a one-to-one correspondence between {@link SchedulableIssue} objects and\n * {@link IssueNode} objects. Parent-child and dependency relationships are “lifted” to {@link IssueNode}. That is, the\n * dependencies of an {@link IssueNode} `a` are just those nodes that correspond to the issues referenced by\n * `a.issue.dependencies`.\n *\n * See also {@link makeForest}().\n */\nexport interface IssueNode<T extends SchedulableIssue> {\n  /**\n   * Index of {@link issue} in the underlying (flat) array that was used to create this tree.\n   */\n  index: number;\n\n  /**\n   * The issue corresponding to the current node.\n   */\n  issue: T;\n\n  /**\n   * The parent of the the current issue node, or `undefined` if this node is a root node.\n   */\n  parent?: IssueNode<T>;\n\n  /**\n   * Children of the current issue node.\n   */\n  children: IssueNode<T>[];\n\n  /**\n   * Dependencies of the current issue node.\n   */\n  dependencies: IssueNode<T>[];\n\n  /**\n   * Dependents of the current issue node.\n   */\n  dependents: IssueNode<T>[];\n}\n\n/**\n * An issue activity with one or more assignees.\n *\n * See {@link IssueActivity} and {@link groupByIntervalAndWaitStatus}().\n */\nexport interface MultiAssigneeIssueActivity extends Omit<IssueActivity, 'assignee'> {\n  /**\n   * Assignees for this issue activity, during the time interval from {@link IssueActivity.start} to\n   * {@link IssueActivity.end}.\n   *\n   * The same guarantees hold as for {@link IssueActivity.assignee}. Additionally, the array is non-empty.\n   */\n  assignees: string[];\n}\n\n/**\n * Callback for progress updates.\n *\n * @param ProgressCallback.percentageDone progress in percent; that is, a number (not necessarily integer) between\n *     0 and 100\n */\nexport type ProgressCallback = (percentageDone: number) => void;\n\n/**\n * A project plan.\n *\n * A project plan contains the current status of the issues in a YouTrack saved search. Additionally, it may also\n * contain the past project schedule reconstructed from the YouTrack activity log, and the future schedule computed from\n * YouTrack issue metadata plus the list of available contributors.\n */\nexport interface ProjectPlan {\n  /**\n   * Issues and their computed scheduling.\n   */\n  issues: YouTrackIssue[];\n\n  /**\n   * Warnings that may indicate incomplete or invalid data in YouTrack.\n   */\n  warnings: ProjectPlanWarning[];\n}\n\n/**\n * A warning concerning a project plan.\n */\nexport interface ProjectPlanWarning {\n  /**\n   * Human-readable warning message that can be displayed to the user.\n   */\n  description: string;\n\n  /**\n   * Issue identifier if the warning pertains to a specific issue, otherwise undefined.\n   */\n  issueId?: string;\n}\n\n/**\n * Options for retrieving YouTrack issue data and building a project plan.\n */\nexport interface RetrieveProjectPlanOptions {\n  /**\n   * Callback for progress updates.\n   *\n   * By default, there is no callback.\n   */\n  progressCallback?: ProgressCallback;\n\n  /**\n   * Whether issue activities should be omitted, in which case {@link YouTrackIssue.issueActivities} will be the empty\n   * array for all issues.\n   *\n   * Retrieving past issue activities is the most time-consuming part of reconstructing a project plan. If the activity\n   * information is not required, this option should therefore be set to `true`.\n   *\n   * By default, this is `false`; that is, issue activities *are* retrieved.\n   */\n  omitIssueActivities?: boolean;\n\n  /**\n   * Interval (in milliseconds) in which progress updates will be provided to the callback.\n   *\n   * By default, this is 200 milliseconds.\n   */\n  progressUpdateIntervalMs?: number;\n\n  /**\n   * Number of elements per HTTP request to array resources. See also {@link httpGetAll}().\n   *\n   * By default, this is 100.\n   */\n  restBatchSize?: number;\n}\n\n/**\n * An issue that can be scheduled.\n *\n * This interface contains all issue information relevant to its (future) scheduling.\n */\nexport interface SchedulableIssue {\n  /**\n   * Identifier.\n   *\n   * This corresponds to property `idReadable` of YouTrack REST API entity\n   * [Issue](https://www.jetbrains.com/help/youtrack/standalone/api-entity-Issue.html).\n   */\n  id: string;\n\n  /**\n   * The remaining ideal time (aka effort) for this issue, in milliseconds.\n   *\n   * The ideal time is relative to the regular work time. It *does not* include time for subissues. If this issue is a\n   * parent issue, this number is therefore typically different from the corresponding property stored in the issue\n   * tracker (where, by assumption, the remaining effort required for subissues *is* included in the remaining effort of\n   * the parent issue). If, in the issue tracker, the remaining effort is less than the total remaining effort of all\n   * subissues, the property in this interface is 0 (it is *never* negative).\n   */\n  remainingEffortMs: number;\n\n  /**\n   * The remaining wait time for this issue, in milliseconds.\n   *\n   * The wait time is relative to the regular work time. For example, if the regular work time is 40h/week, and the\n   * wait time is 16h, then this is 2 days in real time. This number is independent of the wait time of any subissues.\n   * (And it would *not* make sense to configure the issue tracker to sum or otherwise aggregate the wait time of\n   * subissues.)\n   *\n   * By default, there is no remaining wait time; that is, this property is 0.\n   */\n  remainingWaitTimeMs?: number;\n\n  /**\n   * Issue identifier (see {@link id}) of the parent issue.\n   *\n   * By default, the issue has no parent; that is, this property is the empty string.\n   */\n  parent?: string;\n\n  /**\n   * Whether this issue can be split across more than one person.\n   *\n   * By default, this is false.\n   */\n  splittable?: boolean;\n\n  /**\n   * Identifiers (see {@link id}) of the issues that this issue depends on.\n   *\n   * This includes only dependencies that are known.\n   *\n   * By default, there are no dependencies.\n   */\n  dependencies?: string[];\n\n  /**\n   * YouTrack-internal ID of the current assignee (YouTrack REST API entity name\n   * [User](https://www.jetbrains.com/help/youtrack/standalone/api-entity-User.html)), or empty string if none.\n   */\n  assignee?: string;\n}\n\n/**\n * A schedule for issues with remaining effort or wait time.\n */\nexport type Schedule = ScheduledIssue[];\n\n/**\n * Scheduled activities for an issue with remaining effort or wait time.\n *\n * The same guarantees hold as for {@link YouTrackIssue.issueActivities}.\n */\nexport type ScheduledIssue = IssueActivity[];\n\n/**\n * Options for scheduling issues with remaining effort or wait time.\n *\n * It’s important to distinguish:\n * - Elapsed time (aka duration). [Cohn (2006, “Agile Estimating and Planning”)](http://www.worldcat.org/oclc/935197594)\n *   defines this as “the amount of time that passes on a clock (or perhaps a calendar).”\n * - Ideal time (aka effort or work). This, in contrast, is the “amount of time that something takes when stripped of\n *   all peripheral activities” (ibid.). Ideal time also does not contain time off work (such as nights or weekend).\n *\n * It is further important to define whether a quantity is given relative to the:\n * - actual work time of a contributor (say, 20h/week in case of part-time),\n * - regular work time (say, 40h/week), or\n * - real time (aka elapsed or wall-clock time; that is, 7 * 24h/week).\n *\n * In practice, this usually only affects the conversion factors between hours and days (say, 8h/d or 24h/d), and\n * between days and weeks (say, 5d/week vs. 7d/week).\n *\n * Finally, there are different options for mapping from work time to real time:\n * - Using the contributors’s work schedule (say, Monday through Friday, between 9am and 5pm) as a step function. No\n *   activity is scheduled outside these time windows.\n * - Interpolation. Here, the simplified assumption is that work time is evenly distributed over the entire real week.\n *   While this choice is arguably less realistic, it has the benefit of simplicity, and is often still sufficient for\n *   estimation purposes.\n *\n * In this module, in the absence of further qualification, elapsed time is meant relative to real time (24h/d and\n * 7d/week), and ideal time is meant relative to regular work time (which is\n * [configurable in YouTrack](https://www.jetbrains.com/help/youtrack/standalone/resource-api-admin-timeTrackingSettings-workTimeSettings.html)).\n * This module uses interpolation to convert from work time to real time. (The ceiling function is used for any integer\n * conversion.)\n */\nexport interface SchedulingOptions {\n  /**\n   * Contributors between whom all work will be allocated.\n   */\n  contributors: Contributor[];\n\n  /**\n   * The number of minutes in a work week.\n   *\n   * This number defines the conversion factor between regular work time (say, 40h/week) and real time (7 * 24h/week).\n   *\n   * By default, this is 5d * 8h/d * 60min/h = 2400min.\n   */\n  minutesPerWeek?: number;\n\n  /**\n   * Resolution (in milliseconds) of the computed schedule. More precisely, the duration of one quantum (unit) of\n   * regular work time.\n   *\n   * The effect of this property is a quantization of time. Specifically, any elapsed time *relative to regular work\n   * time* is always a multiple of this setting.\n   *\n   * By default, this is 1 hour; that is, 3,600,000ms.\n   */\n  resolutionMs?: number;\n\n  /**\n   * Minimum ideal time (in multiples of {@link resolutionMs}) that each issue activity must have in order\n   * for the issue to be preemptable or splittable across more than one person.\n   *\n   * By default, this is 1.\n   */\n  minActivityDuration?: number;\n\n  /**\n   * Timestamp of the earliest point in time when unresolved issues with remaining effort or wait time can be scheduled.\n   *\n   * By default, the current time returned by `Date.now()` will be used.\n   */\n  predictionStartTimeMs?: number;\n}\n\n/**\n * Configuration of YouTrack.\n *\n * This defines the meaning of the\n * [YouTrack custom fields](https://www.jetbrains.com/help/youtrack/standalone/Custom-Fields.html) that pertain to\n * reconstructing a project plan from the activity log.\n */\nexport interface YouTrackConfig {\n  /**\n   * YouTrack-internal ID of the custom field (YouTrack REST API entity name\n   * [CustomField](https://www.jetbrains.com/help/youtrack/standalone/api-entity-CustomField.html)) that contains the\n   * state of an issue.\n   *\n   * The [field type](https://www.jetbrains.com/help/youtrack/standalone/Supported-Custom-Field-Types.html) must be\n   * `state`.\n   */\n  stateFieldId: string;\n\n  /**\n   * YouTrack-internal IDs of the unresolved states (YouTrack REST API entity name\n   * [StateBundleElement](https://www.jetbrains.com/help/youtrack/standalone/api-entity-StateBundleElement.html)) that\n   * should be considered inactive (that is, not being worked on).\n   */\n  inactiveStateIds: string[];\n\n  /**\n   * YouTrack-internal ID of the custom field that contains the remaining effort of an issue.\n   */\n  remainingEffortFieldId?: string;\n\n  /**\n   * YouTrack-internal ID of the custom field that contains the remaining wait time of an issue.\n   */\n  remainingWaitFieldId?: string;\n\n  /**\n   * YouTrack-internal ID of the custom field (YouTrack REST API entity name\n   * [CustomField](https://www.jetbrains.com/help/youtrack/standalone/api-entity-CustomField.html)) that contains the\n   * assignee of an issue.\n   *\n   * The [field type](https://www.jetbrains.com/help/youtrack/standalone/Supported-Custom-Field-Types.html) must be\n   * `user[1]`.\n   */\n  assigneeFieldId?: string;\n\n  /**\n   * Array of IDs of custom fields whose value should be included in the result.\n   *\n   * The values of these custom fields will be reported in {@link YouTrackIssue.customFields}. Currently, only\n   * single-value enum custom fields are supported. If an issue has no value for the custom field type (or a value that\n   * is not a single-value enum), the property will not be set in the result.\n   */\n  otherCustomFieldIds?: string[];\n\n  /**\n   * YouTrack-internal ID of the issue link type (YouTrack REST API entity name\n   * [IssueLinkType](https://www.jetbrains.com/help/youtrack/standalone/api-entity-IssueLinkType.html)) that\n   * establishes a finish-to-start dependency.\n   *\n   * Property {@link doesInwardDependOnOutward} determines the direction of the link type.\n   */\n  dependsLinkTypeId: string;\n\n  /**\n   * Whether the issue on the inward (target) side of the connection identified by {@link dependsLinkTypeId} depends on\n   * the issue on the outward (source) side.\n   *\n   * If this property is false, then it is the other way round.\n   *\n   * By default, this is true (which corresponds to the\n   * [YouTrack default setting](https://www.jetbrains.com/help/youtrack/standalone/Link-Issues.html) for the “Depend”\n   * issue link type).\n   */\n  doesInwardDependOnOutward?: boolean;\n\n  /**\n   * YouTrack-internal ID of the saved search whose issues will be retrieved.\n   *\n   * The order of the issues in the saved search is significant, as the list scheduling algorithm depends on it. Field\n   * {@link overlaySavedQueryId} can be used to override the order for a subset of the issues.\n   *\n   * Note that {@link ProjectPlan.issues} will follow the order of {@link savedQueryId} (with overlay).\n   */\n  savedQueryId: string;\n\n  /**\n   * YouTrack-internal ID of the saved search that contains an overlay order for a subset of the issues.\n   *\n   * As an example, suppose the issues in {@link savedQueryId} are A, B, C, D (in that order), and the issues in\n   * {@link overlaySavedQueryId} are F, D, E, B. In this case, issues E and F are ignored (because they are not\n   * contained in {@link savedQueryId}). The remaining issues B and D must appear in the overlay order, but any issue\n   * not in {@link overlaySavedQueryId} must be left in place. Consequently, the final order for the algorithm (and\n   * also in the output {@link ProjectPlan.issues}) is A, D, C, B.\n   */\n  overlaySavedQueryId?: string;\n\n  /**\n   * Duration (in milliseconds) below which a state change from active to inactive and back (or vice versa) is removed.\n   *\n   * For example, if `minStateChangeDurationMs` is 301, and the activity logs show that an issue was worked on between\n   * timestamp 100 and 400, and then again between timestamp 700 to 1000, then only one active period from 100 to 1000\n   * will actually be reported. On the other hand, if `minStateChangeDurationMs` is 901, then no active periods would be\n   * reported. If there is ambiguity whether to remove an inactive or active phase (as in the example), the inactive\n   * phase is removed.\n   */\n  minStateChangeDurationMs?: number;\n\n  /**\n   * The remaining effort (in milliseconds) for an unresolved issue where the custom field identified by\n   * {@link YouTrackConfig.remainingEffortFieldId} has no value.\n   *\n   * If the remaining effort for an issue has no value, a warning will be added to {@link ProjectPlan.warnings}.\n   *\n   * By default (if this property is undefined), this is 0.\n   */\n  defaultRemainingEffortMs?: number;\n\n  /**\n   * The remaining wait time (in milliseconds) for an unresolved issue where the custom field identified by\n   * {@link YouTrackConfig.remainingWaitFieldId} has no value.\n   *\n   * If the remaining wait time for an issue has no value, a warning will be added to {@link ProjectPlan.warnings}.\n   *\n   * By default (if this property is undefined), this is 0.\n   */\n  defaultWaitTimeMs?: number;\n\n  /**\n   * User-defined function that determines whether a given YouTrack issue is splittable across multiple persons.\n   *\n   * The function must not modify the issue given as argument.\n   *\n   * By default, no issue is splittable across multiple persons.\n   *\n   * @param issue the YouTrack issue\n   * @return whether the given issue is splittable\n   */\n  isSplittableFn?(issue: YouTrackIssue): boolean;\n}\n\n/**\n * A YouTrack issue and its scheduling.\n *\n * Timestamps are in milliseconds since January 1, 1970 00:00:00 UTC.\n *\n * Note that this interface inherits from Required<{@link SchedulableIssue}> (unfortunately, TypeDoc is unable to\n * interpret the extends clause of this class).\n */\nexport interface YouTrackIssue extends Required<SchedulableIssue> {\n  /**\n   * The issue summary (that is, title).\n   */\n  summary: string;\n\n  /**\n   * Issue activities; that is, periods in which the issue is active/scheduled.\n   *\n   * The activities are sorted by {@link IssueActivity.end}. If there are several issue activities with the same end\n   * timestamp but different assignees, the order among them is undefined (though deterministic). Issue activities with\n   * the same assignee are guaranteed to not overlap (assuming each activity is a half-closed interval that excludes its\n   * end timestamp). Moreover, if `a` and `b` are two activities with `a.assignee === b.assignee` and\n   * `a.end === b.start`, then they differ in {@link IssueActivity.isWaiting}.\n   *\n   * It is guaranteed that activities representing wait time (where {@link IssueActivity.isWaiting} is true) do not\n   * overlap with any other activities.\n   *\n   * Note that {@link groupByIntervalAndWaitStatus}() can be used if activities need to be grouped by interval.\n   */\n  issueActivities: IssueActivity[];\n\n  /**\n   * Timestamp when the issue was resolved, or `Number.MAX_SAFE_INTEGER` if it is unresolved.\n   *\n   * If an issue is resolved, then the inherited properties {@link SchedulableIssue.remainingEffortMs} and\n   * {@link SchedulableIssue.remainingWaitTimeMs} are both 0 (irrespective of their actual values in YouTrack).\n   */\n  resolved: number;\n\n  /**\n   * YouTrack-internal ID of the current state of the issue (YouTrack REST API entity name\n   * [StateBundleElement](https://www.jetbrains.com/help/youtrack/standalone/api-entity-StateBundleElement.html)), or\n   * empty string if the state field is not set.\n   */\n  state: string;\n\n  /**\n   * Dictionary of custom field values.\n   *\n   * The keys in this dictionary are (possibly a subset of) the elements in\n   * {@link YouTrackConfig.otherCustomFieldIds}. Each value is the ID of the enum bundle element (YouTrack REST API\n   * entity name\n   * [EnumBundleElement](https://www.jetbrains.com/help/youtrack/standalone/api-entity-EnumBundleElement.html)).\n   * If an issue has no value for a custom field, the entry is omitted from the dictionary.\n   */\n  customFields: {[id: string]: string};\n}\n","import { IssueNode, SchedulableIssue } from './api-types';\n\n/**\n * Creates an issue tree (or forest) representing the given issues, and returns an iterable over all root nodes.\n *\n * @typeparam T the issue type\n * @param issues Array of issues. The array is expected to be “closed” in the sense that a parent or dependency\n *     referenced by any of the issues is guaranteed to be contained in `issues`, too.\n * @return An iterable over all root nodes. The iterable will return the root nodes in the order they appeared in the\n *     array. Likewise, the children of each node (at any level) will be stored in input order.\n */\nexport function makeForest<T extends SchedulableIssue>(issues: T[]): Iterable<IssueNode<T>> {\n  const idToNode: Map<string, IssueNode<T>> = issues\n      .reduce((map, issue, index) => map.set(issue.id, {\n        index,\n        issue,\n        children: [],\n        dependencies: [],\n        dependents: [],\n      }), new Map<string, IssueNode<T>>());\n  // Creating array, so we later close over a simple data structure instead of a map.\n  const nodes: IssueNode<T>[] = Array.from(idToNode.values());\n  for (const node of nodes) {\n    const issue: T = node.issue;\n    const parentKey: string | undefined = issue.parent;\n    if (parentKey !== undefined && parentKey.length > 0) {\n      node.parent = idToNode.get(parentKey)!;\n      node.parent.children.push(node);\n    }\n\n    if (issue.dependencies !== undefined) {\n      for (const dependency of issue.dependencies) {\n        const dependencyNode: IssueNode<T> = idToNode.get(dependency)!;\n        dependencyNode.dependents.push(node);\n        node.dependencies.push(dependencyNode);\n      }\n    }\n  }\n  return {\n    * [Symbol.iterator]() {\n      for (const node of nodes[Symbol.iterator]()) {\n        if (node.parent === undefined) {\n          yield node;\n        }\n      }\n    },\n  };\n}\n\n/**\n * Traverses each of the given issue trees and invokes the given visitor functions.\n *\n * @typeparam T the issue type\n * @param rootNodes The root nodes of the trees making up the forest.\n * @param enterNode Visitor function that will be called on entering a node (that is, before any of its children have\n *     been visited).\n * @param enterNode.node The node that is currently being visited.\n * @param leaveNode Visitor function that will be called on leaving a node (that is, after all of its children have been\n *     visited).\n * @param leaveNode.node The node that is currently being visited.\n */\nexport function traverseIssueForest<T extends SchedulableIssue>(\n    rootNodes: Iterable<IssueNode<T>>,\n    enterNode: (node: IssueNode<T>) => void,\n    leaveNode: (node: IssueNode<T>) => void = () => { /* no-op */ }\n): void {\n  let currentIterator: Iterator<IssueNode<T>> = rootNodes[Symbol.iterator]();\n  const stack: [IssueNode<T>, Iterator<IssueNode<T>>][] = [];\n  while (true) {\n    const iteratorResult = currentIterator.next();\n    if (iteratorResult.done) {\n      if (stack.length === 0) {\n        break;\n      }\n      let node: IssueNode<T>;\n      [node, currentIterator] = stack.pop()!;\n      leaveNode(node);\n    } else {\n      const node: IssueNode<T> = iteratorResult.value;\n      enterNode(node);\n      if (node.children.length > 0) {\n        stack.push([node, currentIterator]);\n        currentIterator = node.children[Symbol.iterator]();\n      } else {\n        leaveNode(node);\n      }\n    }\n  }\n}\n","/**\n * Internal message interface between the worker and the master.\n *\n * None of this is public API.\n */\n\n/* API documentation barrier. */\n\nimport { SchedulingFailure } from './api-types';\nimport { computeSchedule } from './scheduling';\n\n// Ambient declarations.\n//\n// We do not rely on the TypeScript webworker library, because the current file is meant to be importable also by code\n// that requires the DOM library. However, Web Worker API and DOM are at present mutually exclusive.\n// https://github.com/Microsoft/TypeScript/issues/20595\n// Since the Web Worker API used in this file is extremely simple, we just make the declarations ourselves here.\n\ndeclare global {\n  /**\n   * A web worker’s global scope.\n   */\n  interface DedicatedWorkerGlobalScope {\n    /**\n     * EventHandler to be called when a message is sent to the worker using its `postMessage()` method.\n     */\n    onmessage: ((this: DedicatedWorkerGlobalScope, event: MessageEvent) => any) | null;\n\n    /**\n     * Sends a message to the main thread that spawned the worker.\n     *\n     * The web worker API specifies an optional second argument for postMessage(), which we do not use. Unfortunately,\n     * information on the web is not crystal clear on whether it should be possible to transfer (without copying) a\n     * plain JavaScript object from the worker to the thread that spawned it. In C++ terminology, this would be called\n     * move semantics.\n     *\n     * See for instance a discussion on\n     * [StackOverflow](https://stackoverflow.com/questions/33544994/pass-object-by-reference-from-to-webworker) or a\n     * related\n     * [issue of the TypeScript project on GitHub]\n     * (https://github.com/Microsoft/TypeScript/issues/25176#issuecomment-400117198).\n     *\n     * For now the answer is, however, very clear. It is not possible. Chrome 74 reports \"Value at index 0 does not have\n     * a transferable type\" if we were to set the `transfer` argument in the postMessage() invocation to `[plainObject]`\n     * (i.e., an array with a plain JavaScript object as only element).\n     */\n    postMessage(message: any): void;\n\n    /**\n     * Closes the worker from inside the worker itself.\n     */\n    close(): void;\n  }\n\n  /**\n   * The DedicatedWorkerGlobalScope constructor.\n   */\n  // tslint:disable-next-line:variable-name\n  let DedicatedWorkerGlobalScope: new() => DedicatedWorkerGlobalScope;\n}\n\n/**\n * Type guard that returns whether the given value is a {@link DedicatedWorkerGlobalScope}.\n */\nexport function isDedicatedWorkerGlobalScope(value: any): value is DedicatedWorkerGlobalScope {\n  return typeof DedicatedWorkerGlobalScope === 'function' && value instanceof DedicatedWorkerGlobalScope;\n}\n\n\n// Internal interfaces\n\n/**\n * Message from master to worker with all information to start processing.\n */\nexport type ComputeScheduleParameters = Parameters<typeof computeSchedule>;\n\n/**\n * Message from worker to master containing the result.\n */\nexport type ComputeScheduleReturnType = ReturnType<typeof computeSchedule>;\n\n/**\n * Factory for a web worker.\n *\n * The {@link Worker} constructor requires a script URL that is either absolute or relative *to the the domain* of the\n * current script. See: https://html.spec.whatwg.org/multipage/workers.html#dom-worker\n *\n * Unfortunately, the location of the current script is generally unknowable. Additionally, in case of the UMD\n * distribution of this module, the worker script is the simply the current script (for ease of distribution).\n * Otherwise, the worker script is in a separate file, and we expect a bundler to substitute the correct absolute URL at\n * build time.\n */\nexport interface WorkerFactory {\n  /**\n   * Creates and returns a new {@link Worker}, or a failure if an error occurs.\n   */\n  createWorker?: () => Worker | SchedulingFailure;\n}\n\nexport const workerFactory: WorkerFactory = {};\n","// Builders like Parcel substitute the constructor argument if it is a relative path.\nimport { workerFactory } from './worker-interface';\n\nworkerFactory.createWorker = () => new Worker('./worker.ts');\n","/**\n * A classical min-heap.\n */\n\n/** API documentation barrier */\n\n/**\n * Comparator function for the min-heap.\n */\nexport type Comparator<T> = (left: T, right: T) => number;\n\nfunction parentIdx(idx: number): number {\n  return Math.trunc((idx - 1) / 2);\n}\n\nfunction leftChildIdx(idx: number): number {\n  return 2 * idx + 1;\n}\n\nfunction rightChildIdx(idx: number): number {\n  return 2 * idx + 2;\n}\n\nfunction swap<T>(array: T[], leftIdx: number, rightIdx: number): void {\n  const temp = array[leftIdx];\n  array[leftIdx] = array[rightIdx];\n  array[rightIdx] = temp;\n}\n\nfunction heapify<T>(array: T[], comparatorFn: Comparator<T>, rootIdx: number) {\n  // Precondition: indices leftChildIdx(rootIdx) and rightChildIdx(rootIdx) are roots of heaps\n  let currentIdx = rootIdx;\n  do {\n    let minIdx = currentIdx;\n    const l = leftChildIdx(currentIdx);\n    if (l < array.length && comparatorFn(array[l], array[minIdx]) < 0) {\n      minIdx = l;\n    }\n    const r = rightChildIdx(currentIdx);\n    if (r < array.length && comparatorFn(array[r], array[minIdx]) < 0) {\n      minIdx = r;\n    }\n    if (minIdx === currentIdx) {\n      break;\n    }\n    swap(array, currentIdx, minIdx);\n    currentIdx = minIdx;\n  } while (true);\n}\n\n/**\n * A binary min-heap.\n *\n * @typeparam T the type of elements held in this min heap\n */\nexport default class MinHeap<T> {\n  private readonly comparatorFn_: Comparator<T>;\n  private readonly array_: T[];\n\n  constructor(iterable: Iterable<T>, comparatorFn: Comparator<T>) {\n    this.comparatorFn_ = comparatorFn;\n    this.array_ = Array.from(iterable);\n    for (let i = Math.trunc(this.array_.length / 2) - 1; i >= 0; --i) {\n      heapify(this.array_, this.comparatorFn_, i);\n    }\n  }\n\n  /**\n   * Inserts the given element into this min-heap.\n   *\n   * The runtime of this operation is O(log n).\n   *\n   * @param element the element to add\n   */\n  public add(element: T): void {\n    this.array_.push(element);\n    let currentIdx = this.array_.length - 1;\n    do {\n      const p = parentIdx(currentIdx);\n      if (currentIdx <= 0 || this.comparatorFn_(this.array_[p], this.array_[currentIdx]) < 0) {\n        break;\n      }\n      swap(this.array_, p, currentIdx);\n      currentIdx = p;\n    } while (true);\n  }\n\n  /**\n   * Retrieves and removes the minimum element of this min-heap.\n   *\n   * The runtime of this operation is O(log n).\n   *\n   * @return the minimum element or undefined if the min-heap is empty\n   */\n  public extractMin(): T | undefined {\n    if (this.array_.length === 0) {\n      return undefined;\n    } else if (this.array_.length === 1) {\n      return this.array_.pop();\n    }\n\n    const min = this.array_[0];\n    this.array_[0] = this.array_.pop()!;\n    heapify(this.array_, this.comparatorFn_, 0);\n    return min;\n  }\n\n  /**\n   * Returns whether this min-heap is empty.\n   */\n  public isEmpty(): boolean {\n    return this.array_.length === 0;\n  }\n}\n","/**\n * Algorithm for project planning. More precisely, *list scheduling* with support for machines running at different\n * speeds, optional preemption, optional splitting of jobs across machines, release dates, and delivery times.\n *\n * See README file for details.\n */\n\n/** API documentation barrier */\n\nimport { strict as assert } from 'assert';\nimport {\n  Job,\n  JobFragment,\n  JobSplitting,\n  Schedule,\n  ScheduledJob,\n  SchedulingFailure,\n  SchedulingInstance,\n} from './api-types';\nimport MinHeap from './minheap';\n\n/**\n * Type that consists of the union of all properties that are marked as optional through a question mark.\n *\n * Note that properties that have undefined in their domain, but no question mark next to the property name are *not*\n * included. Also note that, in strict compilation mode, TypeScript will add undefined to the domain of the property if\n * there is a question mark next to the property name.\n *\n * @typeparam T generic type parameter\n */\ntype OptionalPropertyNames<T extends {}> = {[K in keyof T]-?: {} extends {[_ in K]: T[K]} ? K : never}[keyof T];\ntype Defined<T> = T extends undefined ? never : T;\ntype OnlyOptionals<T extends {}> = {[K in OptionalPropertyNames<T>]: Defined<T[K]>};\n\nconst JOB_DEFAULTS = Object.freeze<OnlyOptionals<Job>>({\n  deliveryTime: 0,\n  splitting: JobSplitting.PREEMPTION,\n  dependencies: [],\n  releaseTime: 0,\n  preAssignment: -1,\n});\n\n/**\n * Runs the list scheduling algorithm on the given problem instance and returns the result.\n *\n * See [the project page](https://github.com/fschopp/project-planning-js) for more information on the algorithm.\n *\n * @param instance the problem instance\n * @return solution or a human-readable failure description if the problem instance is invalid (for example, has a\n *     cyclic dependency graph)\n */\nexport function computeSchedule(instance: SchedulingInstance): Schedule | SchedulingFailure {\n  const nonNegativeInteger = (number: number) => number >= 0 && Number.isInteger(number);\n  const positiveIntegers = (numbers: number[]) =>\n      numbers.filter((number) => number <= 0 || !Number.isInteger(number)).length === 0;\n  const undefinedOrNonNegativeInteger = (number: number | undefined) =>\n      number === undefined || nonNegativeInteger(number);\n  const undefinedOrNonNegativeIntegers = (...numbers: (number | undefined)[]) =>\n      numbers.filter((number) => !undefinedOrNonNegativeInteger(number)).length === 0;\n  const undefinedOrIntegerWithinZeroTo = (upperBoundExcl: number, number: number | undefined) =>\n      number === undefined || nonNegativeInteger(number) && number < upperBoundExcl;\n  const integersWithinZeroTo = (upperBoundExcl: number, numbers: number[]) =>\n      numbers.filter((number) => !(number >= 0 && nonNegativeInteger(number) && number < upperBoundExcl)).length === 0;\n\n  const numMachines: number = instance.machineSpeeds.length;\n  const numJobs: number = instance.jobs.length;\n\n  if (numMachines === 0) {\n    return 'At least one machine is required to compute a schedule.';\n  } else if (\n      !positiveIntegers(instance.machineSpeeds) ||\n      instance.jobs.filter((job) =>\n          !nonNegativeInteger(job.size) ||\n          !undefinedOrNonNegativeIntegers(job.deliveryTime, job.releaseTime) ||\n          !undefinedOrIntegerWithinZeroTo(numMachines, job.preAssignment) ||\n          (job.dependencies !== undefined && !integersWithinZeroTo(numJobs, job.dependencies))\n      ).length > 0 ||\n      !undefinedOrNonNegativeInteger(instance.minFragmentSize)\n  ) {\n    return 'All job processing times and machine speeds need to be non-negative integers. ' +\n        'All job dependency and pre-assignment indices need to be within bounds.';\n  }\n\n  const jobs: Required<Job>[] = instance.jobs.map((job) => Object.assign({}, JOB_DEFAULTS, job));\n  const minFragmentSize: number = instance.minFragmentSize === undefined ? 0 : instance.minFragmentSize;\n  return new ListScheduling(numMachines, instance.machineSpeeds, jobs, minFragmentSize).schedule;\n}\n\n/**\n * A gap in the schedule for a particular machine. A gap can be filled when scheduling subsequent jobs.\n */\ninterface Gap {\n  startTime: number;\n  endTime: number;\n}\n\n/**\n * Linked list of gaps.\n */\ninterface GapsList {\n  head: Gap;\n  tail: GapsList | null;\n}\n\n/**\n * A machine and associated data required by {@link ListScheduling.scheduleJob}().\n */\ninterface Machine {\n  /**\n   * Index in array of all machines.\n   *\n   * This is a value between 0 (inclusive) and the length of {@link SchedulingInstance.machineSpeeds} (exclusive).\n   */\n  readonly index: number;\n\n  /**\n   * Index in array of available machines for the current job.\n   */\n  readonly availableIdx: number;\n\n  /**\n   * Speed of the machine.\n   */\n  readonly speed: number;\n\n  /**\n   * Time when the current job fragment started on the machine, or null if the current job is not currently running on\n   * the machine.\n   */\n  currentFragmentStart: number | null;\n\n  /**\n   * Linked list of gaps.\n   *\n   * Whenever starting to schedule a job, this is initialized with a tail list of {@link ListScheduling.gapsLists_}.\n   */\n  gapsList: GapsList;\n\n  /**\n   * Node of the linked list of gaps before the current node (which is {@link gapsList}).\n   *\n   * This field is only needed to “commit” the insertion of job fragments by making changes to the gap list shared\n   * between scheduling of individual jobs.\n   */\n  previousGapsList: GapsList;\n}\n\n/**\n * Node in the job graph induced by the dependencies.\n */\ninterface JobGraphNode {\n  idx: number;\n  numDependencies: number;\n  dependents: JobGraphNode[];\n}\n\n/**\n * Abstraction for a collection of machines available for a job.\n */\ninterface AvailableMachineIndices {\n  readonly length: number;\n  forEach(callbackfn: (index: number, availableIdx: number) => void): void;\n  map<T>(callbackfn: (index: number, availableIdx: number) => T): T[];\n}\n\n/**\n * Internal class whose sole purpose is to store algorithm state, so it does not have to be inconveniently passed around\n * between functions.\n */\nclass ListScheduling {\n  public readonly schedule: Schedule | SchedulingFailure;\n\n  private readonly numMachines_: number;\n  private readonly machineSpeeds_: number[];\n  private readonly jobs_: Required<Job>[];\n  private readonly minFragmentSize_: number;\n\n  private readonly gapsLists_: GapsList[];\n\n  constructor(numMachines: number, machineSpeeds: number[], jobs: Required<Job>[], minFragmentSize: number) {\n    this.numMachines_ = numMachines;\n    this.machineSpeeds_ = machineSpeeds;\n    this.jobs_ = jobs;\n    this.minFragmentSize_ = minFragmentSize;\n\n    this.gapsLists_ = this.machineSpeeds_.map((ignoredMachineSpeed) => ({\n      head: {\n        startTime: Number.MIN_SAFE_INTEGER,\n        endTime: 0,\n      },\n      tail: {\n        head: {\n          startTime: 0,\n          endTime: Number.MAX_SAFE_INTEGER,\n        },\n        tail: null,\n      },\n    }));\n    this.schedule = this.computeSchedule();\n  }\n\n  /**\n   * Returns the next “event” for the given machine.\n   *\n   * This method has side-effects. It updates field {@link Machine.previousGapsList} and {@link Machine.gapsList} of the\n   * given machine.\n   */\n  private static nextTimeStamp(minWallClockTime: number, earliestStart: number, machine: Machine): number {\n    let currentGap: Gap = machine.gapsList.head;\n\n    assert(Number.isInteger(minWallClockTime) && Number.isInteger(earliestStart) &&\n        Number.isInteger(currentGap.startTime) && Number.isInteger(currentGap.endTime), 'Invalid arguments');\n\n    if (machine.currentFragmentStart === null) {\n      while (true) {\n        const timeStamp = Math.max(earliestStart, currentGap.startTime) + minWallClockTime;\n        if (timeStamp <= currentGap.endTime) {\n          return timeStamp;\n        }\n        assert(machine.gapsList.tail !== null, 'Invariant: last gap has endTime === Number.MAX_SAFE_INTEGER');\n        machine.previousGapsList = machine.gapsList;\n        machine.gapsList = machine.gapsList.tail!;\n        currentGap = machine.gapsList.head;\n      }\n    } else {\n      return currentGap.endTime;\n    }\n  }\n\n  /**\n   * Adjust the linked list of gaps to account for the newly scheduled job fragment.\n   *\n   * There are 4 cases to consider. The new job fragment either:\n   * 1. Fills out the current gap completely. In this case, the current gap needs to be removed\n   *    entirely.\n   * 2. Aligns with the start of the current gap, but ends before it. In this case, the start of the current gap is\n   *    changed to when the new job fragment ends.\n   * 3. Does not start with the current gap, but aligns with the end of it. In this case, the end of the current gap is\n   *    changed to when the job fragment starts.\n   * 4. If the current gap aligns with neither start nor end of the current gap, a new gap is inserted before the\n   *    current gap. It starts with the current gap and ends with the start of the job fragment. The start of the\n   *    current gap is then changed to the end of the job fragment.\n   *\n   * @param machineState State of the machine that the job fragment has been scheduled on.\n   * @param end end time of the job fragment\n   * @param commitGaps if true, then commit the updated gaps to the state that is shared across scheduling of individual\n   *     jobs\n   */\n  private adjustGaps(machineState: Machine, end: number, commitGaps: boolean): void {\n    assert(machineState.index >= 0 && machineState.index < this.numMachines_ &&\n        machineState.currentFragmentStart !== null && Number.isInteger(machineState.currentFragmentStart) &&\n        Number.isInteger(end) && machineState.currentFragmentStart <= end, 'Invalid arguments');\n\n    // machineState also points to state that is shared across scheduling of individual jobs. This shared state we must\n    // not modify if dryRun is true. We therefore cannot make modifications to the properties of\n    // machineState.previousGapsList or machineState.gap.\n\n    const start: number = machineState.currentFragmentStart!;\n    const currentGap = machineState.gapsList.head;\n\n    if (commitGaps) {\n      if (start === currentGap.startTime && end === currentGap.endTime) {\n        machineState.previousGapsList.tail = machineState.gapsList.tail;\n      } else if (start === currentGap.startTime) {\n        currentGap.startTime = end;\n      } else if (end === currentGap.endTime) {\n        currentGap.endTime = start;\n        machineState.previousGapsList = machineState.gapsList;\n        // Note that machineState.gapsList will be updated below.\n      } else {\n        machineState.previousGapsList.tail = {\n          head: {\n            startTime: currentGap.startTime,\n            endTime: start,\n          },\n          tail: machineState.gapsList,\n        };\n        currentGap.startTime = end;\n      }\n    }\n\n    if (end === currentGap.endTime) {\n      // Note that machineState.gapsList.tail === null would imply that the current gap is the last gap; that is,\n      // currentGap.endTime === Number.MAX_SAFE_INTEGER. But we are also in the case where (end === currentGap.endTime).\n      // Since we don't support schedules that long, it is safe to assert:\n      assert(machineState.gapsList.tail !== null, 'Expected currentGap.endTime < Number.MAX_SAFE_INTEGER');\n      machineState.gapsList = machineState.gapsList.tail!;\n    } else if (!commitGaps) {\n      machineState.gapsList = {\n        head: {\n          startTime: end,\n          endTime: currentGap.endTime,\n        },\n        tail: machineState.gapsList.tail,\n      };\n    }\n\n    // Upon return, we will be \"before\" the gap represented by machineState.gapsList.head.\n    machineState.currentFragmentStart = null;\n  }\n\n  private createJobFragment(machineState: Machine, end: number, scheduledJob?: ScheduledJob): void {\n    if (scheduledJob) {\n      const start: number = machineState.currentFragmentStart!;\n      if (end - start > 0) {\n        const jobFragment: JobFragment = {\n          machine: machineState.index,\n          start,\n          end,\n          isWaiting: false,\n        };\n        scheduledJob.push(jobFragment);\n      }\n    }\n    this.adjustGaps(machineState, end, scheduledJob !== undefined);\n  }\n\n  /**\n   * Schedules processing of a job and returns its completion time (excluding delivery time).\n   */\n  private scheduleJob(availableMachineIndices: AvailableMachineIndices, size: number, isPreemptible: boolean,\n      earliestStart: number, scheduledJob?: ScheduledJob): number {\n    assert(availableMachineIndices.length > 0 && Number.isInteger(size) && size >= 0 &&\n        Number.isInteger(earliestStart), 'Invalid arguments');\n\n    const minFragmentSize = isPreemptible ? Math.min(size, this.minFragmentSize_) : size;\n    let currentSpeed = 0;\n    let lastTimestamp = earliestStart;\n    let remainingSize = size;\n    const machines: Machine[] = availableMachineIndices.map((index, availableIdx): Machine => {\n      const gapsList = this.gapsLists_[index];\n      assert(gapsList.tail !== null, 'Invariant: at least 2 elements in linked list gapsList');\n      return {\n        index,\n        availableIdx,\n        speed: this.machineSpeeds_[index],\n        currentFragmentStart: null,\n        previousGapsList: gapsList,\n        gapsList: gapsList.tail!,\n      };\n    });\n\n    while (remainingSize > 0) {\n      let eventTime: number = Number.MAX_SAFE_INTEGER;\n      let machine: Machine = machines[0];\n      availableMachineIndices.forEach((index, availableIdx) => {\n        const minWallClockTime = Math.ceil(minFragmentSize / machines[availableIdx].speed);\n        const machineEventTime = ListScheduling.nextTimeStamp(minWallClockTime, earliestStart, machines[availableIdx]);\n        if (machineEventTime < eventTime) {\n          eventTime = machineEventTime;\n          machine = machines[availableIdx];\n        }\n      });\n      let isProjectedEndTime: boolean = false;\n      const currentProjectedEndTime: number = Math.ceil(lastTimestamp + remainingSize / currentSpeed);\n      if (currentProjectedEndTime < eventTime) {\n        eventTime = currentProjectedEndTime;\n        isProjectedEndTime = true;\n      }\n      assert(Number.isInteger(eventTime) && Number.isInteger(lastTimestamp) && Number.isInteger(currentSpeed),\n          'Invariant: timestamps and speeds are integers');\n      remainingSize -= (eventTime - lastTimestamp) * currentSpeed;\n      assert(!isProjectedEndTime || remainingSize <= 0,\n          'Invariant: isProjectedEndTime implies remainingSize <= 0');\n\n      if (!isProjectedEndTime) {\n        if (machine.currentFragmentStart === null) {\n          const nextGap: Gap = machine.gapsList.head;\n          machine.currentFragmentStart = Math.max(earliestStart, nextGap.startTime);\n          remainingSize -= (eventTime - machine.currentFragmentStart) * machine.speed;\n          currentSpeed += machine.speed;\n        } else {\n          this.createJobFragment(machine, eventTime, scheduledJob);\n          currentSpeed -= machine.speed;\n          assert(machine.currentFragmentStart === null && currentSpeed >= 0);\n        }\n      }\n\n      lastTimestamp = eventTime;\n      assert(Number.isInteger(lastTimestamp) && Number.isInteger(remainingSize),\n          'Invariant: timestamps and durations are integers');\n    }\n\n    availableMachineIndices.forEach((ignoredIndex, availableIdx) => {\n      if (machines[availableIdx].currentFragmentStart !== null) {\n        this.createJobFragment(machines[availableIdx], lastTimestamp, scheduledJob);\n      }\n    });\n\n    return lastTimestamp;\n  }\n\n  /**\n   * Adds the given delivery time on the given machine to the given job schedule, and returns the overall completion\n   * time of the job.\n   */\n  private static scheduleDeliveryTime(machineIdx: number, processingCompletionTime: number, deliveryTime: number,\n      scheduledJob: ScheduledJob): number {\n    assert(Number.isInteger(deliveryTime), 'Invalid arguments');\n    assert(scheduledJob.length > 0 ? processingCompletionTime === scheduledJob[scheduledJob.length - 1].end : true,\n        'Processing completion time is end timestamp of last job fragment');\n    let completionTime: number = processingCompletionTime;\n    if (deliveryTime > 0) {\n      completionTime += deliveryTime;\n      const deliveryJobFragment: JobFragment = {\n        machine: machineIdx,\n        start: processingCompletionTime,\n        end: completionTime,\n        isWaiting: true,\n      };\n      scheduledJob.push(deliveryJobFragment);\n    }\n    return completionTime;\n  }\n\n  private allMachines(): AvailableMachineIndices {\n    return {\n      length: this.machineSpeeds_.length,\n      forEach(callbackfn: (index: number, availableIdx: number) => void): void {\n        for (let i = 0; i < this.length; ++i) {\n          callbackfn(i, i);\n        }\n      },\n      map<T>(callbackfn: (index: number, availableIdx: number) => T): T[] {\n        const array: T[] = [];\n        array.length = this.length;\n        for (let i = 0; i < this.length; ++i) {\n          array[i] = callbackfn(i, i);\n        }\n        return array;\n      },\n    };\n  }\n\n  private static singleMachine(singleMachineIdx: number): AvailableMachineIndices {\n    return {\n      length: 1,\n      forEach(callbackfn: (index: number, availableIdx: number) => void): void {\n        callbackfn(singleMachineIdx, 0);\n      },\n      map<T>(callbackfn: (index: number, availableIdx: number) => T): T[] {\n        return [callbackfn(singleMachineIdx, 0)];\n      },\n    };\n  }\n\n  private computeSchedule(): Schedule | SchedulingFailure {\n    const noDependencyNodes: JobGraphNode[] = [];\n    const jobGraphNodes: JobGraphNode[] = this.jobs_.map((job, index): JobGraphNode => ({\n      idx: index,\n      numDependencies: job.dependencies.length,\n      dependents: [],\n    }));\n    for (let i = 0; i < this.jobs_.length; ++i) {\n      const job = this.jobs_[i];\n      const jobGraphNode = jobGraphNodes[i];\n      for (const dependencyIdx of job.dependencies) {\n        jobGraphNodes[dependencyIdx].dependents.push(jobGraphNode);\n      }\n      if (job.dependencies.length === 0) {\n        noDependencyNodes.push(jobGraphNode);\n      }\n    }\n\n    const allMachines: AvailableMachineIndices = this.allMachines();\n    const newSchedule: Schedule = this.jobs_.map((ignoredJob) => []);\n    const finishTimes: number[] = this.jobs_.map((ignoredJob) => -1);\n    let numScheduledJobs = 0;\n    const noDependencyNodesHeap = new MinHeap<JobGraphNode>(noDependencyNodes, (left, right) => left.idx - right.idx);\n    while (!noDependencyNodesHeap.isEmpty()) {\n      const jobGraphNode: JobGraphNode = noDependencyNodesHeap.extractMin()!;\n      const job = this.jobs_[jobGraphNode.idx];\n      const isPreemptible: boolean = job.splitting !== JobSplitting.NONE;\n      const earliestStartTime = job.dependencies.reduce((previousEarliestStartTime, dependencyIdx) => {\n        const dependencyFinishTime: number = finishTimes[dependencyIdx];\n        assert(dependencyFinishTime >= 0, 'Dependencies are scheduled before their dependents');\n        return Math.max(previousEarliestStartTime, dependencyFinishTime);\n      }, job.releaseTime);\n      let availableMachines: AvailableMachineIndices = allMachines;\n      let deliveryMachineIdx: number | undefined;\n      if (job.splitting === JobSplitting.MULTIPLE_MACHINES) {\n        deliveryMachineIdx = job.preAssignment >= 0\n            ? job.preAssignment\n            : 0;\n      } else if (job.preAssignment >= 0) {\n        availableMachines = ListScheduling.singleMachine(job.preAssignment);\n        deliveryMachineIdx = job.preAssignment;\n      } else {\n        let maxCompletionTime: number = Number.MAX_SAFE_INTEGER;\n        for (let i = 0; i < this.numMachines_; ++i) {\n          const currentAvailableMachines = ListScheduling.singleMachine(i);\n          const currentCompletionTime =\n              this.scheduleJob(currentAvailableMachines, job.size, isPreemptible, earliestStartTime);\n          if (currentCompletionTime < maxCompletionTime) {\n            availableMachines = currentAvailableMachines;\n            deliveryMachineIdx = i;\n            maxCompletionTime = currentCompletionTime;\n          }\n        }\n      }\n      assert(deliveryMachineIdx !== undefined);\n      const completionTime: number = this.scheduleJob(\n          availableMachines, job.size, isPreemptible, earliestStartTime, newSchedule[jobGraphNode.idx]);\n      finishTimes[jobGraphNode.idx] = ListScheduling.scheduleDeliveryTime(\n          deliveryMachineIdx!, completionTime, job.deliveryTime, newSchedule[jobGraphNode.idx]);\n      ++numScheduledJobs;\n      for (const dependent of jobGraphNode.dependents) {\n        --dependent.numDependencies;\n        if (dependent.numDependencies === 0) {\n          noDependencyNodesHeap.add(dependent);\n        }\n      }\n    }\n\n    return numScheduledJobs !== this.jobs_.length\n        ? 'Detected a cycle in the dependency graph.'\n        : newSchedule;\n  }\n}\n","import { strict as assert } from 'assert';\nimport { isSchedulingFailure, Schedule, SchedulingFailure } from './api-types';\nimport { ComputeScheduleParameters, ComputeScheduleReturnType, workerFactory } from './worker-interface';\n\n/**\n * Runs (in a separate thread) the list scheduling algorithm on the given problem instance and returns the result\n * asynchronously.\n *\n * See [the project page](https://github.com/fschopp/project-planning-js) for more information on the algorithm.\n *\n * @param args argument list that will be passed on to {@link computeSchedule}() unaltered\n * @return promise that will be resolved with the solution or rejected with a {@link SchedulingFailure} containing a\n *     human-readable failure description if the problem instance is invalid (for example, has a cyclic dependency\n *     graph)\n */\nexport function computeScheduleAsync(...args: ComputeScheduleParameters): Promise<Schedule> {\n  assert(workerFactory.createWorker !== undefined, 'workerFactory.createWorker cannot be undefined');\n  const worker: Worker | SchedulingFailure = workerFactory.createWorker!();\n  if (isSchedulingFailure(worker)) {\n    const failure: SchedulingFailure = worker;\n    return Promise.reject(failure);\n  }\n\n  let isSettled: boolean = false;\n  // From MDN: \"the executor is called before the Promise constructor even returns the created object\"\n  // Hence all worker callbacks are in place before we send it the \"go\" message below.\n  const promise = new Promise<Schedule>((resolve, reject) => {\n    worker.onmessage = (event: MessageEvent) => {\n      const result: ComputeScheduleReturnType = event.data;\n      if (isSchedulingFailure(result)) {\n        assert(!isSettled, 'Attempted to settle promise more than once.');\n        reject(result);\n        isSettled = true;\n      } else {\n        assert(!isSettled, 'Attempted to settle promise more than once.');\n        resolve(result);\n        isSettled = true;\n      }\n    };\n    worker.onerror = (event: ErrorEvent) => {\n      worker.terminate();\n      const failure: SchedulingFailure = 'A runtime error occurred in source file ' +\n          `${event.filename} (line ${event.lineno}:${event.colno}):\\n${event.message}`;\n      // In theory, the worker could still cause an error after it has sent its last message. However, the ES6\n      // specification says:\n      // \"Attempting to resolve or reject a resolved promise has no effect.\"\n      // https://www.ecma-international.org/ecma-262/6.0/#sec-promise-objects\n      // Hence, there is no race condition. On the other hand, we don't want to swallow the problem. Therefore, we\n      // add an assertion:\n      assert(!isSettled, 'Attempted to settle promise more than once.');\n      reject(failure);\n      isSettled = true;\n    };\n  });\n  worker.postMessage(args);\n  return promise;\n}\n","/**\n * This module is not part of the public API!\n */\n\n/* API Barrier */\n\nimport { strict as assert } from 'assert';\n\n/**\n * Type that consists of the union of all properties that are marked as optional through a question mark.\n *\n * Note that properties that have undefined in their domain, but no question mark next to the property name are *not*\n * included. Also note that, in strict compilation mode, TypeScript will add undefined to the domain of the property if\n * there is a question mark next to the property name.\n *\n * @typeparam T generic type parameter\n */\nexport type OptionalPropertyNames<T extends {}> = {[K in keyof T]-?: {} extends {[_ in K]: T[K]} ? K : never}[keyof T];\nexport type Defined<T> = T extends undefined ? never : T;\nexport type OnlyOptionals<T extends {}> = {[K in OptionalPropertyNames<T>]: Defined<T[K]>};\n\n/**\n * Copy the values of all string-keyed enumerable own properties from the source object to the target object.\n *\n * Note the differences to\n * [`Object.assign()`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/assign):\n * - Only properties with `string` keys are copied.\n * - A property of the source value that has the value `undefined` is copied only if the property key is not yet in the\n *   target. (The check is performed using the `in` operator.)\n *\n * @param target the target object\n * @param source the source object\n * @return the target object\n */\nexport function assignDefined<T extends {[key: string]: any}, U extends {[key: string]: any}>(\n    target: T, source: U | undefined): T & U {\n  const typedTarget: T & U = target as T & U;\n  if (source !== undefined) {\n    // Object.entries() returns “a given object's own enumerable string-keyed property [key, value] pairs,”\n    // https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/entries\n    for (const [key, value] of Object.entries(source)) {\n      if (!(key in target) || value !== undefined) {\n        // Casting of key necessary for type soundness:\n        // https://github.com/microsoft/TypeScript/issues/31661#issuecomment-497474815\n        typedTarget[key as keyof U] = source[key];\n      }\n    }\n  }\n  return typedTarget;\n}\n\n/**\n * Returns a deep clone of the given object.\n *\n * This function covers only what is needed in this project! It is not an equivalent to a library function.\n */\nexport function deepClone<T>(original: T): T {\n  assert(['undefined', 'object', 'boolean', 'number', 'string'].includes(typeof original),\n      'Value with unsupported type in deepClone()');\n  if (Array.isArray(original)) {\n    return original.map(deepClone) as T & any[];\n  } else if (typeof original === 'object' && original !== null) {\n    return Object.entries(original).reduce((obj, [key, value]) => {\n      // Casting of key necessary for type soundness:\n      // https://github.com/microsoft/TypeScript/issues/31661#issuecomment-497474815\n      obj[key as keyof T] = deepClone(value);\n      return obj;\n    }, {} as T & {[key: string]: any});\n  } else {\n    return original;\n  }\n}\n\n/**\n * Returns the first argument that is defined, or undefined if none of the arguments is defined.\n */\nexport function coalesce<T>(left: T | undefined, right: T): T {\n  return left === undefined ? right : left;\n}\n\n/**\n * Function that always throws an error.\n *\n * The purpose of this function is to be used as a compile-time type completeness check; for instance, in a `switch`\n * statement. Calling this function will cause no error *only if* control-flow-based type analysis infers the argument\n * type as `never` – in other words, if the function call cannot be reached.\n */\nexport function unreachableCase(x: never): never {\n  throw new Error(`Unexpected case that should be unreachable: ${x}`);\n}\n","/**\n * Types defined by the [YouTrack REST API](https://www.jetbrains.com/help/youtrack/standalone/api-entities.html).\n *\n * Not part of the public API of this project.\n */\n\n/**\n * YouTrack REST API paths.\n */\nexport const youTrackPath = Object.freeze({\n  ACTIVITIES_PAGE: 'api/activitiesPage',\n  CUSTOM_FIELD: (customFieldId: string) => `api/admin/customFieldSettings/customFields/${customFieldId}`,\n  ISSUES: (queryId: string) => `api/savedQueries/${queryId}/issues`,\n  SAVED_QUERY: (queryId: string) => `api/savedQueries/${queryId}`,\n  SORTED_ISSUES: 'api/sortedIssues',\n  STATE_BUNDLES: 'api/admin/customFieldSettings/bundles/state',\n  WORK_TIME_SETTINGS: 'api/admin/timeTrackingSettings/workTimeSettings',\n});\n\n/**\n * Hub REST API paths.\n */\nexport const hubPath = Object.freeze({\n  OAUTH: 'api/rest/oauth2/auth',\n});\n\nexport interface ActivityCursorPage {\n  afterCursor?: string;\n  hasAfter: boolean;\n  activities: ActivityItem[];\n}\n\nexport interface ActivityItem {\n  $type: string;\n  timestamp: number;\n  added: any[];\n  removed: any[];\n  field: FilterField;\n}\n\nexport interface BaseBundle extends Bundle {\n  values: BundleElement[];\n}\n\nexport interface Bundle {\n  id: string;\n}\n\nexport interface BundleCustomFieldDefaults extends CustomFieldDefaults {\n  $type: string;\n}\n\nexport interface BundleElement {\n  id: string;\n  name: string;\n  ordinal: number;\n  color: FieldStyle;\n}\n\nexport interface CustomField {\n  id: string;\n  fieldDefaults: CustomFieldDefaults;\n  fieldType: FieldType;\n  name: string;\n}\n\nexport interface CustomFieldActivityItem extends ActivityItem {\n  $type: 'CustomFieldActivityItem';\n  target: Issue;\n}\n\n// tslint:disable-next-line:no-empty-interface\nexport interface CustomFieldDefaults {}\n\nexport interface EnumBundleCustomFieldDefaults extends BundleCustomFieldDefaults {\n  bundle: EnumBundle;\n}\n\nexport interface EnumBundle extends BaseBundle {\n  values: EnumBundleElement[];\n}\n\n// tslint:disable-next-line:no-empty-interface\nexport interface EnumBundleElement extends LocalizableBundleElement {}\n\nexport interface FieldStyle {\n  background: string;\n  foreground: string;\n}\n\nexport interface FieldType {\n  id: string;\n}\n\nexport interface FilterField {\n  id: string;\n  name: string;\n}\n\nexport interface Issue {\n  $type: 'Issue';\n  created: number;\n  customFields: IssueCustomField[];\n  id: string;\n  idReadable: string;\n  links: IssueLink[];\n  parent: IssueLink;\n  subtasks: IssueLink;\n  resolved: number | null;\n  summary: string;\n  updated: number;\n}\n\nexport interface IssueCustomField {\n  $type: string;\n  projectCustomField: ProjectCustomField;\n}\n\nexport interface IssueFolder {\n  id: string;\n  name: string;\n}\n\nexport interface IssueLink {\n  direction: 'INWARD' | 'OUTWARD' | 'BOTH';\n  linkType: IssueLinkType;\n  issues: Issue[];\n}\n\nexport interface IssueLinkType {\n  directed: boolean;\n  id: string;\n  name: string;\n  sourceToTarget: string;\n  targetToSource: string;\n}\n\n// tslint:disable-next-line:no-empty-interface\nexport interface LocalizableBundleElement extends BundleElement {}\n\nexport interface PeriodIssueCustomField extends IssueCustomField {\n  $type: 'PeriodIssueCustomField';\n  value: PeriodValue | null;\n}\n\nexport function isPeriodIssueCustomField(field: any): field is PeriodIssueCustomField {\n  return field.$type === 'PeriodIssueCustomField';\n}\n\nexport interface PeriodValue {\n  minutes: number;\n}\n\nexport interface ProjectCustomField {\n  field: CustomField;\n}\n\nexport interface SavedQuery extends WatchFolder {\n  issues: Issue[];\n}\n\nexport interface SortedIssuesResponse {\n  count: number;\n}\n\nexport interface SingleUserIssueCustomField extends IssueCustomField {\n  $type: 'SingleUserIssueCustomField';\n  value: User | null;\n}\n\nexport function isSingleUserIssueCustomField(field: any): field is SingleUserIssueCustomField {\n  return field.$type === 'SingleUserIssueCustomField';\n}\n\nexport interface SingleEnumIssueCustomField extends IssueCustomField {\n  $type: 'SingleEnumIssueCustomField';\n  value: EnumBundleElement | null;\n}\n\nexport function isSingleEnumIssueCustomField(field: any): field is SingleEnumIssueCustomField {\n  return field.$type === 'SingleEnumIssueCustomField';\n}\n\nexport interface StateBundle extends BaseBundle {\n  $type: 'StateBundle';\n  values: StateBundleElement[];\n}\n\nexport interface StateBundleElement extends LocalizableBundleElement {\n  isResolved: boolean;\n}\n\nexport interface StateBundleCustomFieldDefaults extends BundleCustomFieldDefaults {\n  bundle: StateBundle;\n}\n\nexport interface StateIssueCustomField extends IssueCustomField {\n  $type: 'StateIssueCustomField';\n  value: StateBundleElement;\n}\n\nexport function isStateIssueCustomField(field: any): field is StateIssueCustomField {\n  return field.$type === 'StateIssueCustomField';\n}\n\nexport interface User {\n  id: string;\n  avatarUrl: string;\n  fullName: string;\n}\n\nexport interface WatchFolder extends IssueFolder {\n  owner: User;\n}\n\nexport interface WorkTimeSettings {\n  minutesADay: number;\n  daysAWeek: number;\n}\n\n/**\n * Error returned by the YouTrack REST API, typically in case of an invalid request.\n */\nexport interface YouTrackError {\n  error: string;\n  error_description: string;\n}\n","import * as RestApi from './you-track-rest';\n\nconst STORAGE_PREFIX = '@fschopp/you-track-planning-js';\n\nconst baseUrlToAccessTokenMap: {[baseUrl: string]: AccessToken} = {};\n\n/**\n * A YouTrack base URL and application state for temporary storage in the session storage during an OAuth2 request.\n */\ninterface BaseUrlAndAppState<T> {\n  baseUrl: string;\n  appState: T;\n}\n\n/**\n * An access token, together with its type and validity period.\n */\ninterface AccessToken {\n  type: string;\n  secret: string;\n\n  /**\n   * Timestamp in milliseconds since the epoch.\n   */\n  validUntil: number;\n}\n\n/**\n * Returns the key in the session storage where the app state is stored temporarily (while the user is on the YouTrack\n * login page).\n */\nfunction storageKeyForOauthId(oAuthId: string): string {\n  return `${STORAGE_PREFIX}/oauth${oAuthId}`;\n}\n\nfunction normalizeUrl(baseUrl: string): string {\n  return new URL(baseUrl).toString();\n}\n\n/**\n * Navigates the current window to the Jetbrains Hub OAuth2 page.\n *\n * Once successfully logged in, the OAuth2 page will redirect the browser to the given `redirectUrl`. To be able to\n * seamlessly proceed where the user left off, the current application state needs to be preserved. This method stores\n * the given application state `appState` in the\n * [session storage](https://developer.mozilla.org/en-US/docs/Web/API/Window/sessionStorage). The rationale is:\n * 1. The application state could be larger than what one would reasonably encode in the redirect URL (which is another\n *    possibility of preserving the state).\n * 2. The application state does not leak to a third party.\n *\n * Nonetheless, users of this method should be aware of the limitations of using the session storage as well. MDN has\n * some [additional information](https://developer.mozilla.org/en-US/docs/Web/API/Web_Storage_API) on this topic.\n *\n * @typeparam T type of the application state\n * @param youTrackBaseUrl The YouTrack base URL to which relative paths of form `api/...` will be appended. The base URL\n *     is expected to end in a slash (/). See {@link httpGet}().\n * @param hubUrl Hub URL to which a relative path like `api/rest/oauth2/auth` will be appended. The hub URL is expected\n *     to end in a slash (/). Note that the Hub URL is distinct from the YouTrack base URL.\n * @param serviceId Identification of the particular YouTrack installation. See the\n *     [YouTrack manual](https://www.jetbrains.com/help/youtrack/standalone/OAuth-Authorization.html).\n * @param appState State that will be stored in session storage and later returned by\n *     {@link handlePotentialOauthRedirect}(). The value passed as argument needs to be serializable with\n *     {@link JSON.stringify}().\n * @param redirectUrl The URL that YouTrack will redirect back to after authorization. In order to not expose more data\n *     than necessary to the YouTrack server, the url will be stripped from its hash, username/password, and search\n *     query (if any). If state needs to be preserved, the `appState` argument should be used.\n */\nexport function goToOauthPage<T>(youTrackBaseUrl: string, hubUrl: string, serviceId: string, appState: T,\n    redirectUrl: string = window.location.href): void {\n  const normalizedBaseUrl = normalizeUrl(youTrackBaseUrl);\n  const normalizedHubUrl = normalizeUrl(hubUrl);\n  const strippedRedirectUrl = new URL(redirectUrl);\n  // Create a bare redirect URL, so to not expose more data than necessary\n  strippedRedirectUrl.hash = '';\n  strippedRedirectUrl.username = '';\n  strippedRedirectUrl.password = '';\n  strippedRedirectUrl.search = '';\n\n  const oAuthId = `${Date.now().toString()}_${Math.floor(Math.random() * 10000)}`;\n  const youTrackOauthUrl = new URL(RestApi.hubPath.OAUTH, normalizedHubUrl);\n  Object.entries({\n    response_type: 'token',\n    state: oAuthId,\n    redirect_uri: strippedRedirectUrl.toString(),\n    request_credentials: 'default',\n    client_id: serviceId,\n    scope: 'YouTrack',\n  }).forEach(([key, value]) => youTrackOauthUrl.searchParams.append(key, value));\n\n  const baseUrlAndAppState: BaseUrlAndAppState<T> = {\n    baseUrl: normalizedBaseUrl,\n    appState,\n  };\n  sessionStorage.setItem(storageKeyForOauthId(oAuthId), JSON.stringify(baseUrlAndAppState));\n  window.location.href = youTrackOauthUrl.toString();\n}\n\n/**\n * Parses `window.location.href` to determine whether the URL stems from a YouTrack OAuth2 redirect, and returns the\n * restored application state if so.\n *\n * This method is meant to be called when the page is loaded. If the current URL contains a hash that is the result of\n * an OAuth2 redirect, any URL component except domain and path (such as search query or hash) will be removed. Note\n * that `window.location` will be updated with `window.history.replaceState()`.\n *\n * The application state will be restored from session storage. Unfortunately, some browsers are known to have bugs that\n * cause unexpected results if `sessionStorage` is accessed “too early,” relative to the page load in the browser. This\n * applies at least to [Safari 12.1.1](https://github.com/fschopp/project-planning-for-you-track/issues/1) and older\n * versions of [Firefox](https://stackoverflow.com/questions/13852209/localstorage-unreliable-in-firefox). (Recent\n * versions of Chrome and Firefox appear to work just fine.) It is advisable to delay calling this method (for instance,\n * with `setTimeout()`) when targeting browsers that are known to be problematic.\n *\n * Finally, this function keeps a record of the YouTrack authorization, making it available via\n * {@link authorizationFor}().\n *\n * @typeparam T type of the application state\n * @return object containing the application state or undefined if the current location is not the result of a YouTrack\n *     OAuth2 redirect\n */\nexport function handlePotentialOauthRedirect<T>(): T | undefined {\n  const url = new URL(window.location.href);\n  const fragmentParams = new URLSearchParams(url.hash.slice(1));\n  const oAuthId: string | null = fragmentParams.get('state');\n  if (oAuthId !== null) {\n    const key = storageKeyForOauthId(oAuthId);\n    const storedValue: string | null = sessionStorage.getItem(key);\n    if (storedValue !== null) {\n      const baseUrlAndAppState: BaseUrlAndAppState<T> = JSON.parse(storedValue);\n      sessionStorage.removeItem(key);\n\n      const secret: string | null = fragmentParams.get('access_token');\n      const expiresIn: string | null = fragmentParams.get('expires_in');\n      const type: string | null = fragmentParams.get('token_type');\n      if (secret !== null && expiresIn !== null && type !== null) {\n        const validUntil: number = Date.now() + parseInt(expiresIn, 10) * 1000;\n        baseUrlToAccessTokenMap[baseUrlAndAppState.baseUrl] = {\n          type,\n          secret,\n          validUntil,\n        };\n        url.hash = '';\n        // Not using window.location.replace(), because that triggers page reloads when passing more than just a\n        // (relative URL with a) hash.\n        window.history.replaceState(undefined, '', url.toString());\n        return baseUrlAndAppState.appState;\n      }\n    }\n  }\n  return undefined;\n}\n\n/**\n * Returns the access token for the given base URL, or undefined if there is no (unexpired) one.\n *\n * This method returns the HTTP Authorization header known due to a previous call to\n * {@link handlePotentialOauthRedirect}(), or undefined if not known for the given URL.\n *\n * @param baseUrl The YouTrack base URL to which relative paths of form `api/...` will be appended. The base URL is\n *     expected to end in a slash (/). See {@link httpGet}().\n * @return value for HTTP authorization header\n */\nexport function authorizationFor(baseUrl: string): string | undefined {\n  const normalizedBaseUrl = normalizeUrl(baseUrl);\n  if (!(normalizedBaseUrl in baseUrlToAccessTokenMap)) {\n    return undefined;\n  }\n\n  const accessToken: AccessToken = baseUrlToAccessTokenMap[normalizedBaseUrl];\n  if (Date.now() >= accessToken.validUntil) {\n    delete baseUrlToAccessTokenMap[normalizedBaseUrl];\n    return undefined;\n  }\n\n  return `${accessToken.type} ${accessToken.secret}`;\n}\n","import { Failure } from './api-types';\nimport { authorizationFor } from './you-track-oauth';\nimport { YouTrackError } from './you-track-rest';\n\nfunction isYouTrackError<T>(value: any): value is YouTrackError {\n  // noinspection SuspiciousTypeOfGuard\n  return value && typeof value.error === 'string' && typeof value.error_description === 'string';\n}\n\n/**\n * Returns a promise that will be fulfilled with the result of an HTTP GET request to a YouTrack REST resource.\n *\n * This method sets the HTTP Authorization header if it is known due to a previous call to\n * {@link handlePotentialOauthRedirect}(). If no authorization is available, this method rejects the promise\n * immediately.\n *\n * @typeparam T the type of the response by YouTrack (after parsing the JSON)\n * @param baseUrl The YouTrack base URL to which relative paths of form `api/...` will be appended. The base URL is\n *     expected to end in a slash (/). For an InCloud instance without a custom domain, this is of form\n *     `https://<name>.myjetbrains.com/youtrack/`.\n * @param resourcePath relative path to the REST API resource requested\n * @param queryParams parameters that will be added to the query string\n * @return A promise that in case of success will be fulfilled with the retrieved object. In case of any failure, it\n *     will be rejected with a {@link Failure}.\n */\nexport function httpGet<T>(baseUrl: string, resourcePath: string, queryParams: {[param: string]: string} = {}):\n    Promise<T> {\n  const authorization: string | undefined = authorizationFor(baseUrl);\n  if (authorization === undefined) {\n    const failure: Failure = `No valid unexpired OAuth token available for ${baseUrl}.`;\n    return Promise.reject(failure);\n  }\n\n  const url = new URL(resourcePath, baseUrl);\n  const urlSearchParams = url.searchParams;\n  Object.entries(queryParams).forEach(([key, value]) => urlSearchParams.append(key, value));\n  const xhr = new XMLHttpRequest();\n  xhr.open('GET', url.toString());\n  xhr.setRequestHeader('Authorization', authorization);\n  xhr.setRequestHeader('Accept', 'application/json');\n  xhr.responseType = 'json';\n  const promise = new Promise<T>((resolve, reject) => {\n    xhr.onloadend = () => onRequestFinished<T>(url, xhr, resolve, reject);\n  });\n  xhr.send();\n  return promise;\n}\n\n/**\n * Returns a promise that will be fulfilled with the result of an HTTP GET request to a YouTrack REST array resource.\n *\n * This method sets the HTTP Authorization header if it is known due to a previous call to\n * {@link handlePotentialOauthRedirect}(). If no authorization is available, this method rejects the promise\n * immediately.\n *\n * @typeparam T the element type of the array response by YouTrack (after parsing the JSON)\n * @param baseUrl The YouTrack base URL. See also {@link httpGet}().\n * @param resourcePath relative path to the REST API resource requested\n * @param queryParams parameters that will be added to the query string\n * @param restBatchSize Number of elements per HTTP request. Larger values are faster, but increase the risk of\n *     transmission problems (or outright rejection by future YouTrack versions that may have rate limitations).\n * @return A promise that in case of success will be fulfilled with the retrieved array. In case of any failure, it\n *     will be rejected with a {@link Failure}.\n */\nexport async function httpGetAll<T>(baseUrl: string, resourcePath: string,\n    queryParams: {[param: string]: string}, restBatchSize: number): Promise<T[]> {\n  return httpGetAllWithOptions<T, T[]>(baseUrl, resourcePath, queryParams, restBatchSize, (batch, array) => {\n    array.push(...batch);\n    return array;\n  }, []);\n}\n\n/**\n * Returns a promise that will be fulfilled with a transformation of the result of an HTTP GET request to a YouTrack\n * REST array resource.\n *\n * This method sets the HTTP Authorization header if it is known due to a previous call to\n * {@link handlePotentialOauthRedirect}(). If no authorization is available, this method rejects the promise\n * immediately.\n *\n * @typeparam T the element type of the array response by YouTrack (after parsing the JSON)\n * @typeparam U the return type of `processBatch()` and therefore also this function\n * @param baseUrl The YouTrack base URL. See also {@link httpGet}().\n * @param resourcePath relative path to the REST API resource requested\n * @param queryParams parameters that will be added to the query string\n * @param restBatchSize Number of elements per HTTP request. See also {@link httpGetAll}().\n * @param processBatch callback called for the result of each individual HTTP request\n * @param processBatch.batch the retrieved array\n * @param processBatch.previous the state returned by the previous invocation of `processBatch()`, or the value of\n *     `initial` if this is the first invocation\n * @param initial the value passed to the first invocation of `processBatch()` as argument `initial`\n * @return A promise that in case of success will be fulfilled with the last result of `processBatch()`. In case of any\n *     failure, it will be rejected with a {@link Failure}.\n */\nexport async function httpGetAllWithOptions<T, U>(baseUrl: string, resourcePath: string,\n    queryParams: {[param: string]: string}, restBatchSize: number,\n    processBatch: (batch: T[], previous: U) => U, initial: U): Promise<U> {\n  let numElementsRetrieved: number = 0;\n  let busy = true;\n  queryParams.$top = restBatchSize.toString();\n  let batchPromise: Promise<T[]> = httpGet<T[]>(baseUrl, resourcePath, queryParams);\n  let state: U = initial;\n  do {\n    const batch: T[] = await batchPromise;\n    numElementsRetrieved += batch.length;\n    if (batch.length >= restBatchSize) {\n      queryParams.$skip = numElementsRetrieved.toString();\n      batchPromise = httpGet<T[]>(baseUrl, resourcePath, queryParams);\n    } else {\n      busy = false;\n    }\n    state = processBatch(batch, state);\n  } while (busy);\n  return state;\n}\n\n/**\n * Handles completion of an {@link XMLHttpRequest}, whether successful or not.\n */\nfunction onRequestFinished<T>(url: URL, xhr: XMLHttpRequest, resolve: (result: T) => void,\n    reject: (failure: Failure) => void): void {\n  // From https://developer.mozilla.org/en-US/docs/Web/API/XMLHttpRequest/response:\n  // \"The value is null if the request is not yet complete or was unsuccessful\"\n  const response: T | YouTrackError | null = xhr.response;\n  let failure: Failure;\n  if (response === null) {\n    failure =\n        `The YouTrack server could not be reached (URL: ${url}). Please check your network connection.`;\n  } else if (isYouTrackError(response)) {\n    failure =\n        `The YouTrack server returned the following error (URL: ${url}): ${response.error_description}`;\n  } else if (xhr.status === 200) {\n    resolve(response);\n    return;\n  } else {\n    failure = `The YouTrack server returned an unexpected error (URL: ${url}, HTTP status: ${xhr.status}).`;\n  }\n  reject(failure);\n}\n","import { strict as assert } from 'assert';\nimport { ProjectPlan, RetrieveProjectPlanOptions, YouTrackConfig, YouTrackIssue, } from './api-types';\nimport { assignDefined, OnlyOptionals } from './util';\nimport { httpGet, httpGetAll, httpGetAllWithOptions } from './you-track-http';\nimport * as RestApi from './you-track-rest';\nimport { CustomFieldActivityItem } from './you-track-rest';\n\n/**\n * Retrieves, reconstructs, and returns a project plan consisting of the issues and their activities in a\n * [YouTrack saved search](https://www.jetbrains.com/help/youtrack/standalone/Saved-Search.html).\n *\n * This method requires that {@link handlePotentialOauthRedirect}() was called previously and obtained an OAuth token.\n * The authorization should be valid for the expected duration of the data retrieval. YouTrack\n * [does not](https://www.jetbrains.com/help/youtrack/standalone/OAuth-Authorization.html#AuthServerResponse) issue\n * refresh tokens, so communication with YouTrack will fail otherwise.\n *\n * @param baseUrl The YouTrack base URL. See also {@link httpGet}().\n * @param youTrackConfig Configuration of YouTrack.\n * @param options Options for retrieving YouTrack issue data and building a project plan.\n * @return A promise that in case of success will be fulfilled with a project plan. In case of any failure, it will be\n *     rejected with a {@link Failure}.\n */\nexport function retrieveProjectPlan(\n    baseUrl: string, youTrackConfig: YouTrackConfig, options?: RetrieveProjectPlanOptions): Promise<ProjectPlan> {\n  const actualYouTrackConfig: Required<YouTrackConfig> = assignDefined(newDefaultYouTrackConfig(), youTrackConfig);\n  const actualOptions: Required<RetrieveProjectPlanOptions> =\n      assignDefined(newDefaultRequestProjectPlanOptions(), options);\n  return new YouTrackIssueActivities(baseUrl, actualYouTrackConfig, actualOptions).promise;\n}\n\n/**\n * Retrieves and returns the number of minutes in a work week, as configured in YouTrack.\n *\n * @param baseUrl The YouTrack base URL. See also {@link httpGet}().\n * @return A promise that in case of success will be fulfilled with a the number of minutes. In case of any failure, it\n *     will be rejected with a {@link Failure}.\n */\nexport async function getMinutesPerWorkWeek(baseUrl: string): Promise<number> {\n  const queryParams = {\n    fields: YouTrackFields.WORK_TIME_SETTINGS,\n  };\n  const response: RestApi.WorkTimeSettings =\n      await httpGet<RestApi.WorkTimeSettings>(baseUrl, RestApi.youTrackPath.WORK_TIME_SETTINGS, queryParams);\n  return response.daysAWeek * response.minutesADay;\n}\n\n/**\n * Returns a new object with values for the optional properties of {@link YouTrackConfig}.\n */\nfunction newDefaultYouTrackConfig(): OnlyOptionals<YouTrackConfig> {\n  return {\n    remainingEffortFieldId: '',\n    remainingWaitFieldId: '',\n    assigneeFieldId: '',\n    otherCustomFieldIds: [],\n    doesInwardDependOnOutward: true,\n    overlaySavedQueryId: '',\n    minStateChangeDurationMs: 0,\n    defaultRemainingEffortMs: 0,\n    defaultWaitTimeMs: 0,\n    isSplittableFn: () => false,\n  };\n}\n\n/**\n * Returns a new object with values for the optional properties of {@link RetrieveProjectPlanOptions}.\n */\nfunction newDefaultRequestProjectPlanOptions(): OnlyOptionals<RetrieveProjectPlanOptions> {\n  return {\n    progressCallback: () => { /* no-op */ },\n    omitIssueActivities: false,\n    progressUpdateIntervalMs: 200,\n    restBatchSize: 100,\n  };\n}\n\nconst YOUTRACK_CUSTOM_FIELDS_CATEGORY = 'CustomFieldCategory';\n\n/**\n * YouTrack REST API fields.\n */\nconst enum YouTrackFields {\n  SORTED_ISSUES = 'count',\n  CUSTOM_FIELD = 'fieldDefaults(bundle(id))',\n  STATE_BUNDLES = 'id,values(id,name,isResolved)',\n  SAVED_QUERY_NAME = 'name',\n  ISSUES = 'created,customFields(projectCustomField(field(id)),value(id,minutes,name)),id,idReadable,' +\n      'links(direction,issues(id,idReadable),linkType(id)),parent(issues(id,idReadable)),resolved,' +\n      'subtasks(issues(id,idReadable)),summary,updated',\n  OVERLAY_ORDER = 'id',\n  ACTIVITIES_PAGE = 'afterCursor,hasAfter,activities(added(id,name,isResolved),field(id),' +\n      'removed(id,name,isResolved),target(id),timestamp)',\n  WORK_TIME_SETTINGS = 'minutesADay,daysAWeek',\n}\n\nconst enum ActiveState {\n  UNKNOWN,\n  ACTIVE,\n  INACTIVE,\n}\n\ninterface StateTransition {\n  timestamp: number;\n  activeState: ActiveState;\n}\n\ninterface IssueId {\n  /**\n   * The human readable ID, consisting of project abbreviation and number.\n   */\n  id: string;\n\n  /**\n   * The YouTrack-internal ID.\n   */\n  internalId: string;\n}\n\ninterface InternalYouTrackIssue extends YouTrackIssue {\n  internalId: string;\n  parentIssueId: IssueId | null;\n  subtaskIssueIds: IssueId[];\n  dependencyIssueIds: IssueId[];\n  activeState: ActiveState;\n  stateTransitions: StateTransition[];\n  lastUpdate?: number;\n}\n\n/**\n * Class that retrieves issues, their state changes, and issue links.\n */\nclass YouTrackIssueActivities {\n  public readonly promise: Promise<ProjectPlan>;\n\n  private readonly baseUrl_: string;\n  private readonly config_: Required<YouTrackConfig>;\n  private readonly options_: Required<RetrieveProjectPlanOptions>;\n  private readonly dependsOnDirection_: 'INWARD' | 'OUTWARD';\n  private readonly issues_: InternalYouTrackIssue[] = [];\n  private readonly idToIssueMap_ = new Map<string, InternalYouTrackIssue>();\n  /**\n   * Map from id of the issue state (that is, the ID of the {@link StateBundleElement}) to whether that state is active.\n   *\n   * This property is only filled in {@link buildIdToActiveStateMap}() if\n   * {@link RetrieveProjectPlanOptions.omitIssueActivities} is false.\n   */\n  private readonly idToActiveState_: Map<string, ActiveState>;\n  private readonly lowerCaseNameToActiveState_: {[lowerCaseName: string]: ActiveState} = {};\n  private readonly projectPlan_: ProjectPlan;\n\n  private numIssues_: number = 0;\n  private savedQueryName_: string = '';\n  private numTasksWithDetails_: number = 0;\n  /**\n   * Timestamp of the first activity in the activity log.\n   *\n   * This property is only filled in {@link parseActivityItems}() if\n   * {@link RetrieveProjectPlanOptions.omitIssueActivities} is false.\n   */\n  private minTimeStamp_: number = 0;\n  private maxUpdateTimeStamp_: number = 0;\n  private maxActivityTimeStamp_: number = 0;\n  private lastProgressUpdate_: number = 0;\n\n  /**\n   * Constructor that will already start the communication with the YouTrack server.\n   */\n  constructor(\n      baseUrl: string, youTrackConfig: Required<YouTrackConfig>, options: Required<RetrieveProjectPlanOptions>) {\n    this.baseUrl_ = baseUrl;\n    this.config_ = youTrackConfig;\n    this.options_ = options;\n    this.dependsOnDirection_ = this.config_.doesInwardDependOnOutward ? 'INWARD' : 'OUTWARD';\n    this.idToActiveState_ = youTrackConfig.inactiveStateIds\n        .reduce((map, inactiveState) => map.set(inactiveState, ActiveState.INACTIVE), new Map<string, ActiveState>());\n    this.projectPlan_ = {\n      issues: [],\n      warnings: [],\n    };\n    this.promise = this.run();\n  }\n\n  private async run(): Promise<ProjectPlan> {\n    await this.retrieveNumIssues();\n    await this.retrieveSavedQueryName();\n    if (!this.options_.omitIssueActivities) {\n      const stateBundleId: string = await this.getStateBundleId();\n      await this.buildIdToActiveStateMap(stateBundleId);\n    }\n    this.progressUpdate();\n    await this.retrieveIssues();\n    await this.retrieveOverlayOrder();\n    if (!this.options_.omitIssueActivities) {\n      await this.retrieveActivities();\n    }\n    this.finalizeSchedule();\n    return this.projectPlan_;\n  }\n\n  /**\n   * If sufficient time has elapsed since the last progress update, send a new message to the thread that spawned this\n   * worker.\n   */\n  private progressUpdate(): void {\n    if (Date.now() - this.lastProgressUpdate_ < this.options_.progressUpdateIntervalMs) {\n      return;\n    }\n\n    let percentageDone = 0;\n    if (this.numIssues_ > 0) {\n      percentageDone =\n        1 +\n        9 * Math.min(1, this.numTasksWithDetails_ / this.numIssues_);\n      if (this.minTimeStamp_ > 0) {\n        percentageDone += 90 * Math.min(1,\n          (this.maxActivityTimeStamp_ - this.minTimeStamp_) / (this.maxUpdateTimeStamp_ - this.minTimeStamp_)\n        );\n      } else if (this.options_.omitIssueActivities) {\n        percentageDone *= 10;\n      }\n    }\n\n    this.lastProgressUpdate_ = Date.now();\n    this.options_.progressCallback(percentageDone);\n  }\n\n  private newHttpRequest<T>(resourcePath: string, queryParams: {[param: string]: string}): Promise<T> {\n    return httpGet(this.baseUrl_, resourcePath, queryParams);\n  }\n\n  private getAll<T>(resourcePath: string, queryParams: {[param: string]: string},\n        processBatch: (batch: T[]) => void): Promise<void> {\n    return httpGetAllWithOptions(this.baseUrl_, resourcePath, queryParams, this.options_.restBatchSize,\n        processBatch, undefined);\n  }\n\n  private async retrieveNumIssues(): Promise<void> {\n    const queryParams = {\n      folderId: this.config_.savedQueryId,\n      fields: YouTrackFields.SORTED_ISSUES,\n    };\n    const response: RestApi.SortedIssuesResponse =\n        await this.newHttpRequest(RestApi.youTrackPath.SORTED_ISSUES, queryParams);\n    this.numIssues_ = response.count;\n  }\n\n  private async getStateBundleId(): Promise<string> {\n    const queryParams = {fields: YouTrackFields.CUSTOM_FIELD};\n    const customField: RestApi.CustomField =\n        await this.newHttpRequest(RestApi.youTrackPath.CUSTOM_FIELD(this.config_.stateFieldId), queryParams);\n    return (customField.fieldDefaults as RestApi.StateBundleCustomFieldDefaults).bundle.id;\n  }\n\n  private async retrieveSavedQueryName(): Promise<void> {\n    const queryParams = {fields: YouTrackFields.SAVED_QUERY_NAME};\n    const savedQuery: RestApi.SavedQuery =\n        await this.newHttpRequest(RestApi.youTrackPath.SAVED_QUERY(this.config_.savedQueryId), queryParams);\n    this.savedQueryName_ = savedQuery.name;\n  }\n\n  private async buildIdToActiveStateMap(stateBundleId: string): Promise<void> {\n    const queryParams: {fields: string} = {\n      fields: YouTrackFields.STATE_BUNDLES,\n    };\n    await this.getAll<RestApi.StateBundle>(RestApi.youTrackPath.STATE_BUNDLES, queryParams, (restStateBundles) => {\n      for (const restStateBundle of restStateBundles) {\n        const isRelevantStateBundle = restStateBundle.id === stateBundleId;\n        for (const restElement of restStateBundle.values) {\n          if (restElement.isResolved) {\n            this.idToActiveState_.set(restElement.id, ActiveState.INACTIVE);\n          } else if (isRelevantStateBundle && !this.config_.inactiveStateIds.includes(restElement.id)) {\n            this.idToActiveState_.set(restElement.id, ActiveState.ACTIVE);\n          }\n\n          if (isRelevantStateBundle) {\n            // In this case, restElement.id was added to this.idToActiveState_: Either (a) in the constructor (if\n            // this.config_.inactiveStateIds.includes(restElement.id)) or (b) in one of the two if-branches above.\n            assert(this.idToActiveState_.has(restElement.id));\n            this.lowerCaseNameToActiveState_[restElement.name.toLowerCase()] =\n                this.idToActiveState_.get(restElement.id)!;\n          }\n        }\n      }\n    });\n  }\n\n  private parseIssueCustomFields(issue: InternalYouTrackIssue, restIssue: RestApi.Issue): void {\n    for (const customField of restIssue.customFields) {\n      const fieldId = customField.projectCustomField.field.id;\n      switch (fieldId) {\n        case this.config_.remainingEffortFieldId:\n          if (RestApi.isPeriodIssueCustomField(customField) && customField.value !== null) {\n            issue.remainingEffortMs = customField.value.minutes * 60 * 1000;\n          }\n          break;\n        case this.config_.remainingWaitFieldId:\n          if (RestApi.isPeriodIssueCustomField(customField) && customField.value !== null) {\n            issue.remainingWaitTimeMs = customField.value.minutes * 60 * 1000;\n          }\n          break;\n        case this.config_.assigneeFieldId:\n          if (RestApi.isSingleUserIssueCustomField(customField) && customField.value !== null) {\n            issue.assignee = customField.value.id;\n          }\n          break;\n        case this.config_.stateFieldId:\n          if (RestApi.isStateIssueCustomField(customField) && customField.value !== null) {\n            issue.state = customField.value.id;\n            issue.activeState = this.stateBundleElementIdToActiveState(customField.value);\n          }\n          break;\n        default:\n          if (RestApi.isSingleEnumIssueCustomField(customField) &&\n              customField.value !== null &&\n              this.config_.otherCustomFieldIds.find((id) => id === fieldId)) {\n            issue.customFields[fieldId] = customField.value.id;\n          }\n      }\n    }\n  }\n\n  private async retrieveIssues(): Promise<void> {\n    const queryParams = {fields: YouTrackFields.ISSUES};\n    await this.getAll<RestApi.Issue>(\n        RestApi.youTrackPath.ISSUES(this.config_.savedQueryId), queryParams, (restIssues) => {\n          for (const restIssue of restIssues) {\n            const issue: InternalYouTrackIssue = {\n              id: restIssue.idReadable,\n              remainingEffortMs: this.config_.defaultRemainingEffortMs,\n              remainingWaitTimeMs: this.config_.defaultWaitTimeMs,\n              splittable: false,\n              dependencies: [],\n              assignee: '',\n\n              summary: restIssue.summary,\n              issueActivities: [],\n              resolved: restIssue.resolved !== null\n                  ? restIssue.resolved\n                  : Number.MAX_SAFE_INTEGER,\n              state: '',\n              parent: '',\n              customFields: {},\n\n              internalId: restIssue.id,\n              parentIssueId: restIssue.parent.issues.length > 0\n                  ? {\n                      id: restIssue.parent.issues[0].idReadable,\n                      internalId: restIssue.parent.issues[0].id,\n                    }\n                  : null,\n              subtaskIssueIds: restIssue.subtasks.issues.map((subissue) => ({\n                id: subissue.idReadable,\n                internalId: subissue.id,\n              })),\n              dependencyIssueIds: [],\n              activeState: ActiveState.UNKNOWN,\n              stateTransitions: [{timestamp: restIssue.created, activeState: ActiveState.UNKNOWN}],\n              lastUpdate: restIssue.updated,\n            };\n            this.issues_.push(issue);\n            this.idToIssueMap_.set(restIssue.id, issue);\n\n            this.parseIssueCustomFields(issue, restIssue);\n\n            for (const restLink of restIssue.links) {\n              if (restLink.direction === this.dependsOnDirection_ &&\n                  restLink.linkType.id === this.config_.dependsLinkTypeId) {\n                issue.dependencyIssueIds.push(...restLink.issues.map((linkedIssue) => ({\n                  id: linkedIssue.idReadable,\n                  internalId: linkedIssue.id,\n                })));\n              }\n            }\n\n            ++this.numTasksWithDetails_;\n            this.maxUpdateTimeStamp_ = Math.max(this.maxUpdateTimeStamp_, restIssue.updated);\n          }\n          this.progressUpdate();\n        }\n    );\n  }\n\n  private async retrieveOverlayOrder(): Promise<void> {\n    if (this.config_.overlaySavedQueryId.length === 0) {\n      return;\n    }\n\n    const queryParams = {fields: YouTrackFields.OVERLAY_ORDER};\n    type IdIssue = Pick<RestApi.Issue, 'id'>;\n    const issues = await httpGetAll<IdIssue>(this.baseUrl_,\n        RestApi.youTrackPath.ISSUES(this.config_.overlaySavedQueryId), queryParams, this.options_.restBatchSize);\n    const overlayIds = issues.map((issue) => issue.id).filter((id) => this.idToIssueMap_.has(id));\n    const idToOverlayIdx = overlayIds.reduce((map, id, idx) => map.set(id, idx), new Map<string, number>());\n\n    let issueIdx = 0;\n    let overlayIdx = 0;\n    while (issueIdx < this.issues_.length && overlayIdx < overlayIds.length) {\n      const issue: InternalYouTrackIssue = this.issues_[issueIdx];\n      if (idToOverlayIdx.has(issue.internalId)) {\n        this.issues_[issueIdx] = this.idToIssueMap_.get(overlayIds[overlayIdx])!;\n        ++overlayIdx;\n      }\n      ++issueIdx;\n    }\n  }\n\n  private async retrieveActivities(): Promise<void> {\n    const queryParams: {[param: string]: string} = {\n      fields: YouTrackFields.ACTIVITIES_PAGE,\n      categories: YOUTRACK_CUSTOM_FIELDS_CATEGORY,\n      issueQuery: `saved search: {${this.savedQueryName_}}`,\n      $top: this.options_.restBatchSize.toString(),\n    };\n    let busy = true;\n    let promise = this.newHttpRequest<RestApi.ActivityCursorPage>(RestApi.youTrackPath.ACTIVITIES_PAGE, queryParams);\n    do {\n      const activitiesPage = await promise;\n      if (activitiesPage.hasAfter) {\n        queryParams.cursor = activitiesPage.afterCursor!;\n        promise = this.newHttpRequest<RestApi.ActivityCursorPage>(RestApi.youTrackPath.ACTIVITIES_PAGE, queryParams);\n      } else {\n        busy = false;\n      }\n      // The type-cast is fine because we set queryParams.categories accordingly.\n      this.parseActivityItems(activitiesPage.activities as CustomFieldActivityItem[]);\n      this.progressUpdate();\n    } while (busy);\n  }\n\n  private stateBundleElementIdToActiveState(\n      arrayOrObject?: RestApi.StateBundleElement | RestApi.StateBundleElement[]): ActiveState {\n    let object: RestApi.StateBundleElement | undefined;\n    if (arrayOrObject instanceof Array) {\n      object = arrayOrObject.length > 0 ? arrayOrObject[0] : undefined;\n    } else {\n      object = arrayOrObject;\n    }\n\n    if (object === undefined) {\n      return ActiveState.UNKNOWN;\n    }\n\n    if (object.isResolved) {\n      return ActiveState.INACTIVE;\n    } else if (this.idToActiveState_.has(object.id)) {\n      return this.idToActiveState_.get(object.id)!;\n    }\n\n    const lowerCaseName = object.name.toLowerCase();\n    if (lowerCaseName in this.lowerCaseNameToActiveState_) {\n      return this.lowerCaseNameToActiveState_[lowerCaseName];\n    }\n    return ActiveState.UNKNOWN;\n  }\n\n  private addStateTransition(stateTransitions: StateTransition[], newStateTransition: StateTransition,\n      replacementForPreviousUnknown: ActiveState): void {\n    const a = stateTransitions;\n    let n = a.length;\n    const c = this.config_.minStateChangeDurationMs;\n    // By definition, a is the array [a[0], ..., a[n - 1]]. With the abbreviating notation a[i].s ∈ {A,I,U} and\n    // a[i].t (instead of a[i].activeState and a[i].timestamp, respectively), if the following invariants hold here\n    // then they also hold when the function returns.\n    // (And the fact that the invariant holds the first time this method is called follows from method retrieveIssues().\n    // There, the array a was initialized with exactly one element such that a[0].s = U.)\n    // Throughout the explanatory comments, let n denote the length of a (even at the end of the function where the\n    // source code does not reassign n).\n    //\n    // 1. a[0].s, ..., a[n - 2].s ∈ {A,I}.\n    // 2. a[i - 1].s != a[i].s for all i = 1, ..., n - 1\n    // 3. n = 1 => (a[0].s ∈ {A,U} and n > 1 => a[0].s = A)\n    // 4. a[i - 1].t < a[i].t for all i = 1, ..., n - 1\n    // 5. a[i].t - a[i - 1].t >= c for all i = 1, ..., n - 3\n    // 6. a[n - 2].t - a[n - 3].t < c => (a[n - 1].t - a[n - 2].t < c and a[n - 2].s = I and a[n - 1].s = U)\n    // 7. a[n - 1].t - a[n - 2].t < c => a[n - 1].s ∈ {I,U}\n\n    // In the following, we first prepare a so that newStateTransition could be added without violating the\n    // invariants. Let s ∈ {A,I,U} denote the new state and t the new timestamp. That is,\n    // s = newStateTransition.activeState and t = newStateTransition.timestamp.\n\n    // The behavior of this function satisfies (with a and n denoting the respective values upon return, and a' and n'\n    // their current values, respectively):\n    // I. a[i].t - a[i-1].t < c => t - a[i].t < c\n    // II. (a'[n - 1].s ∈ {A,I} and s != a'[n - 1].s and t >= a'[n - 1].t + c)\n    //     => (a' = a[0 .. n - 2] and a[n - 1] = (t, s))\n\n    // Goal: Preserve invariant 4.\n    while (n > 0 && a[n - 1].timestamp >= newStateTransition.timestamp) {\n      a.pop();\n      --n;\n    }\n    // (Condition POST-WHILE:) We now have a[n - 1].t <= t. Also, all invariants hold.\n\n    // Goal: Preserve invariant 1.\n    if (n > 0 && a[n - 1].activeState === ActiveState.UNKNOWN) {\n      a[n - 1].activeState = replacementForPreviousUnknown !== ActiveState.UNKNOWN\n          ? replacementForPreviousUnknown\n          : ActiveState.ACTIVE;\n      // We now have (stronger than invariant 1!): a[0].s, ..., a[n - 1].s ∈ {A,I}.\n      //\n      // Goals:\n      // - Restore invariant 3 (if-condition before '||')\n      // - Restore invariant 2 (if-condition after '||')\n      // - Preserve invariant 5,6,7 (else-if-condition)\n      if ((n === 1 && a[0].activeState === ActiveState.INACTIVE) ||\n          (n > 1 && a[n - 1].activeState === a[n - 2].activeState)) {\n        a.pop();\n        --n;\n      } else if (n > 2 && a[n - 2].activeState === ActiveState.INACTIVE &&\n          a[n - 2].timestamp - a[n - 3].timestamp < c) {\n        // Note we have here: a[n - 1].s = A.\n        a.length -= 2;\n        n -= 2;\n        // We now have a[i].t - a[i - 1].t >= c for all i. Also, a[n - 1].s = A.\n      }\n    }\n    // (Condition NOUNKNOWN:) All invariants hold, and additionally a[n - 1].s ∈ {A,I} and a[i].t - a[i - 1].t >= c\n    // for i = 1, ..., n - 2.\n\n    // Goal: Preserve invariants 5,6,7.\n    if (n > 1 && a[n - 1].activeState === ActiveState.INACTIVE &&\n        a[n - 1].timestamp - a[n - 2].timestamp < c &&\n        newStateTransition.timestamp - a[n - 1].timestamp >= c) {\n      a.length -= 2;\n      n -= 2;\n    }\n    // (Condition GAPS1:) All invariants hold. It also holds now that (a[n - 1].t - a[n - 2].t < c) implies that the\n    // previous if-block was not entered (because 2 elements were removed from the list and therefore\n    // condition NOUNKNOWN would imply a[n - 1].t - a[n - 2].c >= c). Therefore one of the following holds:\n    // (1.) a[n - 1].s ∈ {A,U}, which together with condition NOUNKNOWN implies a[n - 1].s = A, or\n    // (2.) t - a[n - 1].t < c.\n\n    // Goal: Preserve invariant 2.\n    if (n > 0 && newStateTransition.activeState === a[n - 1].activeState) {\n      // All invariants still hold (due to condition GAPS1).\n      return;\n    }\n    // (Condition ALT:) All invariants hold. We also have now s != a[n - 1].s.\n\n    // Goal: Preserve invariants 5,6,7.\n    if (n > 1 && newStateTransition.activeState === ActiveState.ACTIVE &&\n        newStateTransition.timestamp - a[n - 1].timestamp < c) {\n      a.pop();\n      // Since n > 1, we have (due to invariant 3) that a[0].s = A. Therefore, invariant 3 remains\n      // valid. Other invariants trivially hold, because the last line cannot have invalidated them.\n      return;\n    }\n    // (Condition GAPS2:) All invariants hold. We also have now that n > 1 implies that (1.) s ∈ {I,U} or\n    // (2.) t - a[n - 1] >= c.\n\n    // Goal: Preserve invariant 3.\n    if (n > 0 || newStateTransition.activeState !== ActiveState.INACTIVE) {\n      a.push(newStateTransition);\n      // Let n = a.length (which changed in the last line).\n      // - Invariant 1 continues to hold because of condition NOUNKNOWN.\n      // - Invariant 2 continues to hold because of condition ALT.\n      // - Regarding invariant 3, if n = 1, then a[0] = s ∈ {A,U} because of the if-condition. If n = 2, then\n      //   a[0].s ∈ {A,U} due to invariant 3 holding before, and therefore a[0].s = A due to condition NOUNKNOWN.\n      //   If n > 2, then a[0].s = A because invariant 3 held before the last line.\n      // - Invariant 4 holds because a[n - 1].t <= t (due to condition POST-WHILE).\n      // - Invariant 5 holds because of condition NOUNKNOWN.\n      // - Regarding invariant 6, only the case n > 3 is meaningful (i.e., not a vacuous truth). Suppose that\n      //   a[n - 2].t - a[n - 3].t < c. Since invariant 7 held before, we know a[n - 2].s ∈ {I,U}. Together with\n      //   condition NOUNKNOWN, this implies a[n - 2].s = I. Condition GAPS2 implies a[n - 1].s = s ∈ {I,U}, and\n      //   condition ALT strengthens this to a[n - 1].s = U. Finally, due to condition GAPS1 (note that\n      //   a[n - 2].s ∉ {A,U}), we have a[n - 1].t - a[n - 2].t < c.\n      // - Regarding invariant 7, suppose a[n - 1].t - a[n - 2].t < c. Then s ∈ {I,U} due to condition GAPS2.\n    }\n  }\n\n  private parseActivityItems(activityItems: RestApi.CustomFieldActivityItem[]): void {\n    if (activityItems.length > 0) {\n      if (this.minTimeStamp_ === 0) {\n        this.minTimeStamp_ = activityItems[0].timestamp;\n      }\n      this.maxActivityTimeStamp_ =\n          Math.max(this.maxActivityTimeStamp_, activityItems[activityItems.length - 1].timestamp);\n    }\n    for (const activityItem of activityItems) {\n      if (activityItem.field.id === this.config_.stateFieldId) {\n        // In theory, multiple users can own saved queries with the same name, in which case we may see more issues here\n        // than we need to.\n        const issue = this.idToIssueMap_.get(activityItem.target.id);\n        if (issue === undefined) {\n          continue;\n        }\n\n        const newStateTransition = {\n          timestamp: activityItem.timestamp,\n          activeState: this.stateBundleElementIdToActiveState(activityItem.added as RestApi.StateBundleElement[]),\n        };\n        this.addStateTransition(issue.stateTransitions, newStateTransition,\n            this.stateBundleElementIdToActiveState(activityItem.removed as RestApi.StateBundleElement[]));\n      }\n    }\n  }\n\n  private finalizeSchedule(): void {\n    for (const issue of this.issues_) {\n      if (!this.options_.omitIssueActivities) {\n        this.finalizeIssueActivities(issue);\n      }\n\n      let parent: string = '';\n      if (issue.parentIssueId !== null) {\n        if (this.idToIssueMap_.has(issue.parentIssueId.internalId)) {\n          parent = issue.parentIssueId.id;\n        } else {\n          this.projectPlan_.warnings.push({\n            description: `Issue ${issue.id} is a subtask of ${issue.parentIssueId.id}, which is not contained ` +\n                `in saved search “${this.savedQueryName_}”.`,\n            issueId: issue.id,\n          });\n        }\n      }\n\n      const dependencies: string[] = [];\n      const unknownDependencies: string[] = [];\n      for (const issueId of issue.dependencyIssueIds) {\n        const pushTo = this.idToIssueMap_.has(issueId.internalId) ? dependencies : unknownDependencies;\n        pushTo.push(issueId.id);\n      }\n      if (unknownDependencies.length > 0) {\n        this.projectPlan_.warnings.push({\n          description: `Issue ${issue.id} depends on ${unknownDependencies.join(', ')}, which is/are not ` +\n              `contained in saved search “${this.savedQueryName_}”.`,\n          issueId: issue.id,\n        });\n      }\n\n      let remainingEffortMs = issue.resolved === Number.MAX_SAFE_INTEGER\n          ? issue.remainingEffortMs\n          : 0;\n      const unknownSubtasks: string[] = [];\n      for (const issueId of issue.subtaskIssueIds) {\n        const subIssue: InternalYouTrackIssue | undefined = this.idToIssueMap_.get(issueId.internalId);\n        if (subIssue !== undefined) {\n          remainingEffortMs = Math.max(0, remainingEffortMs - subIssue.remainingEffortMs);\n        } else {\n          unknownSubtasks.push(issueId.id);\n        }\n      }\n      if (unknownSubtasks.length > 0) {\n        this.projectPlan_.warnings.push({\n          description: `Issue ${issue.id} is a parent for ${unknownSubtasks.join(', ')}, which is/are not ` +\n              `contained in saved search “${this.savedQueryName_}”.`,\n          issueId: issue.id,\n        });\n      }\n\n      const youTrackIssue: YouTrackIssue = {\n        id: issue.id,\n        summary: issue.summary,\n        issueActivities: issue.issueActivities,\n        resolved: issue.resolved,\n        state: issue.state,\n        assignee: issue.assignee,\n        parent,\n        customFields: issue.customFields,\n        remainingEffortMs,\n        remainingWaitTimeMs: issue.resolved === Number.MAX_SAFE_INTEGER\n            ? issue.remainingWaitTimeMs\n            : 0,\n        splittable: issue.splittable,\n        dependencies,\n      };\n      youTrackIssue.splittable = this.config_.isSplittableFn(youTrackIssue);\n      this.projectPlan_.issues.push(youTrackIssue);\n    }\n  }\n\n  private finalizeIssueActivities(issue: InternalYouTrackIssue): void {\n    // The following 3 issue properties have been set before in finishedIssues().\n    const newStateTransition: StateTransition = {\n      timestamp: issue.lastUpdate!,\n      activeState: issue.activeState,\n    };\n    this.addStateTransition(issue.stateTransitions, newStateTransition, issue.activeState);\n    // Using the definitions in addStateTransition(), we could at this point still have a[n - 1].s = U or\n    // a[n - 1].t - a[n - 2].t < c. We therefore add the following final transition for \"clean up\".\n    // Note that we err on the side of interpreting state UNKNOWN as ACTIVE.\n    const finalStateTransition: StateTransition = {\n      timestamp: Number.MAX_SAFE_INTEGER,\n      activeState: issue.activeState === ActiveState.UNKNOWN\n          ? ActiveState.ACTIVE\n          : issue.activeState,\n    };\n    this.addStateTransition(issue.stateTransitions, finalStateTransition, ActiveState.ACTIVE);\n    assert(\n        issue.stateTransitions\n            .filter((stateTransition) => stateTransition.activeState === ActiveState.UNKNOWN).length === 0,\n        'issue.stateTransitions should no longer contain elements with activeState === ActiveState.UNKNOWN'\n    );\n    assert(\n        issue.stateTransitions\n            .map((stateTransition) => stateTransition.timestamp)\n            .reduce(\n                ([min, previousTimestamp], timestamp) => [Math.min(min, timestamp - previousTimestamp), timestamp],\n                [Number.MAX_SAFE_INTEGER, -this.config_.minStateChangeDurationMs]\n            )[0] >= this.config_.minStateChangeDurationMs,\n        'issue.stateTransitions should no longer have consecutive elements within less than minStateChangeDurationMs'\n    );\n\n    const a = issue.stateTransitions;\n    const n = a.length;\n    for (let i = 0; i < n; i += 2) {\n      issue.issueActivities.push({\n        assignee: issue.assignee,\n        start: a[i].timestamp,\n        end: i < n - 1 ? a[i + 1].timestamp : Number.MAX_SAFE_INTEGER,\n        isWaiting: false,\n      });\n    }\n  }\n}\n","import { isFailure } from '@fschopp/project-planning-for-you-track';\nimport { SDataArray } from 's-array';\nimport { Alert } from './alerts-model';\n\n/**\n * Controller for the list of alerts.\n */\nexport class AlertsCtrl {\n  /**\n   * Constructor.\n   *\n   * @param alerts_ Array signal carrying the list of alerts currently shown.\n   */\n  public constructor(\n      private readonly alerts_: SDataArray<Alert>\n  ) { }\n\n  /**\n   * Adds a new alert that is to be shown to the user.\n   *\n   * @param title title of the alert\n   * @param failure details of the alert\n   */\n  public alert(title: string, failure: unknown): void {\n    let message: string;\n    if (isFailure(failure)) {\n      message = failure;\n    } else if (failure instanceof Error) {\n      message = failure.toString();\n    } else {\n      message = `Unknown error: ${failure}`;\n    }\n    this.alerts_.push({title, message});\n  }\n\n  /**\n   * Removes the given alert.\n   *\n   * @param alert alert to be removed, must have been previously created by {@link alert}().\n   */\n  public remove(alert: Alert): void {\n    this.alerts_.remove(alert);\n  }\n}\n","import { S } from './index';\nvar DOCUMENT_FRAGMENT_NODE = 11, TEXT_NODE = 3;\nexport function insert(range, value) {\n    var parent = range.start.parentNode, test = range.start, good = null, t = typeof value;\n    //if (parent === null) {\n    //    throw new Error(\"Surplus.insert() can only be used on a node that has a parent node. \\n\"\n    //        + \"Node ``\" + range.start + \"'' is currently unattached to a parent.\");\n    //}\n    //if (range.end.parentNode !== parent) {\n    //    throw new Error(\"Surplus.insert() requires that the inserted nodes remain sibilings \\n\"\n    //        + \"of the original node.  The DOM has been modified such that this is \\n\"\n    //        + \"no longer the case.\");\n    //}\n    if (t === 'string' || t === 'number') {\n        value = value.toString();\n        if (test.nodeType === TEXT_NODE) {\n            test.data = value;\n            good = test;\n        }\n        else {\n            value = document.createTextNode(value);\n            parent.replaceChild(value, test);\n            if (range.end === test)\n                range.end = value;\n            range.start = good = value;\n        }\n    }\n    else if (value instanceof Node) {\n        if (test !== value) {\n            parent.replaceChild(value, test);\n            if (range.end === test)\n                range.end = value;\n            range.start = value;\n        }\n        good = value;\n    }\n    else if (Array.isArray(value)) {\n        insertArray(value);\n    }\n    else if (value instanceof Function) {\n        S(function () {\n            insert(range, value());\n        });\n        good = range.end;\n    }\n    else if (value !== null && value !== undefined && value !== true && value !== false) {\n        value = value.toString();\n        if (test.nodeType === TEXT_NODE) {\n            test.data = value;\n            good = test;\n        }\n        else {\n            value = document.createTextNode(value);\n            parent.replaceChild(value, test);\n            if (range.end === test)\n                range.end = value;\n            range.start = good = value;\n        }\n    }\n    if (good === null) {\n        if (range.start === parent.firstChild && range.end === parent.lastChild && range.start !== range.end) {\n            // fast delete entire contents\n            parent.textContent = \"\";\n            value = document.createTextNode(\"\");\n            parent.appendChild(value);\n            good = range.start = range.end = value;\n        }\n        else if (test.nodeType === TEXT_NODE) {\n            test.data = \"\";\n            good = test;\n        }\n        else {\n            value = document.createTextNode(\"\");\n            parent.replaceChild(value, test);\n            if (range.end === test)\n                range.end = value;\n            range.start = good = value;\n        }\n    }\n    // remove anything left after the good cursor from the insert range\n    while (good !== range.end) {\n        test = range.end;\n        range.end = test.previousSibling;\n        parent.removeChild(test);\n    }\n    return range;\n    function insertArray(array) {\n        for (var i = 0, len = array.length; i < len; i++) {\n            var value = array[i];\n            if (good === range.end) {\n                if (value instanceof Node) {\n                    good = range.end = (good.nextSibling ? parent.insertBefore(value, good.nextSibling) : parent.appendChild(value));\n                }\n                else if (value instanceof Array) {\n                    insertArray(value);\n                }\n                else if (value !== null && value !== undefined && value !== false && value !== true) {\n                    value = document.createTextNode(value.toString());\n                    good = range.end = (good.nextSibling ? parent.insertBefore(value, good.nextSibling) : parent.appendChild(value));\n                }\n            }\n            else {\n                if (value instanceof Node) {\n                    if (test !== value) {\n                        if (good === null) {\n                            if (range.end === value)\n                                range.end = value.previousSibling;\n                            parent.replaceChild(value, test);\n                            range.start = value;\n                            if (range.end === test)\n                                range.end = value;\n                            test = value.nextSibling;\n                        }\n                        else {\n                            if (test.nextSibling === value && test !== value.nextSibling && test !== range.end) {\n                                parent.removeChild(test);\n                                test = value.nextSibling;\n                            }\n                            else {\n                                if (range.end === value)\n                                    range.end = value.previousSibling;\n                                parent.insertBefore(value, test);\n                            }\n                        }\n                    }\n                    else {\n                        test = test.nextSibling;\n                    }\n                    good = value;\n                }\n                else if (value instanceof Array) {\n                    insertArray(value);\n                }\n                else if (value !== null && value !== undefined && value !== true && value !== false) {\n                    value = value.toString();\n                    if (test.nodeType === TEXT_NODE) {\n                        test.data = value;\n                        if (good === null)\n                            range.start = test;\n                        good = test, test = good.nextSibling;\n                    }\n                    else {\n                        value = document.createTextNode(value);\n                        parent.insertBefore(value, test);\n                        if (good === null)\n                            range.start = value;\n                        good = value;\n                    }\n                }\n            }\n        }\n    }\n}\n","import { S } from './index';\nexport function content(parent, value, current) {\n    var t = typeof value;\n    if (current === value) {\n        // nothing to do\n    }\n    else if (t === 'string') {\n        // if a Text node already exists, it's faster to set its .data than set the parent.textContent\n        if (current !== \"\" && typeof current === 'string') {\n            current = parent.firstChild.data = value;\n        }\n        else {\n            current = parent.textContent = value;\n        }\n    }\n    else if (t === 'number') {\n        value = value.toString();\n        if (current !== \"\" && typeof current === 'string') {\n            current = parent.firstChild.data = value;\n        }\n        else {\n            current = parent.textContent = value;\n        }\n    }\n    else if (value == null || t === 'boolean') { // null, undefined, true or false\n        clear(parent);\n        current = \"\";\n    }\n    else if (t === 'function') {\n        S(function () {\n            current = content(parent, value(), current);\n        });\n    }\n    else if (value instanceof Node) {\n        if (Array.isArray(current)) {\n            if (current.length === 0) {\n                parent.appendChild(value);\n            }\n            else if (current.length === 1) {\n                parent.replaceChild(value, current[0]);\n            }\n            else {\n                clear(parent);\n                parent.appendChild(value);\n            }\n        }\n        else if (current === \"\") {\n            parent.appendChild(value);\n        }\n        else {\n            parent.replaceChild(value, parent.firstChild);\n        }\n        current = value;\n    }\n    else if (Array.isArray(value)) {\n        var array = normalizeIncomingArray([], value);\n        if (array.length === 0) {\n            clear(parent);\n        }\n        else {\n            if (Array.isArray(current)) {\n                if (current.length === 0) {\n                    appendNodes(parent, array, 0, array.length);\n                }\n                else {\n                    reconcileArrays(parent, current, array);\n                }\n            }\n            else if (current === \"\") {\n                appendNodes(parent, array, 0, array.length);\n            }\n            else {\n                reconcileArrays(parent, [parent.firstChild], array);\n            }\n        }\n        current = array;\n    }\n    else {\n        throw new Error(\"content must be Node, stringable, or array of same\");\n    }\n    return current;\n}\nvar NOMATCH = -1, NOINSERT = -2;\nvar RECONCILE_ARRAY_BATCH = 0;\nvar RECONCILE_ARRAY_BITS = 16, RECONCILE_ARRAY_INC = 1 << RECONCILE_ARRAY_BITS, RECONCILE_ARRAY_MASK = RECONCILE_ARRAY_INC - 1;\n// reconcile the content of parent from ns to us\n// see ivi's excellent writeup of diffing arrays in a vdom library: \n// https://github.com/ivijs/ivi/blob/2c81ead934b9128e092cc2a5ef2d3cabc73cb5dd/packages/ivi/src/vdom/implementation.ts#L1187\n// this code isn't identical, since we're diffing real dom nodes to nodes-or-strings, \n// but the core methodology of trimming ends and reversals, matching nodes, then using\n// the longest increasing subsequence to minimize DOM ops is inspired by ivi.\nfunction reconcileArrays(parent, ns, us) {\n    var ulen = us.length, \n    // n = nodes, u = updates\n    // ranges defined by min and max indices\n    nmin = 0, nmax = ns.length - 1, umin = 0, umax = ulen - 1, \n    // start nodes of ranges\n    n = ns[nmin], u = us[umin], \n    // end nodes of ranges\n    nx = ns[nmax], ux = us[umax], \n    // node, if any, just after ux, used for doing .insertBefore() to put nodes at end\n    ul = nx.nextSibling, i, j, k, loop = true;\n    // scan over common prefixes, suffixes, and simple reversals\n    fixes: while (loop) {\n        loop = false;\n        // common prefix, u === n\n        while (equable(u, n, umin, us)) {\n            umin++;\n            nmin++;\n            if (umin > umax || nmin > nmax)\n                break fixes;\n            u = us[umin];\n            n = ns[nmin];\n        }\n        // common suffix, ux === nx\n        while (equable(ux, nx, umax, us)) {\n            ul = nx;\n            umax--;\n            nmax--;\n            if (umin > umax || nmin > nmax)\n                break fixes;\n            ux = us[umax];\n            nx = ns[nmax];\n        }\n        // reversal u === nx, have to swap node forward\n        while (equable(u, nx, umin, us)) {\n            loop = true;\n            parent.insertBefore(nx, n);\n            umin++;\n            nmax--;\n            if (umin > umax || nmin > nmax)\n                break fixes;\n            u = us[umin];\n            nx = ns[nmax];\n        }\n        // reversal ux === n, have to swap node back\n        while (equable(ux, n, umax, us)) {\n            loop = true;\n            if (ul === null)\n                parent.appendChild(n);\n            else\n                parent.insertBefore(n, ul);\n            ul = n;\n            umax--;\n            nmin++;\n            if (umin > umax || nmin > nmax)\n                break fixes;\n            ux = us[umax];\n            n = ns[nmin];\n        }\n    }\n    // if that covered all updates, just need to remove any remaining nodes and we're done\n    if (umin > umax) {\n        // remove any remaining nodes\n        while (nmin <= nmax) {\n            parent.removeChild(ns[nmax]);\n            nmax--;\n        }\n        return;\n    }\n    // if that covered all current nodes, just need to insert any remaining updates and we're done\n    if (nmin > nmax) {\n        // insert any remaining nodes\n        while (umin <= umax) {\n            insertOrAppend(parent, us[umin], ul, umin, us);\n            umin++;\n        }\n        return;\n    }\n    // simple cases don't apply, have to actually match up nodes and figure out minimum DOM ops\n    // loop through nodes and mark them with a special property indicating their order\n    // we'll then go through the updates and look for those properties\n    // in case any of the updates have order properties left over from earlier runs, we \n    // use the low bits of the order prop to record a batch identifier.\n    // I'd much rather use a Map than a special property, but Maps of objects are really\n    // slow currently, like only 100k get/set ops / second\n    // for Text nodes, all that matters is their order, as they're easily, interchangeable\n    // so we record their positions in ntext[]\n    var ntext = [];\n    // update global batch identifer\n    RECONCILE_ARRAY_BATCH = (RECONCILE_ARRAY_BATCH + 1) % RECONCILE_ARRAY_INC;\n    for (i = nmin, j = (nmin << RECONCILE_ARRAY_BITS) + RECONCILE_ARRAY_BATCH; i <= nmax; i++, j += RECONCILE_ARRAY_INC) {\n        n = ns[i];\n        // add or update special order property\n        if (n.__surplus_order === undefined) {\n            Object.defineProperty(n, '__surplus_order', { value: j, writable: true });\n        }\n        else {\n            n.__surplus_order = j;\n        }\n        if (n instanceof Text) {\n            ntext.push(i);\n        }\n    }\n    // now loop through us, looking for the order property, otherwise recording NOMATCH\n    var src = new Array(umax - umin + 1), utext = [], preserved = 0;\n    for (i = umin; i <= umax; i++) {\n        u = us[i];\n        if (typeof u === 'string') {\n            utext.push(i);\n            src[i - umin] = NOMATCH;\n        }\n        else if ((j = u.__surplus_order) !== undefined && (j & RECONCILE_ARRAY_MASK) === RECONCILE_ARRAY_BATCH) {\n            j >>= RECONCILE_ARRAY_BITS;\n            src[i - umin] = j;\n            ns[j] = null;\n            preserved++;\n        }\n        else {\n            src[i - umin] = NOMATCH;\n        }\n    }\n    if (preserved === 0 && nmin === 0 && nmax === ns.length - 1) {\n        // no nodes preserved, use fast clear and append\n        clear(parent);\n        while (umin <= umax) {\n            insertOrAppend(parent, us[umin], null, umin, us);\n            umin++;\n        }\n        return;\n    }\n    // find longest common sequence between ns and us, represented as the indices \n    // of the longest increasing subsequence in src\n    var lcs = longestPositiveIncreasingSubsequence(src);\n    // we know we can preserve their order, so march them as NOINSERT\n    for (i = 0; i < lcs.length; i++) {\n        src[lcs[i]] = NOINSERT;\n    }\n    /*\n              0   1   2   3   4   5   6   7\n    ns    = [ n,  n,  t,  n,  n,  n,  t,  n ]\n                  |          /   /       /\n                  |        /   /       /\n                  +------/---/-------/----+\n                       /   /       /      |\n    us    = [ n,  s,  n,  n,  s,  n,  s,  n ]\n    src   = [-1, -1,  4,  5, -1,  7, -1,  1 ]\n    lis   = [         2,  3,      5]\n                      j\n    utext = [     1,          4,      6 ]\n                  i\n    ntext = [         2,              6 ]\n                      k\n    */\n    // replace strings in us with Text nodes, reusing Text nodes from ns when we can do so without moving them\n    var utexti = 0, lcsj = 0, ntextk = 0;\n    for (i = 0, j = 0, k = 0; i < utext.length; i++) {\n        utexti = utext[i];\n        // need to answer qeustion \"if utext[i] falls between two lcs nodes, is there an ntext between them which we can reuse?\"\n        // first, find j such that lcs[j] is the first lcs node *after* utext[i]\n        while (j < lcs.length && (lcsj = lcs[j]) < utexti - umin)\n            j++;\n        // now, find k such that ntext[k] is the first ntext *after* lcs[j-1] (or after start, if j === 0)\n        while (k < ntext.length && (ntextk = ntext[k], j !== 0) && ntextk < src[lcs[j - 1]])\n            k++;\n        // if ntext[k] < lcs[j], then we know ntext[k] falls between lcs[j-1] (or start) and lcs[j] (or end)\n        // that means we can re-use it without moving it\n        if (k < ntext.length && (j === lcs.length || ntextk < src[lcsj])) {\n            n = ns[ntextk];\n            u = us[utexti];\n            if (n.data !== u)\n                n.data = u;\n            ns[ntextk] = null;\n            us[utexti] = n;\n            src[utexti] = NOINSERT;\n            k++;\n        }\n        else {\n            // if we didn't find one to re-use, make a new Text node\n            us[utexti] = document.createTextNode(us[utexti]);\n        }\n    }\n    // remove stale nodes in ns\n    while (nmin <= nmax) {\n        n = ns[nmin];\n        if (n !== null) {\n            parent.removeChild(n);\n        }\n        nmin++;\n    }\n    // insert new nodes\n    while (umin <= umax) {\n        ux = us[umax];\n        if (src[umax - umin] !== NOINSERT) {\n            if (ul === null)\n                parent.appendChild(ux);\n            else\n                parent.insertBefore(ux, ul);\n        }\n        ul = ux;\n        umax--;\n    }\n}\n// two nodes are \"equable\" if they are identical (===) or if we can make them the same, i.e. they're \n// Text nodes, which we can reuse with the new text\nfunction equable(u, n, i, us) {\n    if (u === n) {\n        return true;\n    }\n    else if (typeof u === 'string' && n instanceof Text) {\n        if (n.data !== u)\n            n.data = u;\n        us[i] = n;\n        return true;\n    }\n    else {\n        return false;\n    }\n}\nfunction appendNodes(parent, array, i, end) {\n    var node;\n    for (; i < end; i++) {\n        node = array[i];\n        if (node instanceof Node) {\n            parent.appendChild(node);\n        }\n        else {\n            node = array[i] = document.createTextNode(node);\n            parent.appendChild(node);\n        }\n    }\n}\nfunction insertOrAppend(parent, node, marker, i, us) {\n    if (typeof node === 'string') {\n        node = us[i] = document.createTextNode(node);\n    }\n    if (marker === null)\n        parent.appendChild(node);\n    else\n        parent.insertBefore(node, marker);\n}\nfunction normalizeIncomingArray(normalized, array) {\n    for (var i = 0, len = array.length; i < len; i++) {\n        var item = array[i];\n        if (item instanceof Node) {\n            normalized.push(item);\n        }\n        else if (item == null || item === true || item === false) { // matches null, undefined, true or false\n            // skip\n        }\n        else if (Array.isArray(item)) {\n            normalizeIncomingArray(normalized, item);\n        }\n        else if (typeof item === 'string') {\n            normalized.push(item);\n        }\n        else {\n            normalized.push(item.toString());\n        }\n    }\n    return normalized;\n}\nfunction clear(node) {\n    node.textContent = \"\";\n}\n// return an array of the indices of ns that comprise the longest increasing subsequence within ns\nfunction longestPositiveIncreasingSubsequence(ns) {\n    var seq = [], is = [], l = -1, pre = new Array(ns.length);\n    for (var i = 0, len = ns.length; i < len; i++) {\n        var n = ns[i];\n        if (n < 0)\n            continue;\n        var j = findGreatestIndexLEQ(seq, n);\n        if (j !== -1)\n            pre[i] = is[j];\n        if (j === l) {\n            l++;\n            seq[l] = n;\n            is[l] = i;\n        }\n        else if (n < seq[j + 1]) {\n            seq[j + 1] = n;\n            is[j + 1] = i;\n        }\n    }\n    for (i = is[l]; l >= 0; i = pre[i], l--) {\n        seq[l] = i;\n    }\n    return seq;\n}\nfunction findGreatestIndexLEQ(seq, n) {\n    // invariant: lo is guaranteed to be index of a value <= n, hi to be >\n    // therefore, they actually start out of range: (-1, last + 1)\n    var lo = -1, hi = seq.length;\n    // fast path for simple increasing sequences\n    if (hi > 0 && seq[hi - 1] <= n)\n        return hi - 1;\n    while (hi - lo > 1) {\n        var mid = Math.floor((lo + hi) / 2);\n        if (seq[mid] > n) {\n            hi = mid;\n        }\n        else {\n            lo = mid;\n        }\n    }\n    return lo;\n}\n","var svgNS = \"http://www.w3.org/2000/svg\";\nexport function createElement(tag, className, parent) {\n    var el = document.createElement(tag);\n    if (className)\n        el.className = className;\n    if (parent)\n        parent.appendChild(el);\n    return el;\n}\nexport function createSvgElement(tag, className, parent) {\n    var el = document.createElementNS(svgNS, tag);\n    if (className)\n        el.setAttribute(\"class\", className);\n    if (parent)\n        parent.appendChild(el);\n    return el;\n}\nexport function createComment(text, parent) {\n    var comment = document.createComment(text);\n    parent.appendChild(comment);\n    return comment;\n}\nexport function createTextNode(text, parent) {\n    var node = document.createTextNode(text);\n    parent.appendChild(node);\n    return node;\n}\nexport function setAttribute(node, name, value) {\n    if (value === false || value === null || value === undefined)\n        node.removeAttribute(name);\n    else\n        node.setAttribute(name, value);\n}\nexport function setAttributeNS(node, namespace, name, value) {\n    if (value === false || value === null || value === undefined)\n        node.removeAttributeNS(namespace, name);\n    else\n        node.setAttributeNS(namespace, name, value);\n}\n","var \n// pre-seed the caches with a few special cases, so we don't need to check for them in the common cases\nhtmlFieldCache = {\n    // special props\n    style: ['style', null, 3 /* Assign */],\n    ref: ['ref', null, 2 /* Ignore */],\n    fn: ['fn', null, 2 /* Ignore */],\n    // attr compat\n    class: ['className', null, 0 /* Property */],\n    for: ['htmlFor', null, 0 /* Property */],\n    \"accept-charset\": ['acceptCharset', null, 0 /* Property */],\n    \"http-equiv\": ['httpEquiv', null, 0 /* Property */],\n    // a few React oddities, mostly disagreeing about casing\n    onDoubleClick: ['ondblclick', null, 0 /* Property */],\n    spellCheck: ['spellcheck', null, 0 /* Property */],\n    allowFullScreen: ['allowFullscreen', null, 0 /* Property */],\n    autoCapitalize: ['autocapitalize', null, 0 /* Property */],\n    autoFocus: ['autofocus', null, 0 /* Property */],\n    autoPlay: ['autoplay', null, 0 /* Property */],\n    // other\n    // role is part of the ARIA spec but not caught by the aria- attr filter\n    role: ['role', null, 1 /* Attribute */]\n}, svgFieldCache = {\n    // special props\n    style: ['style', null, 3 /* Assign */],\n    ref: ['ref', null, 2 /* Ignore */],\n    fn: ['fn', null, 2 /* Ignore */],\n    // property compat\n    className: ['class', null, 1 /* Attribute */],\n    htmlFor: ['for', null, 1 /* Attribute */],\n    tabIndex: ['tabindex', null, 1 /* Attribute */],\n    // React compat\n    onDoubleClick: ['ondblclick', null, 0 /* Property */],\n    // attributes with eccentric casing - some SVG attrs are snake-cased, some camelCased\n    allowReorder: ['allowReorder', null, 1 /* Attribute */],\n    attributeName: ['attributeName', null, 1 /* Attribute */],\n    attributeType: ['attributeType', null, 1 /* Attribute */],\n    autoReverse: ['autoReverse', null, 1 /* Attribute */],\n    baseFrequency: ['baseFrequency', null, 1 /* Attribute */],\n    calcMode: ['calcMode', null, 1 /* Attribute */],\n    clipPathUnits: ['clipPathUnits', null, 1 /* Attribute */],\n    contentScriptType: ['contentScriptType', null, 1 /* Attribute */],\n    contentStyleType: ['contentStyleType', null, 1 /* Attribute */],\n    diffuseConstant: ['diffuseConstant', null, 1 /* Attribute */],\n    edgeMode: ['edgeMode', null, 1 /* Attribute */],\n    externalResourcesRequired: ['externalResourcesRequired', null, 1 /* Attribute */],\n    filterRes: ['filterRes', null, 1 /* Attribute */],\n    filterUnits: ['filterUnits', null, 1 /* Attribute */],\n    gradientTransform: ['gradientTransform', null, 1 /* Attribute */],\n    gradientUnits: ['gradientUnits', null, 1 /* Attribute */],\n    kernelMatrix: ['kernelMatrix', null, 1 /* Attribute */],\n    kernelUnitLength: ['kernelUnitLength', null, 1 /* Attribute */],\n    keyPoints: ['keyPoints', null, 1 /* Attribute */],\n    keySplines: ['keySplines', null, 1 /* Attribute */],\n    keyTimes: ['keyTimes', null, 1 /* Attribute */],\n    lengthAdjust: ['lengthAdjust', null, 1 /* Attribute */],\n    limitingConeAngle: ['limitingConeAngle', null, 1 /* Attribute */],\n    markerHeight: ['markerHeight', null, 1 /* Attribute */],\n    markerUnits: ['markerUnits', null, 1 /* Attribute */],\n    maskContentUnits: ['maskContentUnits', null, 1 /* Attribute */],\n    maskUnits: ['maskUnits', null, 1 /* Attribute */],\n    numOctaves: ['numOctaves', null, 1 /* Attribute */],\n    pathLength: ['pathLength', null, 1 /* Attribute */],\n    patternContentUnits: ['patternContentUnits', null, 1 /* Attribute */],\n    patternTransform: ['patternTransform', null, 1 /* Attribute */],\n    patternUnits: ['patternUnits', null, 1 /* Attribute */],\n    pointsAtX: ['pointsAtX', null, 1 /* Attribute */],\n    pointsAtY: ['pointsAtY', null, 1 /* Attribute */],\n    pointsAtZ: ['pointsAtZ', null, 1 /* Attribute */],\n    preserveAlpha: ['preserveAlpha', null, 1 /* Attribute */],\n    preserveAspectRatio: ['preserveAspectRatio', null, 1 /* Attribute */],\n    primitiveUnits: ['primitiveUnits', null, 1 /* Attribute */],\n    refX: ['refX', null, 1 /* Attribute */],\n    refY: ['refY', null, 1 /* Attribute */],\n    repeatCount: ['repeatCount', null, 1 /* Attribute */],\n    repeatDur: ['repeatDur', null, 1 /* Attribute */],\n    requiredExtensions: ['requiredExtensions', null, 1 /* Attribute */],\n    requiredFeatures: ['requiredFeatures', null, 1 /* Attribute */],\n    specularConstant: ['specularConstant', null, 1 /* Attribute */],\n    specularExponent: ['specularExponent', null, 1 /* Attribute */],\n    spreadMethod: ['spreadMethod', null, 1 /* Attribute */],\n    startOffset: ['startOffset', null, 1 /* Attribute */],\n    stdDeviation: ['stdDeviation', null, 1 /* Attribute */],\n    stitchTiles: ['stitchTiles', null, 1 /* Attribute */],\n    surfaceScale: ['surfaceScale', null, 1 /* Attribute */],\n    systemLanguage: ['systemLanguage', null, 1 /* Attribute */],\n    tableValues: ['tableValues', null, 1 /* Attribute */],\n    targetX: ['targetX', null, 1 /* Attribute */],\n    targetY: ['targetY', null, 1 /* Attribute */],\n    textLength: ['textLength', null, 1 /* Attribute */],\n    viewBox: ['viewBox', null, 1 /* Attribute */],\n    viewTarget: ['viewTarget', null, 1 /* Attribute */],\n    xChannelSelector: ['xChannelSelector', null, 1 /* Attribute */],\n    yChannelSelector: ['yChannelSelector', null, 1 /* Attribute */],\n    zoomAndPan: ['zoomAndPan', null, 1 /* Attribute */],\n};\nvar attributeOnlyRx = /-/, deepAttrRx = /^style-/, isAttrOnlyField = function (field) { return attributeOnlyRx.test(field) && !deepAttrRx.test(field); }, propOnlyRx = /^(on|style)/, isPropOnlyField = function (field) { return propOnlyRx.test(field); }, propPartRx = /[a-z][A-Z]/g, getAttrName = function (field) { return field.replace(propPartRx, function (m) { return m[0] + '-' + m[1]; }).toLowerCase(); }, jsxEventPropRx = /^on[A-Z]/, attrPartRx = /\\-(?:[a-z]|$)/g, getPropName = function (field) {\n    var prop = field.replace(attrPartRx, function (m) { return m.length === 1 ? '' : m[1].toUpperCase(); });\n    return jsxEventPropRx.test(prop) ? prop.toLowerCase() : prop;\n}, deepPropRx = /^(style)([A-Z])/, buildPropData = function (prop) {\n    var m = deepPropRx.exec(prop);\n    return m ? [m[2].toLowerCase() + prop.substr(m[0].length), m[1], 0 /* Property */] : [prop, null, 0 /* Property */];\n}, attrNamespaces = {\n    xlink: \"http://www.w3.org/1999/xlink\",\n    xml: \"http://www.w3.org/XML/1998/namespace\",\n}, attrNamespaceRx = new RegExp(\"^(\" + Object.keys(attrNamespaces).join('|') + \")-(.*)\"), buildAttrData = function (attr) {\n    var m = attrNamespaceRx.exec(attr);\n    return m ? [m[2], attrNamespaces[m[1]], 1 /* Attribute */] : [attr, null, 1 /* Attribute */];\n};\nexport var getFieldData = function (field, svg) {\n    var cache = svg ? svgFieldCache : htmlFieldCache, cached = cache[field];\n    if (cached)\n        return cached;\n    var attr = svg && !isPropOnlyField(field)\n        || !svg && isAttrOnlyField(field), name = attr ? getAttrName(field) : getPropName(field);\n    if (name !== field && (cached = cache[name]))\n        return cached;\n    var data = attr ? buildAttrData(name) : buildPropData(name);\n    return cache[field] = data;\n};\n","import { setAttribute } from './dom';\nimport { getFieldData } from './fieldData';\nimport { setAttributeNS } from './index';\nexport function assign(a, b) {\n    var props = Object.keys(b);\n    for (var i = 0, len = props.length; i < len; i++) {\n        var name = props[i];\n        a[name] = b[name];\n    }\n}\nexport function spread(node, obj, svg) {\n    var props = Object.keys(obj);\n    for (var i = 0, len = props.length; i < len; i++) {\n        var name = props[i];\n        setField(node, name, obj[name], svg);\n    }\n}\nfunction setField(node, field, value, svg) {\n    var _a = getFieldData(field, svg), name = _a[0], namespace = _a[1], flags = _a[2], type = flags & 3 /* Type */;\n    if (type === 0 /* Property */) {\n        if (namespace)\n            node = node[namespace];\n        node[name] = value;\n    }\n    else if (type === 1 /* Attribute */) {\n        if (namespace)\n            setAttributeNS(node, namespace, name, value);\n        else\n            setAttribute(node, name, value);\n    }\n    else if (type === 3 /* Assign */) {\n        if (value && typeof value === 'object')\n            assign(node.style, value);\n    }\n}\n","export { insert } from './insert';\nexport { content } from './content';\nexport * from './dom';\nexport { spread, assign } from './spread';\nexport { default as S } from 's-js';\n",null,"import S, { DataSignal } from 's-js';\n\n/**\n * Counter of data signals that carry `true`.\n *\n * This class implements a counter that is updated in runtime O(1) whenever a signal changes.\n */\nexport class Counter {\n  private readonly signalToDisposeFnMap_: Map<() => boolean, () => void> = new Map();\n  private readonly countChangedSignal_: DataSignal<null> = S.data(null);\n  private numTrueSignals_: number = 0;\n\n  /**\n   * Constructor.\n   *\n   * @param count Signal that will be carry the number of `true` signals observed by this counter.\n   */\n  public constructor(\n      count: DataSignal<number>\n  ) {\n    // 'seed' is undefined (the calculation does not keep a state), and 'onchanges' is false (do the initial run).\n    S.on(this.countChangedSignal_, () => count(this.numTrueSignals_), undefined, false);\n  }\n\n  /**\n   * Adds a signal to the counter.\n   *\n   * @throws Error if the given signal has been added before\n   */\n  public add(signal: () => boolean): void {\n    if (this.signalToDisposeFnMap_.has(signal)) {\n      throw new Error('Counter.add() called more than once for same signal.');\n    }\n    this.signalToDisposeFnMap_.set(signal, S.root((disposeFn) => {\n      let didAddToCounter: boolean = false;\n      // 'seed' is undefined (the calculation does not keep a state), and 'onchanges' is false (do the initial run).\n      S.on(signal, () => {\n        const isCurrentlyTrue: boolean = S.sample(signal);\n        if (isCurrentlyTrue && !didAddToCounter) {\n          ++this.numTrueSignals_;\n          this.countChangedSignal_(null);\n        } else if (!isCurrentlyTrue && didAddToCounter) {\n          --this.numTrueSignals_;\n          this.countChangedSignal_(null);\n        }\n        didAddToCounter = isCurrentlyTrue;\n      }, undefined, false);\n      return disposeFn;\n    }));\n  }\n\n  /**\n   * Removes a signal from the counter.\n   *\n   * @throws Error if the given signal has not previously beend added with {@link add}()\n   */\n  public delete(signal: () => boolean): void {\n    const disposeFn = this.signalToDisposeFnMap_.get(signal);\n    if (disposeFn === undefined) {\n      throw new Error('Counter.delete() called without a corresponding prior add() call.');\n    }\n    if (S.sample(signal)) {\n      --this.numTrueSignals_;\n      this.countChangedSignal_(null);\n    }\n    disposeFn();\n    this.signalToDisposeFnMap_.delete(signal);\n  }\n}\n","/*\nobject-assign\n(c) Sindre Sorhus\n@license MIT\n*/\n\n'use strict';\n/* eslint-disable no-unused-vars */\nvar getOwnPropertySymbols = Object.getOwnPropertySymbols;\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\nvar propIsEnumerable = Object.prototype.propertyIsEnumerable;\n\nfunction toObject(val) {\n\tif (val === null || val === undefined) {\n\t\tthrow new TypeError('Object.assign cannot be called with null or undefined');\n\t}\n\n\treturn Object(val);\n}\n\nfunction shouldUseNative() {\n\ttry {\n\t\tif (!Object.assign) {\n\t\t\treturn false;\n\t\t}\n\n\t\t// Detect buggy property enumeration order in older V8 versions.\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=4118\n\t\tvar test1 = new String('abc');  // eslint-disable-line no-new-wrappers\n\t\ttest1[5] = 'de';\n\t\tif (Object.getOwnPropertyNames(test1)[0] === '5') {\n\t\t\treturn false;\n\t\t}\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=3056\n\t\tvar test2 = {};\n\t\tfor (var i = 0; i < 10; i++) {\n\t\t\ttest2['_' + String.fromCharCode(i)] = i;\n\t\t}\n\t\tvar order2 = Object.getOwnPropertyNames(test2).map(function (n) {\n\t\t\treturn test2[n];\n\t\t});\n\t\tif (order2.join('') !== '0123456789') {\n\t\t\treturn false;\n\t\t}\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=3056\n\t\tvar test3 = {};\n\t\t'abcdefghijklmnopqrst'.split('').forEach(function (letter) {\n\t\t\ttest3[letter] = letter;\n\t\t});\n\t\tif (Object.keys(Object.assign({}, test3)).join('') !==\n\t\t\t\t'abcdefghijklmnopqrst') {\n\t\t\treturn false;\n\t\t}\n\n\t\treturn true;\n\t} catch (err) {\n\t\t// We don't expect any of the above to throw, but better to be safe.\n\t\treturn false;\n\t}\n}\n\nmodule.exports = shouldUseNative() ? Object.assign : function (target, source) {\n\tvar from;\n\tvar to = toObject(target);\n\tvar symbols;\n\n\tfor (var s = 1; s < arguments.length; s++) {\n\t\tfrom = Object(arguments[s]);\n\n\t\tfor (var key in from) {\n\t\t\tif (hasOwnProperty.call(from, key)) {\n\t\t\t\tto[key] = from[key];\n\t\t\t}\n\t\t}\n\n\t\tif (getOwnPropertySymbols) {\n\t\t\tsymbols = getOwnPropertySymbols(from);\n\t\t\tfor (var i = 0; i < symbols.length; i++) {\n\t\t\t\tif (propIsEnumerable.call(from, symbols[i])) {\n\t\t\t\t\tto[symbols[i]] = from[symbols[i]];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\treturn to;\n};\n","module.exports = function isBuffer(arg) {\n  return arg && typeof arg === 'object'\n    && typeof arg.copy === 'function'\n    && typeof arg.fill === 'function'\n    && typeof arg.readUInt8 === 'function';\n}","if (typeof Object.create === 'function') {\n  // implementation from standard node.js 'util' module\n  module.exports = function inherits(ctor, superCtor) {\n    ctor.super_ = superCtor\n    ctor.prototype = Object.create(superCtor.prototype, {\n      constructor: {\n        value: ctor,\n        enumerable: false,\n        writable: true,\n        configurable: true\n      }\n    });\n  };\n} else {\n  // old school shim for old browsers\n  module.exports = function inherits(ctor, superCtor) {\n    ctor.super_ = superCtor\n    var TempCtor = function () {}\n    TempCtor.prototype = superCtor.prototype\n    ctor.prototype = new TempCtor()\n    ctor.prototype.constructor = ctor\n  }\n}\n","// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\nprocess.prependListener = noop;\nprocess.prependOnceListener = noop;\n\nprocess.listeners = function (name) { return [] }\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\nvar formatRegExp = /%[sdj%]/g;\nexports.format = function(f) {\n  if (!isString(f)) {\n    var objects = [];\n    for (var i = 0; i < arguments.length; i++) {\n      objects.push(inspect(arguments[i]));\n    }\n    return objects.join(' ');\n  }\n\n  var i = 1;\n  var args = arguments;\n  var len = args.length;\n  var str = String(f).replace(formatRegExp, function(x) {\n    if (x === '%%') return '%';\n    if (i >= len) return x;\n    switch (x) {\n      case '%s': return String(args[i++]);\n      case '%d': return Number(args[i++]);\n      case '%j':\n        try {\n          return JSON.stringify(args[i++]);\n        } catch (_) {\n          return '[Circular]';\n        }\n      default:\n        return x;\n    }\n  });\n  for (var x = args[i]; i < len; x = args[++i]) {\n    if (isNull(x) || !isObject(x)) {\n      str += ' ' + x;\n    } else {\n      str += ' ' + inspect(x);\n    }\n  }\n  return str;\n};\n\n\n// Mark that a method should not be used.\n// Returns a modified function which warns once by default.\n// If --no-deprecation is set, then it is a no-op.\nexports.deprecate = function(fn, msg) {\n  // Allow for deprecating things in the process of starting up.\n  if (isUndefined(global.process)) {\n    return function() {\n      return exports.deprecate(fn, msg).apply(this, arguments);\n    };\n  }\n\n  if (process.noDeprecation === true) {\n    return fn;\n  }\n\n  var warned = false;\n  function deprecated() {\n    if (!warned) {\n      if (process.throwDeprecation) {\n        throw new Error(msg);\n      } else if (process.traceDeprecation) {\n        console.trace(msg);\n      } else {\n        console.error(msg);\n      }\n      warned = true;\n    }\n    return fn.apply(this, arguments);\n  }\n\n  return deprecated;\n};\n\n\nvar debugs = {};\nvar debugEnviron;\nexports.debuglog = function(set) {\n  if (isUndefined(debugEnviron))\n    debugEnviron = process.env.NODE_DEBUG || '';\n  set = set.toUpperCase();\n  if (!debugs[set]) {\n    if (new RegExp('\\\\b' + set + '\\\\b', 'i').test(debugEnviron)) {\n      var pid = process.pid;\n      debugs[set] = function() {\n        var msg = exports.format.apply(exports, arguments);\n        console.error('%s %d: %s', set, pid, msg);\n      };\n    } else {\n      debugs[set] = function() {};\n    }\n  }\n  return debugs[set];\n};\n\n\n/**\n * Echos the value of a value. Trys to print the value out\n * in the best way possible given the different types.\n *\n * @param {Object} obj The object to print out.\n * @param {Object} opts Optional options object that alters the output.\n */\n/* legacy: obj, showHidden, depth, colors*/\nfunction inspect(obj, opts) {\n  // default options\n  var ctx = {\n    seen: [],\n    stylize: stylizeNoColor\n  };\n  // legacy...\n  if (arguments.length >= 3) ctx.depth = arguments[2];\n  if (arguments.length >= 4) ctx.colors = arguments[3];\n  if (isBoolean(opts)) {\n    // legacy...\n    ctx.showHidden = opts;\n  } else if (opts) {\n    // got an \"options\" object\n    exports._extend(ctx, opts);\n  }\n  // set default options\n  if (isUndefined(ctx.showHidden)) ctx.showHidden = false;\n  if (isUndefined(ctx.depth)) ctx.depth = 2;\n  if (isUndefined(ctx.colors)) ctx.colors = false;\n  if (isUndefined(ctx.customInspect)) ctx.customInspect = true;\n  if (ctx.colors) ctx.stylize = stylizeWithColor;\n  return formatValue(ctx, obj, ctx.depth);\n}\nexports.inspect = inspect;\n\n\n// http://en.wikipedia.org/wiki/ANSI_escape_code#graphics\ninspect.colors = {\n  'bold' : [1, 22],\n  'italic' : [3, 23],\n  'underline' : [4, 24],\n  'inverse' : [7, 27],\n  'white' : [37, 39],\n  'grey' : [90, 39],\n  'black' : [30, 39],\n  'blue' : [34, 39],\n  'cyan' : [36, 39],\n  'green' : [32, 39],\n  'magenta' : [35, 39],\n  'red' : [31, 39],\n  'yellow' : [33, 39]\n};\n\n// Don't use 'blue' not visible on cmd.exe\ninspect.styles = {\n  'special': 'cyan',\n  'number': 'yellow',\n  'boolean': 'yellow',\n  'undefined': 'grey',\n  'null': 'bold',\n  'string': 'green',\n  'date': 'magenta',\n  // \"name\": intentionally not styling\n  'regexp': 'red'\n};\n\n\nfunction stylizeWithColor(str, styleType) {\n  var style = inspect.styles[styleType];\n\n  if (style) {\n    return '\\u001b[' + inspect.colors[style][0] + 'm' + str +\n           '\\u001b[' + inspect.colors[style][1] + 'm';\n  } else {\n    return str;\n  }\n}\n\n\nfunction stylizeNoColor(str, styleType) {\n  return str;\n}\n\n\nfunction arrayToHash(array) {\n  var hash = {};\n\n  array.forEach(function(val, idx) {\n    hash[val] = true;\n  });\n\n  return hash;\n}\n\n\nfunction formatValue(ctx, value, recurseTimes) {\n  // Provide a hook for user-specified inspect functions.\n  // Check that value is an object with an inspect function on it\n  if (ctx.customInspect &&\n      value &&\n      isFunction(value.inspect) &&\n      // Filter out the util module, it's inspect function is special\n      value.inspect !== exports.inspect &&\n      // Also filter out any prototype objects using the circular check.\n      !(value.constructor && value.constructor.prototype === value)) {\n    var ret = value.inspect(recurseTimes, ctx);\n    if (!isString(ret)) {\n      ret = formatValue(ctx, ret, recurseTimes);\n    }\n    return ret;\n  }\n\n  // Primitive types cannot have properties\n  var primitive = formatPrimitive(ctx, value);\n  if (primitive) {\n    return primitive;\n  }\n\n  // Look up the keys of the object.\n  var keys = Object.keys(value);\n  var visibleKeys = arrayToHash(keys);\n\n  if (ctx.showHidden) {\n    keys = Object.getOwnPropertyNames(value);\n  }\n\n  // IE doesn't make error fields non-enumerable\n  // http://msdn.microsoft.com/en-us/library/ie/dww52sbt(v=vs.94).aspx\n  if (isError(value)\n      && (keys.indexOf('message') >= 0 || keys.indexOf('description') >= 0)) {\n    return formatError(value);\n  }\n\n  // Some type of object without properties can be shortcutted.\n  if (keys.length === 0) {\n    if (isFunction(value)) {\n      var name = value.name ? ': ' + value.name : '';\n      return ctx.stylize('[Function' + name + ']', 'special');\n    }\n    if (isRegExp(value)) {\n      return ctx.stylize(RegExp.prototype.toString.call(value), 'regexp');\n    }\n    if (isDate(value)) {\n      return ctx.stylize(Date.prototype.toString.call(value), 'date');\n    }\n    if (isError(value)) {\n      return formatError(value);\n    }\n  }\n\n  var base = '', array = false, braces = ['{', '}'];\n\n  // Make Array say that they are Array\n  if (isArray(value)) {\n    array = true;\n    braces = ['[', ']'];\n  }\n\n  // Make functions say that they are functions\n  if (isFunction(value)) {\n    var n = value.name ? ': ' + value.name : '';\n    base = ' [Function' + n + ']';\n  }\n\n  // Make RegExps say that they are RegExps\n  if (isRegExp(value)) {\n    base = ' ' + RegExp.prototype.toString.call(value);\n  }\n\n  // Make dates with properties first say the date\n  if (isDate(value)) {\n    base = ' ' + Date.prototype.toUTCString.call(value);\n  }\n\n  // Make error with message first say the error\n  if (isError(value)) {\n    base = ' ' + formatError(value);\n  }\n\n  if (keys.length === 0 && (!array || value.length == 0)) {\n    return braces[0] + base + braces[1];\n  }\n\n  if (recurseTimes < 0) {\n    if (isRegExp(value)) {\n      return ctx.stylize(RegExp.prototype.toString.call(value), 'regexp');\n    } else {\n      return ctx.stylize('[Object]', 'special');\n    }\n  }\n\n  ctx.seen.push(value);\n\n  var output;\n  if (array) {\n    output = formatArray(ctx, value, recurseTimes, visibleKeys, keys);\n  } else {\n    output = keys.map(function(key) {\n      return formatProperty(ctx, value, recurseTimes, visibleKeys, key, array);\n    });\n  }\n\n  ctx.seen.pop();\n\n  return reduceToSingleString(output, base, braces);\n}\n\n\nfunction formatPrimitive(ctx, value) {\n  if (isUndefined(value))\n    return ctx.stylize('undefined', 'undefined');\n  if (isString(value)) {\n    var simple = '\\'' + JSON.stringify(value).replace(/^\"|\"$/g, '')\n                                             .replace(/'/g, \"\\\\'\")\n                                             .replace(/\\\\\"/g, '\"') + '\\'';\n    return ctx.stylize(simple, 'string');\n  }\n  if (isNumber(value))\n    return ctx.stylize('' + value, 'number');\n  if (isBoolean(value))\n    return ctx.stylize('' + value, 'boolean');\n  // For some reason typeof null is \"object\", so special case here.\n  if (isNull(value))\n    return ctx.stylize('null', 'null');\n}\n\n\nfunction formatError(value) {\n  return '[' + Error.prototype.toString.call(value) + ']';\n}\n\n\nfunction formatArray(ctx, value, recurseTimes, visibleKeys, keys) {\n  var output = [];\n  for (var i = 0, l = value.length; i < l; ++i) {\n    if (hasOwnProperty(value, String(i))) {\n      output.push(formatProperty(ctx, value, recurseTimes, visibleKeys,\n          String(i), true));\n    } else {\n      output.push('');\n    }\n  }\n  keys.forEach(function(key) {\n    if (!key.match(/^\\d+$/)) {\n      output.push(formatProperty(ctx, value, recurseTimes, visibleKeys,\n          key, true));\n    }\n  });\n  return output;\n}\n\n\nfunction formatProperty(ctx, value, recurseTimes, visibleKeys, key, array) {\n  var name, str, desc;\n  desc = Object.getOwnPropertyDescriptor(value, key) || { value: value[key] };\n  if (desc.get) {\n    if (desc.set) {\n      str = ctx.stylize('[Getter/Setter]', 'special');\n    } else {\n      str = ctx.stylize('[Getter]', 'special');\n    }\n  } else {\n    if (desc.set) {\n      str = ctx.stylize('[Setter]', 'special');\n    }\n  }\n  if (!hasOwnProperty(visibleKeys, key)) {\n    name = '[' + key + ']';\n  }\n  if (!str) {\n    if (ctx.seen.indexOf(desc.value) < 0) {\n      if (isNull(recurseTimes)) {\n        str = formatValue(ctx, desc.value, null);\n      } else {\n        str = formatValue(ctx, desc.value, recurseTimes - 1);\n      }\n      if (str.indexOf('\\n') > -1) {\n        if (array) {\n          str = str.split('\\n').map(function(line) {\n            return '  ' + line;\n          }).join('\\n').substr(2);\n        } else {\n          str = '\\n' + str.split('\\n').map(function(line) {\n            return '   ' + line;\n          }).join('\\n');\n        }\n      }\n    } else {\n      str = ctx.stylize('[Circular]', 'special');\n    }\n  }\n  if (isUndefined(name)) {\n    if (array && key.match(/^\\d+$/)) {\n      return str;\n    }\n    name = JSON.stringify('' + key);\n    if (name.match(/^\"([a-zA-Z_][a-zA-Z_0-9]*)\"$/)) {\n      name = name.substr(1, name.length - 2);\n      name = ctx.stylize(name, 'name');\n    } else {\n      name = name.replace(/'/g, \"\\\\'\")\n                 .replace(/\\\\\"/g, '\"')\n                 .replace(/(^\"|\"$)/g, \"'\");\n      name = ctx.stylize(name, 'string');\n    }\n  }\n\n  return name + ': ' + str;\n}\n\n\nfunction reduceToSingleString(output, base, braces) {\n  var numLinesEst = 0;\n  var length = output.reduce(function(prev, cur) {\n    numLinesEst++;\n    if (cur.indexOf('\\n') >= 0) numLinesEst++;\n    return prev + cur.replace(/\\u001b\\[\\d\\d?m/g, '').length + 1;\n  }, 0);\n\n  if (length > 60) {\n    return braces[0] +\n           (base === '' ? '' : base + '\\n ') +\n           ' ' +\n           output.join(',\\n  ') +\n           ' ' +\n           braces[1];\n  }\n\n  return braces[0] + base + ' ' + output.join(', ') + ' ' + braces[1];\n}\n\n\n// NOTE: These type checking functions intentionally don't use `instanceof`\n// because it is fragile and can be easily faked with `Object.create()`.\nfunction isArray(ar) {\n  return Array.isArray(ar);\n}\nexports.isArray = isArray;\n\nfunction isBoolean(arg) {\n  return typeof arg === 'boolean';\n}\nexports.isBoolean = isBoolean;\n\nfunction isNull(arg) {\n  return arg === null;\n}\nexports.isNull = isNull;\n\nfunction isNullOrUndefined(arg) {\n  return arg == null;\n}\nexports.isNullOrUndefined = isNullOrUndefined;\n\nfunction isNumber(arg) {\n  return typeof arg === 'number';\n}\nexports.isNumber = isNumber;\n\nfunction isString(arg) {\n  return typeof arg === 'string';\n}\nexports.isString = isString;\n\nfunction isSymbol(arg) {\n  return typeof arg === 'symbol';\n}\nexports.isSymbol = isSymbol;\n\nfunction isUndefined(arg) {\n  return arg === void 0;\n}\nexports.isUndefined = isUndefined;\n\nfunction isRegExp(re) {\n  return isObject(re) && objectToString(re) === '[object RegExp]';\n}\nexports.isRegExp = isRegExp;\n\nfunction isObject(arg) {\n  return typeof arg === 'object' && arg !== null;\n}\nexports.isObject = isObject;\n\nfunction isDate(d) {\n  return isObject(d) && objectToString(d) === '[object Date]';\n}\nexports.isDate = isDate;\n\nfunction isError(e) {\n  return isObject(e) &&\n      (objectToString(e) === '[object Error]' || e instanceof Error);\n}\nexports.isError = isError;\n\nfunction isFunction(arg) {\n  return typeof arg === 'function';\n}\nexports.isFunction = isFunction;\n\nfunction isPrimitive(arg) {\n  return arg === null ||\n         typeof arg === 'boolean' ||\n         typeof arg === 'number' ||\n         typeof arg === 'string' ||\n         typeof arg === 'symbol' ||  // ES6 symbol\n         typeof arg === 'undefined';\n}\nexports.isPrimitive = isPrimitive;\n\nexports.isBuffer = require('./support/isBuffer');\n\nfunction objectToString(o) {\n  return Object.prototype.toString.call(o);\n}\n\n\nfunction pad(n) {\n  return n < 10 ? '0' + n.toString(10) : n.toString(10);\n}\n\n\nvar months = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep',\n              'Oct', 'Nov', 'Dec'];\n\n// 26 Feb 16:19:34\nfunction timestamp() {\n  var d = new Date();\n  var time = [pad(d.getHours()),\n              pad(d.getMinutes()),\n              pad(d.getSeconds())].join(':');\n  return [d.getDate(), months[d.getMonth()], time].join(' ');\n}\n\n\n// log is just a thin wrapper to console.log that prepends a timestamp\nexports.log = function() {\n  console.log('%s - %s', timestamp(), exports.format.apply(exports, arguments));\n};\n\n\n/**\n * Inherit the prototype methods from one constructor into another.\n *\n * The Function.prototype.inherits from lang.js rewritten as a standalone\n * function (not on Function.prototype). NOTE: If this file is to be loaded\n * during bootstrapping this function needs to be rewritten using some native\n * functions as prototype setup using normal JavaScript does not work as\n * expected during bootstrapping (see mirror.js in r114903).\n *\n * @param {function} ctor Constructor function which needs to inherit the\n *     prototype.\n * @param {function} superCtor Constructor function to inherit prototype from.\n */\nexports.inherits = require('inherits');\n\nexports._extend = function(origin, add) {\n  // Don't do anything if add isn't an object\n  if (!add || !isObject(add)) return origin;\n\n  var keys = Object.keys(add);\n  var i = keys.length;\n  while (i--) {\n    origin[keys[i]] = add[keys[i]];\n  }\n  return origin;\n};\n\nfunction hasOwnProperty(obj, prop) {\n  return Object.prototype.hasOwnProperty.call(obj, prop);\n}\n","'use strict';\n\nvar objectAssign = require('object-assign');\n\n// compare and isBuffer taken from https://github.com/feross/buffer/blob/680e9e5e488f22aac27599a57dc844a6315928dd/index.js\n// original notice:\n\n/*!\n * The buffer module from node.js, for the browser.\n *\n * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>\n * @license  MIT\n */\nfunction compare(a, b) {\n  if (a === b) {\n    return 0;\n  }\n\n  var x = a.length;\n  var y = b.length;\n\n  for (var i = 0, len = Math.min(x, y); i < len; ++i) {\n    if (a[i] !== b[i]) {\n      x = a[i];\n      y = b[i];\n      break;\n    }\n  }\n\n  if (x < y) {\n    return -1;\n  }\n  if (y < x) {\n    return 1;\n  }\n  return 0;\n}\nfunction isBuffer(b) {\n  if (global.Buffer && typeof global.Buffer.isBuffer === 'function') {\n    return global.Buffer.isBuffer(b);\n  }\n  return !!(b != null && b._isBuffer);\n}\n\n// based on node assert, original notice:\n// NB: The URL to the CommonJS spec is kept just for tradition.\n//     node-assert has evolved a lot since then, both in API and behavior.\n\n// http://wiki.commonjs.org/wiki/Unit_Testing/1.0\n//\n// THIS IS NOT TESTED NOR LIKELY TO WORK OUTSIDE V8!\n//\n// Originally from narwhal.js (http://narwhaljs.org)\n// Copyright (c) 2009 Thomas Robinson <280north.com>\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the 'Software'), to\n// deal in the Software without restriction, including without limitation the\n// rights to use, copy, modify, merge, publish, distribute, sublicense, and/or\n// sell copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED 'AS IS', WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN\n// ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION\n// WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n\nvar util = require('util/');\nvar hasOwn = Object.prototype.hasOwnProperty;\nvar pSlice = Array.prototype.slice;\nvar functionsHaveNames = (function () {\n  return function foo() {}.name === 'foo';\n}());\nfunction pToString (obj) {\n  return Object.prototype.toString.call(obj);\n}\nfunction isView(arrbuf) {\n  if (isBuffer(arrbuf)) {\n    return false;\n  }\n  if (typeof global.ArrayBuffer !== 'function') {\n    return false;\n  }\n  if (typeof ArrayBuffer.isView === 'function') {\n    return ArrayBuffer.isView(arrbuf);\n  }\n  if (!arrbuf) {\n    return false;\n  }\n  if (arrbuf instanceof DataView) {\n    return true;\n  }\n  if (arrbuf.buffer && arrbuf.buffer instanceof ArrayBuffer) {\n    return true;\n  }\n  return false;\n}\n// 1. The assert module provides functions that throw\n// AssertionError's when particular conditions are not met. The\n// assert module must conform to the following interface.\n\nvar assert = module.exports = ok;\n\n// 2. The AssertionError is defined in assert.\n// new assert.AssertionError({ message: message,\n//                             actual: actual,\n//                             expected: expected })\n\nvar regex = /\\s*function\\s+([^\\(\\s]*)\\s*/;\n// based on https://github.com/ljharb/function.prototype.name/blob/adeeeec8bfcc6068b187d7d9fb3d5bb1d3a30899/implementation.js\nfunction getName(func) {\n  if (!util.isFunction(func)) {\n    return;\n  }\n  if (functionsHaveNames) {\n    return func.name;\n  }\n  var str = func.toString();\n  var match = str.match(regex);\n  return match && match[1];\n}\nassert.AssertionError = function AssertionError(options) {\n  this.name = 'AssertionError';\n  this.actual = options.actual;\n  this.expected = options.expected;\n  this.operator = options.operator;\n  if (options.message) {\n    this.message = options.message;\n    this.generatedMessage = false;\n  } else {\n    this.message = getMessage(this);\n    this.generatedMessage = true;\n  }\n  var stackStartFunction = options.stackStartFunction || fail;\n  if (Error.captureStackTrace) {\n    Error.captureStackTrace(this, stackStartFunction);\n  } else {\n    // non v8 browsers so we can have a stacktrace\n    var err = new Error();\n    if (err.stack) {\n      var out = err.stack;\n\n      // try to strip useless frames\n      var fn_name = getName(stackStartFunction);\n      var idx = out.indexOf('\\n' + fn_name);\n      if (idx >= 0) {\n        // once we have located the function frame\n        // we need to strip out everything before it (and its line)\n        var next_line = out.indexOf('\\n', idx + 1);\n        out = out.substring(next_line + 1);\n      }\n\n      this.stack = out;\n    }\n  }\n};\n\n// assert.AssertionError instanceof Error\nutil.inherits(assert.AssertionError, Error);\n\nfunction truncate(s, n) {\n  if (typeof s === 'string') {\n    return s.length < n ? s : s.slice(0, n);\n  } else {\n    return s;\n  }\n}\nfunction inspect(something) {\n  if (functionsHaveNames || !util.isFunction(something)) {\n    return util.inspect(something);\n  }\n  var rawname = getName(something);\n  var name = rawname ? ': ' + rawname : '';\n  return '[Function' +  name + ']';\n}\nfunction getMessage(self) {\n  return truncate(inspect(self.actual), 128) + ' ' +\n         self.operator + ' ' +\n         truncate(inspect(self.expected), 128);\n}\n\n// At present only the three keys mentioned above are used and\n// understood by the spec. Implementations or sub modules can pass\n// other keys to the AssertionError's constructor - they will be\n// ignored.\n\n// 3. All of the following functions must throw an AssertionError\n// when a corresponding condition is not met, with a message that\n// may be undefined if not provided.  All assertion methods provide\n// both the actual and expected values to the assertion error for\n// display purposes.\n\nfunction fail(actual, expected, message, operator, stackStartFunction) {\n  throw new assert.AssertionError({\n    message: message,\n    actual: actual,\n    expected: expected,\n    operator: operator,\n    stackStartFunction: stackStartFunction\n  });\n}\n\n// EXTENSION! allows for well behaved errors defined elsewhere.\nassert.fail = fail;\n\n// 4. Pure assertion tests whether a value is truthy, as determined\n// by !!guard.\n// assert.ok(guard, message_opt);\n// This statement is equivalent to assert.equal(true, !!guard,\n// message_opt);. To test strictly for the value true, use\n// assert.strictEqual(true, guard, message_opt);.\n\nfunction ok(value, message) {\n  if (!value) fail(value, true, message, '==', assert.ok);\n}\nassert.ok = ok;\n\n// 5. The equality assertion tests shallow, coercive equality with\n// ==.\n// assert.equal(actual, expected, message_opt);\n\nassert.equal = function equal(actual, expected, message) {\n  if (actual != expected) fail(actual, expected, message, '==', assert.equal);\n};\n\n// 6. The non-equality assertion tests for whether two objects are not equal\n// with != assert.notEqual(actual, expected, message_opt);\n\nassert.notEqual = function notEqual(actual, expected, message) {\n  if (actual == expected) {\n    fail(actual, expected, message, '!=', assert.notEqual);\n  }\n};\n\n// 7. The equivalence assertion tests a deep equality relation.\n// assert.deepEqual(actual, expected, message_opt);\n\nassert.deepEqual = function deepEqual(actual, expected, message) {\n  if (!_deepEqual(actual, expected, false)) {\n    fail(actual, expected, message, 'deepEqual', assert.deepEqual);\n  }\n};\n\nassert.deepStrictEqual = function deepStrictEqual(actual, expected, message) {\n  if (!_deepEqual(actual, expected, true)) {\n    fail(actual, expected, message, 'deepStrictEqual', assert.deepStrictEqual);\n  }\n};\n\nfunction _deepEqual(actual, expected, strict, memos) {\n  // 7.1. All identical values are equivalent, as determined by ===.\n  if (actual === expected) {\n    return true;\n  } else if (isBuffer(actual) && isBuffer(expected)) {\n    return compare(actual, expected) === 0;\n\n  // 7.2. If the expected value is a Date object, the actual value is\n  // equivalent if it is also a Date object that refers to the same time.\n  } else if (util.isDate(actual) && util.isDate(expected)) {\n    return actual.getTime() === expected.getTime();\n\n  // 7.3 If the expected value is a RegExp object, the actual value is\n  // equivalent if it is also a RegExp object with the same source and\n  // properties (`global`, `multiline`, `lastIndex`, `ignoreCase`).\n  } else if (util.isRegExp(actual) && util.isRegExp(expected)) {\n    return actual.source === expected.source &&\n           actual.global === expected.global &&\n           actual.multiline === expected.multiline &&\n           actual.lastIndex === expected.lastIndex &&\n           actual.ignoreCase === expected.ignoreCase;\n\n  // 7.4. Other pairs that do not both pass typeof value == 'object',\n  // equivalence is determined by ==.\n  } else if ((actual === null || typeof actual !== 'object') &&\n             (expected === null || typeof expected !== 'object')) {\n    return strict ? actual === expected : actual == expected;\n\n  // If both values are instances of typed arrays, wrap their underlying\n  // ArrayBuffers in a Buffer each to increase performance\n  // This optimization requires the arrays to have the same type as checked by\n  // Object.prototype.toString (aka pToString). Never perform binary\n  // comparisons for Float*Arrays, though, since e.g. +0 === -0 but their\n  // bit patterns are not identical.\n  } else if (isView(actual) && isView(expected) &&\n             pToString(actual) === pToString(expected) &&\n             !(actual instanceof Float32Array ||\n               actual instanceof Float64Array)) {\n    return compare(new Uint8Array(actual.buffer),\n                   new Uint8Array(expected.buffer)) === 0;\n\n  // 7.5 For all other Object pairs, including Array objects, equivalence is\n  // determined by having the same number of owned properties (as verified\n  // with Object.prototype.hasOwnProperty.call), the same set of keys\n  // (although not necessarily the same order), equivalent values for every\n  // corresponding key, and an identical 'prototype' property. Note: this\n  // accounts for both named and indexed properties on Arrays.\n  } else if (isBuffer(actual) !== isBuffer(expected)) {\n    return false;\n  } else {\n    memos = memos || {actual: [], expected: []};\n\n    var actualIndex = memos.actual.indexOf(actual);\n    if (actualIndex !== -1) {\n      if (actualIndex === memos.expected.indexOf(expected)) {\n        return true;\n      }\n    }\n\n    memos.actual.push(actual);\n    memos.expected.push(expected);\n\n    return objEquiv(actual, expected, strict, memos);\n  }\n}\n\nfunction isArguments(object) {\n  return Object.prototype.toString.call(object) == '[object Arguments]';\n}\n\nfunction objEquiv(a, b, strict, actualVisitedObjects) {\n  if (a === null || a === undefined || b === null || b === undefined)\n    return false;\n  // if one is a primitive, the other must be same\n  if (util.isPrimitive(a) || util.isPrimitive(b))\n    return a === b;\n  if (strict && Object.getPrototypeOf(a) !== Object.getPrototypeOf(b))\n    return false;\n  var aIsArgs = isArguments(a);\n  var bIsArgs = isArguments(b);\n  if ((aIsArgs && !bIsArgs) || (!aIsArgs && bIsArgs))\n    return false;\n  if (aIsArgs) {\n    a = pSlice.call(a);\n    b = pSlice.call(b);\n    return _deepEqual(a, b, strict);\n  }\n  var ka = objectKeys(a);\n  var kb = objectKeys(b);\n  var key, i;\n  // having the same number of owned properties (keys incorporates\n  // hasOwnProperty)\n  if (ka.length !== kb.length)\n    return false;\n  //the same set of keys (although not necessarily the same order),\n  ka.sort();\n  kb.sort();\n  //~~~cheap key test\n  for (i = ka.length - 1; i >= 0; i--) {\n    if (ka[i] !== kb[i])\n      return false;\n  }\n  //equivalent values for every corresponding key, and\n  //~~~possibly expensive deep test\n  for (i = ka.length - 1; i >= 0; i--) {\n    key = ka[i];\n    if (!_deepEqual(a[key], b[key], strict, actualVisitedObjects))\n      return false;\n  }\n  return true;\n}\n\n// 8. The non-equivalence assertion tests for any deep inequality.\n// assert.notDeepEqual(actual, expected, message_opt);\n\nassert.notDeepEqual = function notDeepEqual(actual, expected, message) {\n  if (_deepEqual(actual, expected, false)) {\n    fail(actual, expected, message, 'notDeepEqual', assert.notDeepEqual);\n  }\n};\n\nassert.notDeepStrictEqual = notDeepStrictEqual;\nfunction notDeepStrictEqual(actual, expected, message) {\n  if (_deepEqual(actual, expected, true)) {\n    fail(actual, expected, message, 'notDeepStrictEqual', notDeepStrictEqual);\n  }\n}\n\n\n// 9. The strict equality assertion tests strict equality, as determined by ===.\n// assert.strictEqual(actual, expected, message_opt);\n\nassert.strictEqual = function strictEqual(actual, expected, message) {\n  if (actual !== expected) {\n    fail(actual, expected, message, '===', assert.strictEqual);\n  }\n};\n\n// 10. The strict non-equality assertion tests for strict inequality, as\n// determined by !==.  assert.notStrictEqual(actual, expected, message_opt);\n\nassert.notStrictEqual = function notStrictEqual(actual, expected, message) {\n  if (actual === expected) {\n    fail(actual, expected, message, '!==', assert.notStrictEqual);\n  }\n};\n\nfunction expectedException(actual, expected) {\n  if (!actual || !expected) {\n    return false;\n  }\n\n  if (Object.prototype.toString.call(expected) == '[object RegExp]') {\n    return expected.test(actual);\n  }\n\n  try {\n    if (actual instanceof expected) {\n      return true;\n    }\n  } catch (e) {\n    // Ignore.  The instanceof check doesn't work for arrow functions.\n  }\n\n  if (Error.isPrototypeOf(expected)) {\n    return false;\n  }\n\n  return expected.call({}, actual) === true;\n}\n\nfunction _tryBlock(block) {\n  var error;\n  try {\n    block();\n  } catch (e) {\n    error = e;\n  }\n  return error;\n}\n\nfunction _throws(shouldThrow, block, expected, message) {\n  var actual;\n\n  if (typeof block !== 'function') {\n    throw new TypeError('\"block\" argument must be a function');\n  }\n\n  if (typeof expected === 'string') {\n    message = expected;\n    expected = null;\n  }\n\n  actual = _tryBlock(block);\n\n  message = (expected && expected.name ? ' (' + expected.name + ').' : '.') +\n            (message ? ' ' + message : '.');\n\n  if (shouldThrow && !actual) {\n    fail(actual, expected, 'Missing expected exception' + message);\n  }\n\n  var userProvidedMessage = typeof message === 'string';\n  var isUnwantedException = !shouldThrow && util.isError(actual);\n  var isUnexpectedException = !shouldThrow && actual && !expected;\n\n  if ((isUnwantedException &&\n      userProvidedMessage &&\n      expectedException(actual, expected)) ||\n      isUnexpectedException) {\n    fail(actual, expected, 'Got unwanted exception' + message);\n  }\n\n  if ((shouldThrow && actual && expected &&\n      !expectedException(actual, expected)) || (!shouldThrow && actual)) {\n    throw actual;\n  }\n}\n\n// 11. Expected to throw an error:\n// assert.throws(block, Error_opt, message_opt);\n\nassert.throws = function(block, /*optional*/error, /*optional*/message) {\n  _throws(true, block, error, message);\n};\n\n// EXTENSION! This is annoying to write outside this module.\nassert.doesNotThrow = function(block, /*optional*/error, /*optional*/message) {\n  _throws(false, block, error, message);\n};\n\nassert.ifError = function(err) { if (err) throw err; };\n\n// Expose a strict only variant of assert\nfunction strict(value, message) {\n  if (!value) fail(value, true, message, '==', strict);\n}\nassert.strict = objectAssign(strict, assert, {\n  equal: assert.strictEqual,\n  deepEqual: assert.deepStrictEqual,\n  notEqual: assert.notStrictEqual,\n  notDeepEqual: assert.notDeepStrictEqual\n});\nassert.strict.strict = assert.strict;\n\nvar objectKeys = Object.keys || function (obj) {\n  var keys = [];\n  for (var key in obj) {\n    if (hasOwn.call(obj, key)) keys.push(key);\n  }\n  return keys;\n};\n","/**!\n * Sortable\n * @author\tRubaXa   <trash@rubaxa.org>\n * @author\towenm    <owen23355@gmail.com>\n * @license MIT\n */\n\n(function sortableModule(factory) {\n\t\"use strict\";\n\n\tif (typeof define === \"function\" && define.amd) {\n\t\tdefine(factory);\n\t}\n\telse if (typeof module != \"undefined\" && typeof module.exports != \"undefined\") {\n\t\tmodule.exports = factory();\n\t}\n\telse {\n\t\t/* jshint sub:true */\n\t\twindow[\"Sortable\"] = factory();\n\t}\n})(function sortableFactory() {\n\t\"use strict\";\n\n\tif (typeof window === \"undefined\" || !window.document) {\n\t\treturn function sortableError() {\n\t\t\tthrow new Error(\"Sortable.js requires a window with a document\");\n\t\t};\n\t}\n\n\tvar dragEl,\n\t\tparentEl,\n\t\tghostEl,\n\t\tcloneEl,\n\t\trootEl,\n\t\tnextEl,\n\t\tlastDownEl,\n\n\t\tscrollEl,\n\t\tscrollParentEl,\n\t\tscrollCustomFn,\n\n\t\toldIndex,\n\t\tnewIndex,\n\t\toldDraggableIndex,\n\t\tnewDraggableIndex,\n\n\t\tactiveGroup,\n\t\tputSortable,\n\n\t\tautoScrolls = [],\n\t\tscrolling = false,\n\n\t\tawaitingDragStarted = false,\n\t\tignoreNextClick = false,\n\t\tsortables = [],\n\n\t\tpointerElemChangedInterval,\n\t\tlastPointerElemX,\n\t\tlastPointerElemY,\n\n\t\ttapEvt,\n\t\ttouchEvt,\n\n\t\tmoved,\n\n\n\t\tlastTarget,\n\t\tlastDirection,\n\t\tpastFirstInvertThresh = false,\n\t\tisCircumstantialInvert = false,\n\t\tlastMode, // 'swap' or 'insert'\n\n\t\ttargetMoveDistance,\n\n\t\t// For positioning ghost absolutely\n\t\tghostRelativeParent,\n\t\tghostRelativeParentInitialScroll = [], // (left, top)\n\n\t\trealDragElRect, // dragEl rect after current animation\n\n\t\t/** @const */\n\t\tR_SPACE = /\\s+/g,\n\n\t\texpando = 'Sortable' + (new Date).getTime(),\n\n\t\twin = window,\n\t\tdocument = win.document,\n\t\tparseInt = win.parseInt,\n\t\tsetTimeout = win.setTimeout,\n\n\t\t$ = win.jQuery || win.Zepto,\n\t\tPolymer = win.Polymer,\n\n\t\tcaptureMode = {\n\t\t\tcapture: false,\n\t\t\tpassive: false\n\t\t},\n\n\t\tIE11OrLess = !!navigator.userAgent.match(/(?:Trident.*rv[ :]?11\\.|msie|iemobile)/i),\n\t\tEdge = !!navigator.userAgent.match(/Edge/i),\n\t\tFireFox = !!navigator.userAgent.match(/firefox/i),\n\t\tSafari = !!(navigator.userAgent.match(/safari/i) && !navigator.userAgent.match(/chrome/i) && !navigator.userAgent.match(/android/i)),\n\t\tIOS = !!(navigator.userAgent.match(/iP(ad|od|hone)/i)),\n\n\t\tPositionGhostAbsolutely = IOS,\n\n\t\tCSSFloatProperty = Edge || IE11OrLess ? 'cssFloat' : 'float',\n\n\t\t// This will not pass for IE9, because IE9 DnD only works on anchors\n\t\tsupportDraggable = ('draggable' in document.createElement('div')),\n\n\t\tsupportCssPointerEvents = (function() {\n\t\t\t// false when <= IE11\n\t\t\tif (IE11OrLess) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tvar el = document.createElement('x');\n\t\t\tel.style.cssText = 'pointer-events:auto';\n\t\t\treturn el.style.pointerEvents === 'auto';\n\t\t})(),\n\n\t\t_silent = false,\n\t\t_alignedSilent = false,\n\n\t\tabs = Math.abs,\n\t\tmin = Math.min,\n\t\tmax = Math.max,\n\n\t\tsavedInputChecked = [],\n\n\t\t_detectDirection = function(el, options) {\n\t\t\tvar elCSS = _css(el),\n\t\t\t\telWidth = parseInt(elCSS.width)\n\t\t\t\t\t- parseInt(elCSS.paddingLeft)\n\t\t\t\t\t- parseInt(elCSS.paddingRight)\n\t\t\t\t\t- parseInt(elCSS.borderLeftWidth)\n\t\t\t\t\t- parseInt(elCSS.borderRightWidth),\n\t\t\t\tchild1 = _getChild(el, 0, options),\n\t\t\t\tchild2 = _getChild(el, 1, options),\n\t\t\t\tfirstChildCSS = child1 && _css(child1),\n\t\t\t\tsecondChildCSS = child2 && _css(child2),\n\t\t\t\tfirstChildWidth = firstChildCSS && parseInt(firstChildCSS.marginLeft) + parseInt(firstChildCSS.marginRight) + _getRect(child1).width,\n\t\t\t\tsecondChildWidth = secondChildCSS && parseInt(secondChildCSS.marginLeft) + parseInt(secondChildCSS.marginRight) + _getRect(child2).width;\n\n\t\t\tif (elCSS.display === 'flex') {\n\t\t\t\treturn elCSS.flexDirection === 'column' || elCSS.flexDirection === 'column-reverse'\n\t\t\t\t? 'vertical' : 'horizontal';\n\t\t\t}\n\n\t\t\tif (elCSS.display === 'grid') {\n\t\t\t\treturn elCSS.gridTemplateColumns.split(' ').length <= 1 ? 'vertical' : 'horizontal';\n\t\t\t}\n\n\t\t\tif (child1 && firstChildCSS.float !== 'none') {\n\t\t\t\tvar touchingSideChild2 = firstChildCSS.float === 'left' ? 'left' : 'right';\n\n\t\t\t\treturn child2 && (secondChildCSS.clear === 'both' || secondChildCSS.clear === touchingSideChild2) ?\n\t\t\t\t\t'vertical' : 'horizontal';\n\t\t\t}\n\n\t\t\treturn (child1 &&\n\t\t\t\t(\n\t\t\t\t\tfirstChildCSS.display === 'block' ||\n\t\t\t\t\tfirstChildCSS.display === 'flex' ||\n\t\t\t\t\tfirstChildCSS.display === 'table' ||\n\t\t\t\t\tfirstChildCSS.display === 'grid' ||\n\t\t\t\t\tfirstChildWidth >= elWidth &&\n\t\t\t\t\telCSS[CSSFloatProperty] === 'none' ||\n\t\t\t\t\tchild2 &&\n\t\t\t\t\telCSS[CSSFloatProperty] === 'none' &&\n\t\t\t\t\tfirstChildWidth + secondChildWidth > elWidth\n\t\t\t\t) ?\n\t\t\t\t'vertical' : 'horizontal'\n\t\t\t);\n\t\t},\n\n\t\t/**\n\t\t * Detects first nearest empty sortable to X and Y position using emptyInsertThreshold.\n\t\t * @param  {Number} x      X position\n\t\t * @param  {Number} y      Y position\n\t\t * @return {HTMLElement}   Element of the first found nearest Sortable\n\t\t */\n\t\t_detectNearestEmptySortable = function(x, y) {\n\t\t\tfor (var i = 0; i < sortables.length; i++) {\n\t\t\t\tif (_lastChild(sortables[i])) continue;\n\n\t\t\t\tvar rect = _getRect(sortables[i]),\n\t\t\t\t\tthreshold = sortables[i][expando].options.emptyInsertThreshold,\n\t\t\t\t\tinsideHorizontally = x >= (rect.left - threshold) && x <= (rect.right + threshold),\n\t\t\t\t\tinsideVertically = y >= (rect.top - threshold) && y <= (rect.bottom + threshold);\n\n\t\t\t\tif (threshold && insideHorizontally && insideVertically) {\n\t\t\t\t\treturn sortables[i];\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\t_isClientInRowColumn = function(x, y, el, axis, options) {\n\t\t\tvar targetRect = _getRect(el),\n\t\t\t\ttargetS1Opp = axis === 'vertical' ? targetRect.left : targetRect.top,\n\t\t\t\ttargetS2Opp = axis === 'vertical' ? targetRect.right : targetRect.bottom,\n\t\t\t\tmouseOnOppAxis = axis === 'vertical' ? x : y;\n\n\t\t\treturn targetS1Opp < mouseOnOppAxis && mouseOnOppAxis < targetS2Opp;\n\t\t},\n\n\t\t_isElInRowColumn = function(el1, el2, axis) {\n\t\t\tvar el1Rect = el1 === dragEl && realDragElRect || _getRect(el1),\n\t\t\t\tel2Rect = el2 === dragEl && realDragElRect || _getRect(el2),\n\t\t\t\tel1S1Opp = axis === 'vertical' ? el1Rect.left : el1Rect.top,\n\t\t\t\tel1S2Opp = axis === 'vertical' ? el1Rect.right : el1Rect.bottom,\n\t\t\t\tel1OppLength = axis === 'vertical' ? el1Rect.width : el1Rect.height,\n\t\t\t\tel2S1Opp = axis === 'vertical' ? el2Rect.left : el2Rect.top,\n\t\t\t\tel2S2Opp = axis === 'vertical' ? el2Rect.right : el2Rect.bottom,\n\t\t\t\tel2OppLength = axis === 'vertical' ? el2Rect.width : el2Rect.height;\n\n\t\t\treturn (\n\t\t\t\tel1S1Opp === el2S1Opp ||\n\t\t\t\tel1S2Opp === el2S2Opp ||\n\t\t\t\t(el1S1Opp + el1OppLength / 2) === (el2S1Opp + el2OppLength / 2)\n\t\t\t);\n\t\t},\n\n\t\t_getParentAutoScrollElement = function(el, includeSelf) {\n\t\t\t// skip to window\n\t\t\tif (!el || !el.getBoundingClientRect) return _getWindowScrollingElement();\n\n\t\t\tvar elem = el;\n\t\t\tvar gotSelf = false;\n\t\t\tdo {\n\t\t\t\t// we don't need to get elem css if it isn't even overflowing in the first place (performance)\n\t\t\t\tif (elem.clientWidth < elem.scrollWidth || elem.clientHeight < elem.scrollHeight) {\n\t\t\t\t\tvar elemCSS = _css(elem);\n\t\t\t\t\tif (\n\t\t\t\t\t\telem.clientWidth < elem.scrollWidth && (elemCSS.overflowX == 'auto' || elemCSS.overflowX == 'scroll') ||\n\t\t\t\t\t\telem.clientHeight < elem.scrollHeight && (elemCSS.overflowY == 'auto' || elemCSS.overflowY == 'scroll')\n\t\t\t\t\t) {\n\t\t\t\t\t\tif (!elem || !elem.getBoundingClientRect || elem === document.body) return _getWindowScrollingElement();\n\n\t\t\t\t\t\tif (gotSelf || includeSelf) return elem;\n\t\t\t\t\t\tgotSelf = true;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t/* jshint boss:true */\n\t\t\t} while (elem = elem.parentNode);\n\n\t\t\treturn _getWindowScrollingElement();\n\t\t},\n\n\t\t_getWindowScrollingElement = function() {\n\t\t\tif (IE11OrLess) {\n\t\t\t\treturn document.documentElement;\n\t\t\t} else {\n\t\t\t\treturn document.scrollingElement;\n\t\t\t}\n\t\t},\n\n\t\t_scrollBy = function(el, x, y) {\n\t\t\tel.scrollLeft += x;\n\t\t\tel.scrollTop += y;\n\t\t},\n\n\t\t_autoScroll = _throttle(function (/**Event*/evt, /**Object*/options, /**HTMLElement*/rootEl, /**Boolean*/isFallback) {\n\t\t\t// Bug: https://bugzilla.mozilla.org/show_bug.cgi?id=505521\n\t\t\tif (options.scroll) {\n\t\t\t\tvar _this = rootEl ? rootEl[expando] : window,\n\t\t\t\t\tsens = options.scrollSensitivity,\n\t\t\t\t\tspeed = options.scrollSpeed,\n\n\t\t\t\t\tx = evt.clientX,\n\t\t\t\t\ty = evt.clientY,\n\n\t\t\t\t\twinScroller = _getWindowScrollingElement(),\n\n\t\t\t\t\tscrollThisInstance = false;\n\n\t\t\t\t// Detect scrollEl\n\t\t\t\tif (scrollParentEl !== rootEl) {\n\t\t\t\t\t_clearAutoScrolls();\n\n\t\t\t\t\tscrollEl = options.scroll;\n\t\t\t\t\tscrollCustomFn = options.scrollFn;\n\n\t\t\t\t\tif (scrollEl === true) {\n\t\t\t\t\t\tscrollEl = _getParentAutoScrollElement(rootEl, true);\n\t\t\t\t\t\tscrollParentEl = scrollEl;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\n\t\t\t\tvar layersOut = 0;\n\t\t\t\tvar currentParent = scrollEl;\n\t\t\t\tdo {\n\t\t\t\t\tvar\tel = currentParent,\n\t\t\t\t\t\trect = _getRect(el),\n\n\t\t\t\t\t\ttop = rect.top,\n\t\t\t\t\t\tbottom = rect.bottom,\n\t\t\t\t\t\tleft = rect.left,\n\t\t\t\t\t\tright = rect.right,\n\n\t\t\t\t\t\twidth = rect.width,\n\t\t\t\t\t\theight = rect.height,\n\n\t\t\t\t\t\tscrollWidth,\n\t\t\t\t\t\tscrollHeight,\n\n\t\t\t\t\t\tcss,\n\n\t\t\t\t\t\tvx,\n\t\t\t\t\t\tvy,\n\n\t\t\t\t\t\tcanScrollX,\n\t\t\t\t\t\tcanScrollY,\n\n\t\t\t\t\t\tscrollPosX,\n\t\t\t\t\t\tscrollPosY;\n\n\n\t\t\t\t\tscrollWidth = el.scrollWidth;\n\t\t\t\t\tscrollHeight = el.scrollHeight;\n\n\t\t\t\t\tcss = _css(el);\n\n\t\t\t\t\tscrollPosX = el.scrollLeft;\n\t\t\t\t\tscrollPosY = el.scrollTop;\n\n\t\t\t\t\tif (el === winScroller) {\n\t\t\t\t\t\tcanScrollX = width < scrollWidth && (css.overflowX === 'auto' || css.overflowX === 'scroll' || css.overflowX === 'visible');\n\t\t\t\t\t\tcanScrollY = height < scrollHeight && (css.overflowY === 'auto' || css.overflowY === 'scroll' || css.overflowY === 'visible');\n\t\t\t\t\t} else {\n\t\t\t\t\t\tcanScrollX = width < scrollWidth && (css.overflowX === 'auto' || css.overflowX === 'scroll');\n\t\t\t\t\t\tcanScrollY = height < scrollHeight && (css.overflowY === 'auto' || css.overflowY === 'scroll');\n\t\t\t\t\t}\n\n\t\t\t\t\tvx = canScrollX && (abs(right - x) <= sens && (scrollPosX + width) < scrollWidth) - (abs(left - x) <= sens && !!scrollPosX);\n\n\t\t\t\t\tvy = canScrollY && (abs(bottom - y) <= sens && (scrollPosY + height) < scrollHeight) - (abs(top - y) <= sens && !!scrollPosY);\n\n\n\t\t\t\t\tif (!autoScrolls[layersOut]) {\n\t\t\t\t\t\tfor (var i = 0; i <= layersOut; i++) {\n\t\t\t\t\t\t\tif (!autoScrolls[i]) {\n\t\t\t\t\t\t\t\tautoScrolls[i] = {};\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tif (autoScrolls[layersOut].vx != vx || autoScrolls[layersOut].vy != vy || autoScrolls[layersOut].el !== el) {\n\t\t\t\t\t\tautoScrolls[layersOut].el = el;\n\t\t\t\t\t\tautoScrolls[layersOut].vx = vx;\n\t\t\t\t\t\tautoScrolls[layersOut].vy = vy;\n\n\t\t\t\t\t\tclearInterval(autoScrolls[layersOut].pid);\n\n\t\t\t\t\t\tif (el && (vx != 0 || vy != 0)) {\n\t\t\t\t\t\t\tscrollThisInstance = true;\n\t\t\t\t\t\t\t/* jshint loopfunc:true */\n\t\t\t\t\t\t\tautoScrolls[layersOut].pid = setInterval((function () {\n\t\t\t\t\t\t\t\t// emulate drag over during autoscroll (fallback), emulating native DnD behaviour\n\t\t\t\t\t\t\t\tif (isFallback && this.layer === 0) {\n\t\t\t\t\t\t\t\t\tSortable.active._emulateDragOver(true);\n\t\t\t\t\t\t\t\t\tSortable.active._onTouchMove(touchEvt, true);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tvar scrollOffsetY = autoScrolls[this.layer].vy ? autoScrolls[this.layer].vy * speed : 0;\n\t\t\t\t\t\t\t\tvar scrollOffsetX = autoScrolls[this.layer].vx ? autoScrolls[this.layer].vx * speed : 0;\n\n\t\t\t\t\t\t\t\tif ('function' === typeof(scrollCustomFn)) {\n\t\t\t\t\t\t\t\t\tif (scrollCustomFn.call(_this, scrollOffsetX, scrollOffsetY, evt, touchEvt, autoScrolls[this.layer].el) !== 'continue') {\n\t\t\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t_scrollBy(autoScrolls[this.layer].el, scrollOffsetX, scrollOffsetY);\n\t\t\t\t\t\t\t}).bind({layer: layersOut}), 24);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tlayersOut++;\n\t\t\t\t} while (options.bubbleScroll && currentParent !== winScroller && (currentParent = _getParentAutoScrollElement(currentParent, false)));\n\t\t\t\tscrolling = scrollThisInstance; // in case another function catches scrolling as false in between when it is not\n\t\t\t}\n\t\t}, 30),\n\n\t\t_clearAutoScrolls = function () {\n\t\t\tautoScrolls.forEach(function(autoScroll) {\n\t\t\t\tclearInterval(autoScroll.pid);\n\t\t\t});\n\t\t\tautoScrolls = [];\n\t\t},\n\n\t\t_prepareGroup = function (options) {\n\t\t\tfunction toFn(value, pull) {\n\t\t\t\treturn function(to, from, dragEl, evt) {\n\t\t\t\t\tvar sameGroup = to.options.group.name &&\n\t\t\t\t\t\t\t\t\tfrom.options.group.name &&\n\t\t\t\t\t\t\t\t\tto.options.group.name === from.options.group.name;\n\n\t\t\t\t\tif (value == null && (pull || sameGroup)) {\n\t\t\t\t\t\t// Default pull value\n\t\t\t\t\t\t// Default pull and put value if same group\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t} else if (value == null || value === false) {\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t} else if (pull && value === 'clone') {\n\t\t\t\t\t\treturn value;\n\t\t\t\t\t} else if (typeof value === 'function') {\n\t\t\t\t\t\treturn toFn(value(to, from, dragEl, evt), pull)(to, from, dragEl, evt);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tvar otherGroup = (pull ? to : from).options.group.name;\n\n\t\t\t\t\t\treturn (value === true ||\n\t\t\t\t\t\t(typeof value === 'string' && value === otherGroup) ||\n\t\t\t\t\t\t(value.join && value.indexOf(otherGroup) > -1));\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t}\n\n\t\t\tvar group = {};\n\t\t\tvar originalGroup = options.group;\n\n\t\t\tif (!originalGroup || typeof originalGroup != 'object') {\n\t\t\t\toriginalGroup = {name: originalGroup};\n\t\t\t}\n\n\t\t\tgroup.name = originalGroup.name;\n\t\t\tgroup.checkPull = toFn(originalGroup.pull, true);\n\t\t\tgroup.checkPut = toFn(originalGroup.put);\n\t\t\tgroup.revertClone = originalGroup.revertClone;\n\n\t\t\toptions.group = group;\n\t\t},\n\n\t\t_checkAlignment = function(evt) {\n\t\t\tif (!dragEl || !dragEl.parentNode) return;\n\t\t\tdragEl.parentNode[expando] && dragEl.parentNode[expando]._computeIsAligned(evt);\n\t\t},\n\n\t\t_hideGhostForTarget = function() {\n\t\t\tif (!supportCssPointerEvents && ghostEl) {\n\t\t\t\t_css(ghostEl, 'display', 'none');\n\t\t\t}\n\t\t},\n\n\t\t_unhideGhostForTarget = function() {\n\t\t\tif (!supportCssPointerEvents && ghostEl) {\n\t\t\t\t_css(ghostEl, 'display', '');\n\t\t\t}\n\t\t};\n\n\n\t// #1184 fix - Prevent click event on fallback if dragged but item not changed position\n\tdocument.addEventListener('click', function(evt) {\n\t\tif (ignoreNextClick) {\n\t\t\tevt.preventDefault();\n\t\t\tevt.stopPropagation && evt.stopPropagation();\n\t\t\tevt.stopImmediatePropagation && evt.stopImmediatePropagation();\n\t\t\tignoreNextClick = false;\n\t\t\treturn false;\n\t\t}\n\t}, true);\n\n\tvar nearestEmptyInsertDetectEvent = function(evt) {\n\t\tif (dragEl) {\n\t\t\tevt = evt.touches ? evt.touches[0] : evt;\n\t\t\tvar nearest = _detectNearestEmptySortable(evt.clientX, evt.clientY);\n\n\t\t\tif (nearest) {\n\t\t\t\t// Create imitation event\n\t\t\t\tvar event = {};\n\t\t\t\tfor (var i in evt) {\n\t\t\t\t\tevent[i] = evt[i];\n\t\t\t\t}\n\t\t\t\tevent.target = event.rootEl = nearest;\n\t\t\t\tevent.preventDefault = void 0;\n\t\t\t\tevent.stopPropagation = void 0;\n\t\t\t\tnearest[expando]._onDragOver(event);\n\t\t\t}\n\t\t}\n\t};\n\n\t/**\n\t * @class  Sortable\n\t * @param  {HTMLElement}  el\n\t * @param  {Object}       [options]\n\t */\n\tfunction Sortable(el, options) {\n\t\tif (!(el && el.nodeType && el.nodeType === 1)) {\n\t\t\tthrow 'Sortable: `el` must be HTMLElement, not ' + {}.toString.call(el);\n\t\t}\n\n\t\tthis.el = el; // root element\n\t\tthis.options = options = _extend({}, options);\n\n\n\t\t// Export instance\n\t\tel[expando] = this;\n\n\t\t// Default options\n\t\tvar defaults = {\n\t\t\tgroup: null,\n\t\t\tsort: true,\n\t\t\tdisabled: false,\n\t\t\tstore: null,\n\t\t\thandle: null,\n\t\t\tscroll: true,\n\t\t\tscrollSensitivity: 30,\n\t\t\tscrollSpeed: 10,\n\t\t\tbubbleScroll: true,\n\t\t\tdraggable: /[uo]l/i.test(el.nodeName) ? '>li' : '>*',\n\t\t\tswapThreshold: 1, // percentage; 0 <= x <= 1\n\t\t\tinvertSwap: false, // invert always\n\t\t\tinvertedSwapThreshold: null, // will be set to same as swapThreshold if default\n\t\t\tremoveCloneOnHide: true,\n\t\t\tdirection: function() {\n\t\t\t\treturn _detectDirection(el, this.options);\n\t\t\t},\n\t\t\tghostClass: 'sortable-ghost',\n\t\t\tchosenClass: 'sortable-chosen',\n\t\t\tdragClass: 'sortable-drag',\n\t\t\tignore: 'a, img',\n\t\t\tfilter: null,\n\t\t\tpreventOnFilter: true,\n\t\t\tanimation: 0,\n\t\t\teasing: null,\n\t\t\tsetData: function (dataTransfer, dragEl) {\n\t\t\t\tdataTransfer.setData('Text', dragEl.textContent);\n\t\t\t},\n\t\t\tdropBubble: false,\n\t\t\tdragoverBubble: false,\n\t\t\tdataIdAttr: 'data-id',\n\t\t\tdelay: 0,\n\t\t\tdelayOnTouchOnly: false,\n\t\t\ttouchStartThreshold: parseInt(window.devicePixelRatio, 10) || 1,\n\t\t\tforceFallback: false,\n\t\t\tfallbackClass: 'sortable-fallback',\n\t\t\tfallbackOnBody: false,\n\t\t\tfallbackTolerance: 0,\n\t\t\tfallbackOffset: {x: 0, y: 0},\n\t\t\tsupportPointer: Sortable.supportPointer !== false && ('PointerEvent' in window),\n\t\t\temptyInsertThreshold: 5\n\t\t};\n\n\n\t\t// Set default options\n\t\tfor (var name in defaults) {\n\t\t\t!(name in options) && (options[name] = defaults[name]);\n\t\t}\n\n\t\t_prepareGroup(options);\n\n\t\t// Bind all private methods\n\t\tfor (var fn in this) {\n\t\t\tif (fn.charAt(0) === '_' && typeof this[fn] === 'function') {\n\t\t\t\tthis[fn] = this[fn].bind(this);\n\t\t\t}\n\t\t}\n\n\t\t// Setup drag mode\n\t\tthis.nativeDraggable = options.forceFallback ? false : supportDraggable;\n\n\t\tif (this.nativeDraggable) {\n\t\t\t// Touch start threshold cannot be greater than the native dragstart threshold\n\t\t\tthis.options.touchStartThreshold = 1;\n\t\t}\n\n\t\t// Bind events\n\t\tif (options.supportPointer) {\n\t\t\t_on(el, 'pointerdown', this._onTapStart);\n\t\t} else {\n\t\t\t_on(el, 'mousedown', this._onTapStart);\n\t\t\t_on(el, 'touchstart', this._onTapStart);\n\t\t}\n\n\t\tif (this.nativeDraggable) {\n\t\t\t_on(el, 'dragover', this);\n\t\t\t_on(el, 'dragenter', this);\n\t\t}\n\n\t\tsortables.push(this.el);\n\n\t\t// Restore sorting\n\t\toptions.store && options.store.get && this.sort(options.store.get(this) || []);\n\t}\n\n\tSortable.prototype = /** @lends Sortable.prototype */ {\n\t\tconstructor: Sortable,\n\n\t\t_computeIsAligned: function(evt) {\n\t\t\tvar target;\n\n\t\t\tif (ghostEl && !supportCssPointerEvents) {\n\t\t\t\t_hideGhostForTarget();\n\t\t\t\ttarget = document.elementFromPoint(evt.clientX, evt.clientY);\n\t\t\t\t_unhideGhostForTarget();\n\t\t\t} else {\n\t\t\t\ttarget = evt.target;\n\t\t\t}\n\n\t\t\ttarget = _closest(target, this.options.draggable, this.el, false);\n\t\t\tif (_alignedSilent) return;\n\t\t\tif (!dragEl || dragEl.parentNode !== this.el) return;\n\n\t\t\tvar children = this.el.children;\n\t\t\tfor (var i = 0; i < children.length; i++) {\n\t\t\t\t// Don't change for target in case it is changed to aligned before onDragOver is fired\n\t\t\t\tif (_closest(children[i], this.options.draggable, this.el, false) && children[i] !== target) {\n\t\t\t\t\tchildren[i].sortableMouseAligned = _isClientInRowColumn(evt.clientX, evt.clientY, children[i], this._getDirection(evt, null), this.options);\n\t\t\t\t}\n\t\t\t}\n\t\t\t// Used for nulling last target when not in element, nothing to do with checking if aligned\n\t\t\tif (!_closest(target, this.options.draggable, this.el, true)) {\n\t\t\t\tlastTarget = null;\n\t\t\t}\n\n\t\t\t_alignedSilent = true;\n\t\t\tsetTimeout(function() {\n\t\t\t\t_alignedSilent = false;\n\t\t\t}, 30);\n\n\t\t},\n\n\t\t_getDirection: function(evt, target) {\n\t\t\treturn (typeof this.options.direction === 'function') ? this.options.direction.call(this, evt, target, dragEl) : this.options.direction;\n\t\t},\n\n\t\t_onTapStart: function (/** Event|TouchEvent */evt) {\n\t\t\tif (!evt.cancelable) return;\n\t\t\tvar _this = this,\n\t\t\t\tel = this.el,\n\t\t\t\toptions = this.options,\n\t\t\t\tpreventOnFilter = options.preventOnFilter,\n\t\t\t\ttype = evt.type,\n\t\t\t\ttouch = evt.touches && evt.touches[0],\n\t\t\t\ttarget = (touch || evt).target,\n\t\t\t\toriginalTarget = evt.target.shadowRoot && ((evt.path && evt.path[0]) || (evt.composedPath && evt.composedPath()[0])) || target,\n\t\t\t\tfilter = options.filter,\n\t\t\t\tstartIndex,\n\t\t\t\tstartDraggableIndex;\n\n\t\t\t_saveInputCheckedState(el);\n\n\t\t\t// Don't trigger start event when an element is been dragged, otherwise the evt.oldindex always wrong when set option.group.\n\t\t\tif (dragEl) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (/mousedown|pointerdown/.test(type) && evt.button !== 0 || options.disabled) {\n\t\t\t\treturn; // only left button and enabled\n\t\t\t}\n\n\t\t\t// cancel dnd if original target is content editable\n\t\t\tif (originalTarget.isContentEditable) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\ttarget = _closest(target, options.draggable, el, false);\n\n\n\t\t\tif (lastDownEl === target) {\n\t\t\t\t// Ignoring duplicate `down`\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// Get the index of the dragged element within its parent\n\t\t\tstartIndex = _index(target);\n\t\t\tstartDraggableIndex = _index(target, options.draggable);\n\n\t\t\t// Check filter\n\t\t\tif (typeof filter === 'function') {\n\t\t\t\tif (filter.call(this, evt, target, this)) {\n\t\t\t\t\t_dispatchEvent(_this, originalTarget, 'filter', target, el, el, startIndex, undefined, startDraggableIndex);\n\t\t\t\t\tpreventOnFilter && evt.cancelable && evt.preventDefault();\n\t\t\t\t\treturn; // cancel dnd\n\t\t\t\t}\n\t\t\t}\n\t\t\telse if (filter) {\n\t\t\t\tfilter = filter.split(',').some(function (criteria) {\n\t\t\t\t\tcriteria = _closest(originalTarget, criteria.trim(), el, false);\n\n\t\t\t\t\tif (criteria) {\n\t\t\t\t\t\t_dispatchEvent(_this, criteria, 'filter', target, el, el, startIndex, undefined, startDraggableIndex);\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\tif (filter) {\n\t\t\t\t\tpreventOnFilter && evt.cancelable && evt.preventDefault();\n\t\t\t\t\treturn; // cancel dnd\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (options.handle && !_closest(originalTarget, options.handle, el, false)) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// Prepare `dragstart`\n\t\t\tthis._prepareDragStart(evt, touch, target, startIndex, startDraggableIndex);\n\t\t},\n\n\n\t\t_handleAutoScroll: function(evt, fallback) {\n\t\t\tif (!dragEl || !this.options.scroll) return;\n\t\t\tvar x = evt.clientX,\n\t\t\t\ty = evt.clientY,\n\n\t\t\t\telem = document.elementFromPoint(x, y),\n\t\t\t\t_this = this;\n\n\t\t\t// IE does not seem to have native autoscroll,\n\t\t\t// Edge's autoscroll seems too conditional,\n\t\t\t// MACOS Safari does not have autoscroll,\n\t\t\t// Firefox and Chrome are good\n\t\t\tif (fallback || Edge || IE11OrLess || Safari) {\n\t\t\t\t_autoScroll(evt, _this.options, elem, fallback);\n\n\t\t\t\t// Listener for pointer element change\n\t\t\t\tvar ogElemScroller = _getParentAutoScrollElement(elem, true);\n\t\t\t\tif (\n\t\t\t\t\tscrolling &&\n\t\t\t\t\t(\n\t\t\t\t\t\t!pointerElemChangedInterval ||\n\t\t\t\t\t\tx !== lastPointerElemX ||\n\t\t\t\t\t\ty !== lastPointerElemY\n\t\t\t\t\t)\n\t\t\t\t) {\n\n\t\t\t\t\tpointerElemChangedInterval && clearInterval(pointerElemChangedInterval);\n\t\t\t\t\t// Detect for pointer elem change, emulating native DnD behaviour\n\t\t\t\t\tpointerElemChangedInterval = setInterval(function() {\n\t\t\t\t\t\tif (!dragEl) return;\n\t\t\t\t\t\t// could also check if scroll direction on newElem changes due to parent autoscrolling\n\t\t\t\t\t\tvar newElem = _getParentAutoScrollElement(document.elementFromPoint(x, y), true);\n\t\t\t\t\t\tif (newElem !== ogElemScroller) {\n\t\t\t\t\t\t\togElemScroller = newElem;\n\t\t\t\t\t\t\t_clearAutoScrolls();\n\t\t\t\t\t\t\t_autoScroll(evt, _this.options, ogElemScroller, fallback);\n\t\t\t\t\t\t}\n\t\t\t\t\t}, 10);\n\t\t\t\t\tlastPointerElemX = x;\n\t\t\t\t\tlastPointerElemY = y;\n\t\t\t\t}\n\n\t\t\t} else {\n\t\t\t\t// if DnD is enabled (and browser has good autoscrolling), first autoscroll will already scroll, so get parent autoscroll of first autoscroll\n\t\t\t\tif (!_this.options.bubbleScroll || _getParentAutoScrollElement(elem, true) === _getWindowScrollingElement()) {\n\t\t\t\t\t_clearAutoScrolls();\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\t_autoScroll(evt, _this.options, _getParentAutoScrollElement(elem, false), false);\n\t\t\t}\n\t\t},\n\n\t\t_prepareDragStart: function (/** Event */evt, /** Touch */touch, /** HTMLElement */target, /** Number */startIndex, /** Number */startDraggableIndex) {\n\t\t\tvar _this = this,\n\t\t\t\tel = _this.el,\n\t\t\t\toptions = _this.options,\n\t\t\t\townerDocument = el.ownerDocument,\n\t\t\t\tdragStartFn;\n\n\t\t\tif (target && !dragEl && (target.parentNode === el)) {\n\t\t\t\trootEl = el;\n\t\t\t\tdragEl = target;\n\t\t\t\tparentEl = dragEl.parentNode;\n\t\t\t\tnextEl = dragEl.nextSibling;\n\t\t\t\tlastDownEl = target;\n\t\t\t\tactiveGroup = options.group;\n\t\t\t\toldIndex = startIndex;\n\t\t\t\toldDraggableIndex = startDraggableIndex;\n\n\t\t\t\ttapEvt = {\n\t\t\t\t\ttarget: dragEl,\n\t\t\t\t\tclientX: (touch || evt).clientX,\n\t\t\t\t\tclientY: (touch || evt).clientY\n\t\t\t\t};\n\n\t\t\t\tthis._lastX = (touch || evt).clientX;\n\t\t\t\tthis._lastY = (touch || evt).clientY;\n\n\t\t\t\tdragEl.style['will-change'] = 'all';\n\t\t\t\t// undo animation if needed\n\t\t\t\tdragEl.style.transition = '';\n\t\t\t\tdragEl.style.transform = '';\n\n\t\t\t\tdragStartFn = function () {\n\t\t\t\t\t// Delayed drag has been triggered\n\t\t\t\t\t// we can re-enable the events: touchmove/mousemove\n\t\t\t\t\t_this._disableDelayedDragEvents();\n\n\t\t\t\t\tif (!FireFox && _this.nativeDraggable) {\n\t\t\t\t\t\tdragEl.draggable = true;\n\t\t\t\t\t}\n\n\t\t\t\t\t// Bind the events: dragstart/dragend\n\t\t\t\t\t_this._triggerDragStart(evt, touch);\n\n\t\t\t\t\t// Drag start event\n\t\t\t\t\t_dispatchEvent(_this, rootEl, 'choose', dragEl, rootEl, rootEl, oldIndex, undefined, oldDraggableIndex);\n\n\t\t\t\t\t// Chosen item\n\t\t\t\t\t_toggleClass(dragEl, options.chosenClass, true);\n\t\t\t\t};\n\n\t\t\t\t// Disable \"draggable\"\n\t\t\t\toptions.ignore.split(',').forEach(function (criteria) {\n\t\t\t\t\t_find(dragEl, criteria.trim(), _disableDraggable);\n\t\t\t\t});\n\n\t\t\t\t_on(ownerDocument, 'dragover', nearestEmptyInsertDetectEvent);\n\t\t\t\t_on(ownerDocument, 'mousemove', nearestEmptyInsertDetectEvent);\n\t\t\t\t_on(ownerDocument, 'touchmove', nearestEmptyInsertDetectEvent);\n\n\t\t\t\t_on(ownerDocument, 'mouseup', _this._onDrop);\n\t\t\t\t_on(ownerDocument, 'touchend', _this._onDrop);\n\t\t\t\t_on(ownerDocument, 'touchcancel', _this._onDrop);\n\n\t\t\t\t// Make dragEl draggable (must be before delay for FireFox)\n\t\t\t\tif (FireFox && this.nativeDraggable) {\n\t\t\t\t\tthis.options.touchStartThreshold = 4;\n\t\t\t\t\tdragEl.draggable = true;\n\t\t\t\t}\n\n\t\t\t\t// Delay is impossible for native DnD in Edge or IE\n\t\t\t\tif (options.delay && (options.delayOnTouchOnly ? touch : true) && (!this.nativeDraggable || !(Edge || IE11OrLess))) {\n\t\t\t\t\t// If the user moves the pointer or let go the click or touch\n\t\t\t\t\t// before the delay has been reached:\n\t\t\t\t\t// disable the delayed drag\n\t\t\t\t\t_on(ownerDocument, 'mouseup', _this._disableDelayedDrag);\n\t\t\t\t\t_on(ownerDocument, 'touchend', _this._disableDelayedDrag);\n\t\t\t\t\t_on(ownerDocument, 'touchcancel', _this._disableDelayedDrag);\n\t\t\t\t\t_on(ownerDocument, 'mousemove', _this._delayedDragTouchMoveHandler);\n\t\t\t\t\t_on(ownerDocument, 'touchmove', _this._delayedDragTouchMoveHandler);\n\t\t\t\t\toptions.supportPointer && _on(ownerDocument, 'pointermove', _this._delayedDragTouchMoveHandler);\n\n\t\t\t\t\t_this._dragStartTimer = setTimeout(dragStartFn, options.delay);\n\t\t\t\t} else {\n\t\t\t\t\tdragStartFn();\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\t_delayedDragTouchMoveHandler: function (/** TouchEvent|PointerEvent **/e) {\n\t\t\tvar touch = e.touches ? e.touches[0] : e;\n\t\t\tif (max(abs(touch.clientX - this._lastX), abs(touch.clientY - this._lastY))\n\t\t\t\t\t>= Math.floor(this.options.touchStartThreshold / (this.nativeDraggable && window.devicePixelRatio || 1))\n\t\t\t) {\n\t\t\t\tthis._disableDelayedDrag();\n\t\t\t}\n\t\t},\n\n\t\t_disableDelayedDrag: function () {\n\t\t\tdragEl && _disableDraggable(dragEl);\n\t\t\tclearTimeout(this._dragStartTimer);\n\n\t\t\tthis._disableDelayedDragEvents();\n\t\t},\n\n\t\t_disableDelayedDragEvents: function () {\n\t\t\tvar ownerDocument = this.el.ownerDocument;\n\t\t\t_off(ownerDocument, 'mouseup', this._disableDelayedDrag);\n\t\t\t_off(ownerDocument, 'touchend', this._disableDelayedDrag);\n\t\t\t_off(ownerDocument, 'touchcancel', this._disableDelayedDrag);\n\t\t\t_off(ownerDocument, 'mousemove', this._delayedDragTouchMoveHandler);\n\t\t\t_off(ownerDocument, 'touchmove', this._delayedDragTouchMoveHandler);\n\t\t\t_off(ownerDocument, 'pointermove', this._delayedDragTouchMoveHandler);\n\t\t},\n\n\t\t_triggerDragStart: function (/** Event */evt, /** Touch */touch) {\n\t\t\ttouch = touch || (evt.pointerType == 'touch' ? evt : null);\n\n\t\t\tif (!this.nativeDraggable || touch) {\n\t\t\t\tif (this.options.supportPointer) {\n\t\t\t\t\t_on(document, 'pointermove', this._onTouchMove);\n\t\t\t\t} else if (touch) {\n\t\t\t\t\t_on(document, 'touchmove', this._onTouchMove);\n\t\t\t\t} else {\n\t\t\t\t\t_on(document, 'mousemove', this._onTouchMove);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t_on(dragEl, 'dragend', this);\n\t\t\t\t_on(rootEl, 'dragstart', this._onDragStart);\n\t\t\t}\n\n\t\t\ttry {\n\t\t\t\tif (document.selection) {\n\t\t\t\t\t// Timeout neccessary for IE9\n\t\t\t\t\t_nextTick(function () {\n\t\t\t\t\t\tdocument.selection.empty();\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\twindow.getSelection().removeAllRanges();\n\t\t\t\t}\n\t\t\t} catch (err) {\n\t\t\t}\n\t\t},\n\n\t\t_dragStarted: function (fallback, evt) {\n\t\t\tawaitingDragStarted = false;\n\t\t\tif (rootEl && dragEl) {\n\t\t\t\tif (this.nativeDraggable) {\n\t\t\t\t\t_on(document, 'dragover', this._handleAutoScroll);\n\t\t\t\t\t_on(document, 'dragover', _checkAlignment);\n\t\t\t\t}\n\t\t\t\tvar options = this.options;\n\n\t\t\t\t// Apply effect\n\t\t\t\t!fallback && _toggleClass(dragEl, options.dragClass, false);\n\t\t\t\t_toggleClass(dragEl, options.ghostClass, true);\n\n\t\t\t\t// In case dragging an animated element\n\t\t\t\t_css(dragEl, 'transform', '');\n\n\t\t\t\tSortable.active = this;\n\n\t\t\t\tfallback && this._appendGhost();\n\n\t\t\t\t// Drag start event\n\t\t\t\t_dispatchEvent(this, rootEl, 'start', dragEl, rootEl, rootEl, oldIndex, undefined, oldDraggableIndex, undefined, evt);\n\t\t\t} else {\n\t\t\t\tthis._nulling();\n\t\t\t}\n\t\t},\n\n\t\t_emulateDragOver: function (forAutoScroll) {\n\t\t\tif (touchEvt) {\n\t\t\t\tif (this._lastX === touchEvt.clientX && this._lastY === touchEvt.clientY && !forAutoScroll) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tthis._lastX = touchEvt.clientX;\n\t\t\t\tthis._lastY = touchEvt.clientY;\n\n\t\t\t\t_hideGhostForTarget();\n\n\t\t\t\tvar target = document.elementFromPoint(touchEvt.clientX, touchEvt.clientY);\n\t\t\t\tvar parent = target;\n\n\t\t\t\twhile (target && target.shadowRoot) {\n\t\t\t\t\ttarget = target.shadowRoot.elementFromPoint(touchEvt.clientX, touchEvt.clientY);\n\t\t\t\t\tif (target === parent) break;\n\t\t\t\t\tparent = target;\n\t\t\t\t}\n\n\t\t\t\tif (parent) {\n\t\t\t\t\tdo {\n\t\t\t\t\t\tif (parent[expando]) {\n\t\t\t\t\t\t\tvar inserted;\n\n\t\t\t\t\t\t\tinserted = parent[expando]._onDragOver({\n\t\t\t\t\t\t\t\tclientX: touchEvt.clientX,\n\t\t\t\t\t\t\t\tclientY: touchEvt.clientY,\n\t\t\t\t\t\t\t\ttarget: target,\n\t\t\t\t\t\t\t\trootEl: parent\n\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t\tif (inserted && !this.options.dragoverBubble) {\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\ttarget = parent; // store last element\n\t\t\t\t\t}\n\t\t\t\t\t/* jshint boss:true */\n\t\t\t\t\twhile (parent = parent.parentNode);\n\t\t\t\t}\n\t\t\t\tdragEl.parentNode[expando]._computeIsAligned(touchEvt);\n\n\t\t\t\t_unhideGhostForTarget();\n\t\t\t}\n\t\t},\n\n\n\t\t_onTouchMove: function (/**TouchEvent*/evt, forAutoScroll) {\n\t\t\tif (tapEvt) {\n\t\t\t\tvar\toptions = this.options,\n\t\t\t\t\tfallbackTolerance = options.fallbackTolerance,\n\t\t\t\t\tfallbackOffset = options.fallbackOffset,\n\t\t\t\t\ttouch = evt.touches ? evt.touches[0] : evt,\n\t\t\t\t\tmatrix = ghostEl && _matrix(ghostEl),\n\t\t\t\t\tscaleX = ghostEl && matrix && matrix.a,\n\t\t\t\t\tscaleY = ghostEl && matrix && matrix.d,\n\t\t\t\t\trelativeScrollOffset = PositionGhostAbsolutely && ghostRelativeParent && _getRelativeScrollOffset(ghostRelativeParent),\n\t\t\t\t\tdx = ((touch.clientX - tapEvt.clientX)\n\t\t\t\t\t\t\t+ fallbackOffset.x) / (scaleX || 1)\n\t\t\t\t\t\t\t+ (relativeScrollOffset ? (relativeScrollOffset[0] - ghostRelativeParentInitialScroll[0]) : 0) / (scaleX || 1),\n\t\t\t\t\tdy = ((touch.clientY - tapEvt.clientY)\n\t\t\t\t\t\t\t+ fallbackOffset.y) / (scaleY || 1)\n\t\t\t\t\t\t\t+ (relativeScrollOffset ? (relativeScrollOffset[1] - ghostRelativeParentInitialScroll[1]) : 0) / (scaleY || 1),\n\t\t\t\t\ttranslate3d = evt.touches ? 'translate3d(' + dx + 'px,' + dy + 'px,0)' : 'translate(' + dx + 'px,' + dy + 'px)';\n\n\t\t\t\t// only set the status to dragging, when we are actually dragging\n\t\t\t\tif (!Sortable.active && !awaitingDragStarted) {\n\t\t\t\t\tif (fallbackTolerance &&\n\t\t\t\t\t\tmin(abs(touch.clientX - this._lastX), abs(touch.clientY - this._lastY)) < fallbackTolerance\n\t\t\t\t\t) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\tthis._onDragStart(evt, true);\n\t\t\t\t}\n\n\t\t\t\t!forAutoScroll && this._handleAutoScroll(touch, true);\n\n\t\t\t\tmoved = true;\n\t\t\t\ttouchEvt = touch;\n\n\t\t\t\t_css(ghostEl, 'webkitTransform', translate3d);\n\t\t\t\t_css(ghostEl, 'mozTransform', translate3d);\n\t\t\t\t_css(ghostEl, 'msTransform', translate3d);\n\t\t\t\t_css(ghostEl, 'transform', translate3d);\n\n\t\t\t\tevt.cancelable && evt.preventDefault();\n\t\t\t}\n\t\t},\n\n\t\t_appendGhost: function () {\n\t\t\t// Bug if using scale(): https://stackoverflow.com/questions/2637058\n\t\t\t// Not being adjusted for\n\t\t\tif (!ghostEl) {\n\t\t\t\tvar container = this.options.fallbackOnBody ? document.body : rootEl,\n\t\t\t\t\trect = _getRect(dragEl, true, container, !PositionGhostAbsolutely),\n\t\t\t\t\tcss = _css(dragEl),\n\t\t\t\t\toptions = this.options;\n\n\t\t\t\t// Position absolutely\n\t\t\t\tif (PositionGhostAbsolutely) {\n\t\t\t\t\t// Get relatively positioned parent\n\t\t\t\t\tghostRelativeParent = container;\n\n\t\t\t\t\twhile (\n\t\t\t\t\t\t_css(ghostRelativeParent, 'position') === 'static' &&\n\t\t\t\t\t\t_css(ghostRelativeParent, 'transform') === 'none' &&\n\t\t\t\t\t\tghostRelativeParent !== document\n\t\t\t\t\t) {\n\t\t\t\t\t\tghostRelativeParent = ghostRelativeParent.parentNode;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (ghostRelativeParent !== document) {\n\t\t\t\t\t\tvar ghostRelativeParentRect = _getRect(ghostRelativeParent, true);\n\n\t\t\t\t\t\trect.top -= ghostRelativeParentRect.top;\n\t\t\t\t\t\trect.left -= ghostRelativeParentRect.left;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (ghostRelativeParent !== document.body && ghostRelativeParent !== document.documentElement) {\n\t\t\t\t\t\tif (ghostRelativeParent === document) ghostRelativeParent = _getWindowScrollingElement();\n\n\t\t\t\t\t\trect.top += ghostRelativeParent.scrollTop;\n\t\t\t\t\t\trect.left += ghostRelativeParent.scrollLeft;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tghostRelativeParent = _getWindowScrollingElement();\n\t\t\t\t\t}\n\t\t\t\t\tghostRelativeParentInitialScroll = _getRelativeScrollOffset(ghostRelativeParent);\n\t\t\t\t}\n\n\n\t\t\t\tghostEl = dragEl.cloneNode(true);\n\n\t\t\t\t_toggleClass(ghostEl, options.ghostClass, false);\n\t\t\t\t_toggleClass(ghostEl, options.fallbackClass, true);\n\t\t\t\t_toggleClass(ghostEl, options.dragClass, true);\n\n\t\t\t\t_css(ghostEl, 'box-sizing', 'border-box');\n\t\t\t\t_css(ghostEl, 'margin', 0);\n\t\t\t\t_css(ghostEl, 'top', rect.top);\n\t\t\t\t_css(ghostEl, 'left', rect.left);\n\t\t\t\t_css(ghostEl, 'width', rect.width);\n\t\t\t\t_css(ghostEl, 'height', rect.height);\n\t\t\t\t_css(ghostEl, 'opacity', '0.8');\n\t\t\t\t_css(ghostEl, 'position', (PositionGhostAbsolutely ? 'absolute' : 'fixed'));\n\t\t\t\t_css(ghostEl, 'zIndex', '100000');\n\t\t\t\t_css(ghostEl, 'pointerEvents', 'none');\n\n\t\t\t\tcontainer.appendChild(ghostEl);\n\t\t\t}\n\t\t},\n\n\t\t_onDragStart: function (/**Event*/evt, /**boolean*/fallback) {\n\t\t\tvar _this = this;\n\t\t\tvar dataTransfer = evt.dataTransfer;\n\t\t\tvar options = _this.options;\n\n\t\t\t// Setup clone\n\t\t\tcloneEl = _clone(dragEl);\n\n\t\t\tcloneEl.draggable = false;\n\t\t\tcloneEl.style['will-change'] = '';\n\n\t\t\tthis._hideClone();\n\n\t\t\t_toggleClass(cloneEl, _this.options.chosenClass, false);\n\n\n\t\t\t// #1143: IFrame support workaround\n\t\t\t_this._cloneId = _nextTick(function () {\n\t\t\t\tif (!_this.options.removeCloneOnHide) {\n\t\t\t\t\trootEl.insertBefore(cloneEl, dragEl);\n\t\t\t\t}\n\t\t\t\t_dispatchEvent(_this, rootEl, 'clone', dragEl);\n\t\t\t});\n\n\n\t\t\t!fallback && _toggleClass(dragEl, options.dragClass, true);\n\n\t\t\t// Set proper drop events\n\t\t\tif (fallback) {\n\t\t\t\tignoreNextClick = true;\n\t\t\t\t_this._loopId = setInterval(_this._emulateDragOver, 50);\n\t\t\t} else {\n\t\t\t\t// Undo what was set in _prepareDragStart before drag started\n\t\t\t\t_off(document, 'mouseup', _this._onDrop);\n\t\t\t\t_off(document, 'touchend', _this._onDrop);\n\t\t\t\t_off(document, 'touchcancel', _this._onDrop);\n\n\t\t\t\tif (dataTransfer) {\n\t\t\t\t\tdataTransfer.effectAllowed = 'move';\n\t\t\t\t\toptions.setData && options.setData.call(_this, dataTransfer, dragEl);\n\t\t\t\t}\n\n\t\t\t\t_on(document, 'drop', _this);\n\n\t\t\t\t// #1276 fix:\n\t\t\t\t_css(dragEl, 'transform', 'translateZ(0)');\n\t\t\t}\n\n\t\t\tawaitingDragStarted = true;\n\n\t\t\t_this._dragStartId = _nextTick(_this._dragStarted.bind(_this, fallback, evt));\n\t\t\t_on(document, 'selectstart', _this);\n\t\t\tif (Safari) {\n\t\t\t\t_css(document.body, 'user-select', 'none');\n\t\t\t}\n\t\t},\n\n\n\t\t// Returns true - if no further action is needed (either inserted or another condition)\n\t\t_onDragOver: function (/**Event*/evt) {\n\t\t\tvar el = this.el,\n\t\t\t\ttarget = evt.target,\n\t\t\t\tdragRect,\n\t\t\t\ttargetRect,\n\t\t\t\trevert,\n\t\t\t\toptions = this.options,\n\t\t\t\tgroup = options.group,\n\t\t\t\tactiveSortable = Sortable.active,\n\t\t\t\tisOwner = (activeGroup === group),\n\t\t\t\tcanSort = options.sort,\n\t\t\t\t_this = this;\n\n\t\t\tif (_silent) return;\n\n\t\t\t// Return invocation when dragEl is inserted (or completed)\n\t\t\tfunction completed(insertion) {\n\t\t\t\tif (insertion) {\n\t\t\t\t\tif (isOwner) {\n\t\t\t\t\t\tactiveSortable._hideClone();\n\t\t\t\t\t} else {\n\t\t\t\t\t\tactiveSortable._showClone(_this);\n\t\t\t\t\t}\n\n\t\t\t\t\tif (activeSortable) {\n\t\t\t\t\t\t// Set ghost class to new sortable's ghost class\n\t\t\t\t\t\t_toggleClass(dragEl, putSortable ? putSortable.options.ghostClass : activeSortable.options.ghostClass, false);\n\t\t\t\t\t\t_toggleClass(dragEl, options.ghostClass, true);\n\t\t\t\t\t}\n\n\t\t\t\t\tif (putSortable !== _this && _this !== Sortable.active) {\n\t\t\t\t\t\tputSortable = _this;\n\t\t\t\t\t} else if (_this === Sortable.active) {\n\t\t\t\t\t\tputSortable = null;\n\t\t\t\t\t}\n\n\t\t\t\t\t// Animation\n\t\t\t\t\tdragRect && _this._animate(dragRect, dragEl);\n\t\t\t\t\ttarget && targetRect && _this._animate(targetRect, target);\n\t\t\t\t}\n\n\n\t\t\t\t// Null lastTarget if it is not inside a previously swapped element\n\t\t\t\tif ((target === dragEl && !dragEl.animated) || (target === el && !target.animated)) {\n\t\t\t\t\tlastTarget = null;\n\t\t\t\t}\n\n\t\t\t\t// no bubbling and not fallback\n\t\t\t\tif (!options.dragoverBubble && !evt.rootEl && target !== document) {\n\t\t\t\t\t_this._handleAutoScroll(evt);\n\t\t\t\t\tdragEl.parentNode[expando]._computeIsAligned(evt);\n\n\t\t\t\t\t// Do not detect for empty insert if already inserted\n\t\t\t\t\t!insertion && nearestEmptyInsertDetectEvent(evt);\n\t\t\t\t}\n\n\t\t\t\t!options.dragoverBubble && evt.stopPropagation && evt.stopPropagation();\n\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t\t// Call when dragEl has been inserted\n\t\t\tfunction changed() {\n\t\t\t\t_dispatchEvent(_this, rootEl, 'change', target, el, rootEl, oldIndex, _index(dragEl), oldDraggableIndex, _index(dragEl, options.draggable), evt);\n\t\t\t}\n\n\n\t\t\tif (evt.preventDefault !== void 0) {\n\t\t\t\tevt.cancelable && evt.preventDefault();\n\t\t\t}\n\n\n\t\t\tmoved = true;\n\n\t\t\ttarget = _closest(target, options.draggable, el, true);\n\n\t\t\t// target is dragEl or target is animated\n\t\t\tif (dragEl.contains(evt.target) || target.animated) {\n\t\t\t\treturn completed(false);\n\t\t\t}\n\n\t\t\tif (target !== dragEl) {\n\t\t\t\tignoreNextClick = false;\n\t\t\t}\n\n\t\t\tif (activeSortable && !options.disabled &&\n\t\t\t\t(isOwner\n\t\t\t\t\t? canSort || (revert = !rootEl.contains(dragEl)) // Reverting item into the original list\n\t\t\t\t\t: (\n\t\t\t\t\t\tputSortable === this ||\n\t\t\t\t\t\t(\n\t\t\t\t\t\t\t(this.lastPutMode = activeGroup.checkPull(this, activeSortable, dragEl, evt)) &&\n\t\t\t\t\t\t\tgroup.checkPut(this, activeSortable, dragEl, evt)\n\t\t\t\t\t\t)\n\t\t\t\t\t)\n\t\t\t\t)\n\t\t\t) {\n\t\t\t\tvar axis = this._getDirection(evt, target);\n\n\t\t\t\tdragRect = _getRect(dragEl);\n\n\t\t\t\tif (revert) {\n\t\t\t\t\tthis._hideClone();\n\t\t\t\t\tparentEl = rootEl; // actualization\n\n\t\t\t\t\tif (nextEl) {\n\t\t\t\t\t\trootEl.insertBefore(dragEl, nextEl);\n\t\t\t\t\t} else {\n\t\t\t\t\t\trootEl.appendChild(dragEl);\n\t\t\t\t\t}\n\n\t\t\t\t\treturn completed(true);\n\t\t\t\t}\n\n\t\t\t\tvar elLastChild = _lastChild(el);\n\n\t\t\t\tif (!elLastChild || _ghostIsLast(evt, axis, el) && !elLastChild.animated) {\n\t\t\t\t\t// assign target only if condition is true\n\t\t\t\t\tif (elLastChild && el === evt.target) {\n\t\t\t\t\t\ttarget = elLastChild;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (target) {\n\t\t\t\t\t\ttargetRect = _getRect(target);\n\t\t\t\t\t}\n\n\t\t\t\t\tif (isOwner) {\n\t\t\t\t\t\tactiveSortable._hideClone();\n\t\t\t\t\t} else {\n\t\t\t\t\t\tactiveSortable._showClone(this);\n\t\t\t\t\t}\n\n\t\t\t\t\tif (_onMove(rootEl, el, dragEl, dragRect, target, targetRect, evt, !!target) !== false) {\n\t\t\t\t\t\tel.appendChild(dragEl);\n\t\t\t\t\t\tparentEl = el; // actualization\n\t\t\t\t\t\trealDragElRect = null;\n\n\t\t\t\t\t\tchanged();\n\t\t\t\t\t\treturn completed(true);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telse if (target && target !== dragEl && target.parentNode === el) {\n\t\t\t\t\tvar direction = 0,\n\t\t\t\t\t\ttargetBeforeFirstSwap,\n\t\t\t\t\t\taligned = target.sortableMouseAligned,\n\t\t\t\t\t\tdifferentLevel = dragEl.parentNode !== el,\n\t\t\t\t\t\tside1 = axis === 'vertical' ? 'top' : 'left',\n\t\t\t\t\t\tscrolledPastTop = _isScrolledPast(target, 'top') || _isScrolledPast(dragEl, 'top'),\n\t\t\t\t\t\tscrollBefore = scrolledPastTop ? scrolledPastTop.scrollTop : void 0;\n\n\n\t\t\t\t\tif (lastTarget !== target) {\n\t\t\t\t\t\tlastMode = null;\n\t\t\t\t\t\ttargetBeforeFirstSwap = _getRect(target)[side1];\n\t\t\t\t\t\tpastFirstInvertThresh = false;\n\t\t\t\t\t}\n\n\t\t\t\t\t// Reference: https://www.lucidchart.com/documents/view/10fa0e93-e362-4126-aca2-b709ee56bd8b/0\n\t\t\t\t\tif (\n\t\t\t\t\t\t_isElInRowColumn(dragEl, target, axis) && aligned ||\n\t\t\t\t\t\tdifferentLevel ||\n\t\t\t\t\t\tscrolledPastTop ||\n\t\t\t\t\t\toptions.invertSwap ||\n\t\t\t\t\t\tlastMode === 'insert' ||\n\t\t\t\t\t\t// Needed, in the case that we are inside target and inserted because not aligned... aligned will stay false while inside\n\t\t\t\t\t\t// and lastMode will change to 'insert', but we must swap\n\t\t\t\t\t\tlastMode === 'swap'\n\t\t\t\t\t) {\n\t\t\t\t\t\t// New target that we will be inside\n\t\t\t\t\t\tif (lastMode !== 'swap') {\n\t\t\t\t\t\t\tisCircumstantialInvert = options.invertSwap || differentLevel;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tdirection = _getSwapDirection(evt, target, axis,\n\t\t\t\t\t\t\toptions.swapThreshold, options.invertedSwapThreshold == null ? options.swapThreshold : options.invertedSwapThreshold,\n\t\t\t\t\t\t\tisCircumstantialInvert,\n\t\t\t\t\t\t\tlastTarget === target);\n\t\t\t\t\t\tlastMode = 'swap';\n\t\t\t\t\t} else {\n\t\t\t\t\t\t// Insert at position\n\t\t\t\t\t\tdirection = _getInsertDirection(target);\n\t\t\t\t\t\tlastMode = 'insert';\n\t\t\t\t\t}\n\t\t\t\t\tif (direction === 0) return completed(false);\n\n\t\t\t\t\trealDragElRect = null;\n\t\t\t\t\tlastTarget = target;\n\n\t\t\t\t\tlastDirection = direction;\n\n\t\t\t\t\ttargetRect = _getRect(target);\n\n\t\t\t\t\tvar nextSibling = target.nextElementSibling,\n\t\t\t\t\t\tafter = false;\n\n\t\t\t\t\tafter = direction === 1;\n\n\t\t\t\t\tvar moveVector = _onMove(rootEl, el, dragEl, dragRect, target, targetRect, evt, after);\n\n\t\t\t\t\tif (moveVector !== false) {\n\t\t\t\t\t\tif (moveVector === 1 || moveVector === -1) {\n\t\t\t\t\t\t\tafter = (moveVector === 1);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t_silent = true;\n\t\t\t\t\t\tsetTimeout(_unsilent, 30);\n\n\t\t\t\t\t\tif (isOwner) {\n\t\t\t\t\t\t\tactiveSortable._hideClone();\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tactiveSortable._showClone(this);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (after && !nextSibling) {\n\t\t\t\t\t\t\tel.appendChild(dragEl);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\ttarget.parentNode.insertBefore(dragEl, after ? nextSibling : target);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// Undo chrome's scroll adjustment\n\t\t\t\t\t\tif (scrolledPastTop) {\n\t\t\t\t\t\t\t_scrollBy(scrolledPastTop, 0, scrollBefore - scrolledPastTop.scrollTop);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tparentEl = dragEl.parentNode; // actualization\n\n\t\t\t\t\t\t// must be done before animation\n\t\t\t\t\t\tif (targetBeforeFirstSwap !== undefined && !isCircumstantialInvert) {\n\t\t\t\t\t\t\ttargetMoveDistance = abs(targetBeforeFirstSwap - _getRect(target)[side1]);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tchanged();\n\n\t\t\t\t\t\treturn completed(true);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (el.contains(dragEl)) {\n\t\t\t\t\treturn completed(false);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn false;\n\t\t},\n\n\t\t_animate: function (prevRect, target) {\n\t\t\tvar ms = this.options.animation;\n\n\t\t\tif (ms) {\n\t\t\t\tvar currentRect = _getRect(target);\n\n\t\t\t\tif (target === dragEl) {\n\t\t\t\t\trealDragElRect = currentRect;\n\t\t\t\t}\n\n\t\t\t\tif (prevRect.nodeType === 1) {\n\t\t\t\t\tprevRect = _getRect(prevRect);\n\t\t\t\t}\n\n\t\t\t\t// Check if actually moving position\n\t\t\t\tif ((prevRect.left + prevRect.width / 2) !== (currentRect.left + currentRect.width / 2)\n\t\t\t\t\t|| (prevRect.top + prevRect.height / 2) !== (currentRect.top + currentRect.height / 2)\n\t\t\t\t) {\n\t\t\t\t\tvar matrix = _matrix(this.el),\n\t\t\t\t\t\tscaleX = matrix && matrix.a,\n\t\t\t\t\t\tscaleY = matrix && matrix.d;\n\n\t\t\t\t\t_css(target, 'transition', 'none');\n\t\t\t\t\t_css(target, 'transform', 'translate3d('\n\t\t\t\t\t\t+ (prevRect.left - currentRect.left) / (scaleX ? scaleX : 1) + 'px,'\n\t\t\t\t\t\t+ (prevRect.top - currentRect.top) / (scaleY ? scaleY : 1) + 'px,0)'\n\t\t\t\t\t);\n\n\t\t\t\t\tthis._repaint(target);\n\t\t\t\t\t_css(target, 'transition', 'transform ' + ms + 'ms' + (this.options.easing ? ' ' + this.options.easing : ''));\n\t\t\t\t\t_css(target, 'transform', 'translate3d(0,0,0)');\n\t\t\t\t}\n\n\t\t\t\t(typeof target.animated === 'number') && clearTimeout(target.animated);\n\t\t\t\ttarget.animated = setTimeout(function () {\n\t\t\t\t\t_css(target, 'transition', '');\n\t\t\t\t\t_css(target, 'transform', '');\n\t\t\t\t\ttarget.animated = false;\n\t\t\t\t}, ms);\n\t\t\t}\n\t\t},\n\n\t\t_repaint: function(target) {\n\t\t\treturn target.offsetWidth;\n\t\t},\n\n\t\t_offMoveEvents: function() {\n\t\t\t_off(document, 'touchmove', this._onTouchMove);\n\t\t\t_off(document, 'pointermove', this._onTouchMove);\n\t\t\t_off(document, 'dragover', nearestEmptyInsertDetectEvent);\n\t\t\t_off(document, 'mousemove', nearestEmptyInsertDetectEvent);\n\t\t\t_off(document, 'touchmove', nearestEmptyInsertDetectEvent);\n\t\t},\n\n\t\t_offUpEvents: function () {\n\t\t\tvar ownerDocument = this.el.ownerDocument;\n\n\t\t\t_off(ownerDocument, 'mouseup', this._onDrop);\n\t\t\t_off(ownerDocument, 'touchend', this._onDrop);\n\t\t\t_off(ownerDocument, 'pointerup', this._onDrop);\n\t\t\t_off(ownerDocument, 'touchcancel', this._onDrop);\n\t\t\t_off(document, 'selectstart', this);\n\t\t},\n\n\t\t_onDrop: function (/**Event*/evt) {\n\t\t\tvar el = this.el,\n\t\t\t\toptions = this.options;\n\t\t\tawaitingDragStarted = false;\n\t\t\tscrolling = false;\n\t\t\tisCircumstantialInvert = false;\n\t\t\tpastFirstInvertThresh = false;\n\n\t\t\tclearInterval(this._loopId);\n\n\t\t\tclearInterval(pointerElemChangedInterval);\n\t\t\t_clearAutoScrolls();\n\t\t\t_cancelThrottle();\n\n\t\t\tclearTimeout(this._dragStartTimer);\n\n\t\t\t_cancelNextTick(this._cloneId);\n\t\t\t_cancelNextTick(this._dragStartId);\n\n\t\t\t// Unbind events\n\t\t\t_off(document, 'mousemove', this._onTouchMove);\n\n\n\t\t\tif (this.nativeDraggable) {\n\t\t\t\t_off(document, 'drop', this);\n\t\t\t\t_off(el, 'dragstart', this._onDragStart);\n\t\t\t\t_off(document, 'dragover', this._handleAutoScroll);\n\t\t\t\t_off(document, 'dragover', _checkAlignment);\n\t\t\t}\n\n\t\t\tif (Safari) {\n\t\t\t\t_css(document.body, 'user-select', '');\n\t\t\t}\n\n\t\t\tthis._offMoveEvents();\n\t\t\tthis._offUpEvents();\n\n\t\t\tif (evt) {\n\t\t\t\tif (moved) {\n\t\t\t\t\tevt.cancelable && evt.preventDefault();\n\t\t\t\t\t!options.dropBubble && evt.stopPropagation();\n\t\t\t\t}\n\n\t\t\t\tghostEl && ghostEl.parentNode && ghostEl.parentNode.removeChild(ghostEl);\n\n\t\t\t\tif (rootEl === parentEl || (putSortable && putSortable.lastPutMode !== 'clone')) {\n\t\t\t\t\t// Remove clone\n\t\t\t\t\tcloneEl && cloneEl.parentNode && cloneEl.parentNode.removeChild(cloneEl);\n\t\t\t\t}\n\n\t\t\t\tif (dragEl) {\n\t\t\t\t\tif (this.nativeDraggable) {\n\t\t\t\t\t\t_off(dragEl, 'dragend', this);\n\t\t\t\t\t}\n\n\t\t\t\t\t_disableDraggable(dragEl);\n\t\t\t\t\tdragEl.style['will-change'] = '';\n\n\t\t\t\t\t// Remove class's\n\t\t\t\t\t_toggleClass(dragEl, putSortable ? putSortable.options.ghostClass : this.options.ghostClass, false);\n\t\t\t\t\t_toggleClass(dragEl, this.options.chosenClass, false);\n\n\t\t\t\t\t// Drag stop event\n\t\t\t\t\t_dispatchEvent(this, rootEl, 'unchoose', dragEl, parentEl, rootEl, oldIndex, null, oldDraggableIndex, null, evt);\n\n\t\t\t\t\tif (rootEl !== parentEl) {\n\t\t\t\t\t\tnewIndex = _index(dragEl);\n\t\t\t\t\t\tnewDraggableIndex = _index(dragEl, options.draggable);\n\n\t\t\t\t\t\tif (newIndex >= 0) {\n\t\t\t\t\t\t\t// Add event\n\t\t\t\t\t\t\t_dispatchEvent(null, parentEl, 'add', dragEl, parentEl, rootEl, oldIndex, newIndex, oldDraggableIndex, newDraggableIndex, evt);\n\n\t\t\t\t\t\t\t// Remove event\n\t\t\t\t\t\t\t_dispatchEvent(this, rootEl, 'remove', dragEl, parentEl, rootEl, oldIndex, newIndex, oldDraggableIndex, newDraggableIndex, evt);\n\n\t\t\t\t\t\t\t// drag from one list and drop into another\n\t\t\t\t\t\t\t_dispatchEvent(null, parentEl, 'sort', dragEl, parentEl, rootEl, oldIndex, newIndex, oldDraggableIndex, newDraggableIndex, evt);\n\t\t\t\t\t\t\t_dispatchEvent(this, rootEl, 'sort', dragEl, parentEl, rootEl, oldIndex, newIndex, oldDraggableIndex, newDraggableIndex, evt);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tputSortable && putSortable.save();\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\tif (dragEl.nextSibling !== nextEl) {\n\t\t\t\t\t\t\t// Get the index of the dragged element within its parent\n\t\t\t\t\t\t\tnewIndex = _index(dragEl);\n\t\t\t\t\t\t\tnewDraggableIndex = _index(dragEl, options.draggable);\n\n\t\t\t\t\t\t\tif (newIndex >= 0) {\n\t\t\t\t\t\t\t\t// drag & drop within the same list\n\t\t\t\t\t\t\t\t_dispatchEvent(this, rootEl, 'update', dragEl, parentEl, rootEl, oldIndex, newIndex, oldDraggableIndex, newDraggableIndex, evt);\n\t\t\t\t\t\t\t\t_dispatchEvent(this, rootEl, 'sort', dragEl, parentEl, rootEl, oldIndex, newIndex, oldDraggableIndex, newDraggableIndex, evt);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tif (Sortable.active) {\n\t\t\t\t\t\t/* jshint eqnull:true */\n\t\t\t\t\t\tif (newIndex == null || newIndex === -1) {\n\t\t\t\t\t\t\tnewIndex = oldIndex;\n\t\t\t\t\t\t\tnewDraggableIndex = oldDraggableIndex;\n\t\t\t\t\t\t}\n\t\t\t\t\t\t_dispatchEvent(this, rootEl, 'end', dragEl, parentEl, rootEl, oldIndex, newIndex, oldDraggableIndex, newDraggableIndex, evt);\n\n\t\t\t\t\t\t// Save sorting\n\t\t\t\t\t\tthis.save();\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t}\n\t\t\tthis._nulling();\n\t\t},\n\n\t\t_nulling: function() {\n\t\t\trootEl =\n\t\t\tdragEl =\n\t\t\tparentEl =\n\t\t\tghostEl =\n\t\t\tnextEl =\n\t\t\tcloneEl =\n\t\t\tlastDownEl =\n\n\t\t\tscrollEl =\n\t\t\tscrollParentEl =\n\t\t\tautoScrolls.length =\n\n\t\t\tpointerElemChangedInterval =\n\t\t\tlastPointerElemX =\n\t\t\tlastPointerElemY =\n\n\t\t\ttapEvt =\n\t\t\ttouchEvt =\n\n\t\t\tmoved =\n\t\t\tnewIndex =\n\t\t\toldIndex =\n\n\t\t\tlastTarget =\n\t\t\tlastDirection =\n\n\t\t\trealDragElRect =\n\n\t\t\tputSortable =\n\t\t\tactiveGroup =\n\t\t\tSortable.active = null;\n\n\t\t\tsavedInputChecked.forEach(function (el) {\n\t\t\t\tel.checked = true;\n\t\t\t});\n\n\t\t\tsavedInputChecked.length = 0;\n\t\t},\n\n\t\thandleEvent: function (/**Event*/evt) {\n\t\t\tswitch (evt.type) {\n\t\t\t\tcase 'drop':\n\t\t\t\tcase 'dragend':\n\t\t\t\t\tthis._onDrop(evt);\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'dragenter':\n\t\t\t\tcase 'dragover':\n\t\t\t\t\tif (dragEl) {\n\t\t\t\t\t\tthis._onDragOver(evt);\n\t\t\t\t\t\t_globalDragOver(evt);\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'selectstart':\n\t\t\t\t\tevt.preventDefault();\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t},\n\n\n\t\t/**\n\t\t * Serializes the item into an array of string.\n\t\t * @returns {String[]}\n\t\t */\n\t\ttoArray: function () {\n\t\t\tvar order = [],\n\t\t\t\tel,\n\t\t\t\tchildren = this.el.children,\n\t\t\t\ti = 0,\n\t\t\t\tn = children.length,\n\t\t\t\toptions = this.options;\n\n\t\t\tfor (; i < n; i++) {\n\t\t\t\tel = children[i];\n\t\t\t\tif (_closest(el, options.draggable, this.el, false)) {\n\t\t\t\t\torder.push(el.getAttribute(options.dataIdAttr) || _generateId(el));\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn order;\n\t\t},\n\n\n\t\t/**\n\t\t * Sorts the elements according to the array.\n\t\t * @param  {String[]}  order  order of the items\n\t\t */\n\t\tsort: function (order) {\n\t\t\tvar items = {}, rootEl = this.el;\n\n\t\t\tthis.toArray().forEach(function (id, i) {\n\t\t\t\tvar el = rootEl.children[i];\n\n\t\t\t\tif (_closest(el, this.options.draggable, rootEl, false)) {\n\t\t\t\t\titems[id] = el;\n\t\t\t\t}\n\t\t\t}, this);\n\n\t\t\torder.forEach(function (id) {\n\t\t\t\tif (items[id]) {\n\t\t\t\t\trootEl.removeChild(items[id]);\n\t\t\t\t\trootEl.appendChild(items[id]);\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\n\n\t\t/**\n\t\t * Save the current sorting\n\t\t */\n\t\tsave: function () {\n\t\t\tvar store = this.options.store;\n\t\t\tstore && store.set && store.set(this);\n\t\t},\n\n\n\t\t/**\n\t\t * For each element in the set, get the first element that matches the selector by testing the element itself and traversing up through its ancestors in the DOM tree.\n\t\t * @param   {HTMLElement}  el\n\t\t * @param   {String}       [selector]  default: `options.draggable`\n\t\t * @returns {HTMLElement|null}\n\t\t */\n\t\tclosest: function (el, selector) {\n\t\t\treturn _closest(el, selector || this.options.draggable, this.el, false);\n\t\t},\n\n\n\t\t/**\n\t\t * Set/get option\n\t\t * @param   {string} name\n\t\t * @param   {*}      [value]\n\t\t * @returns {*}\n\t\t */\n\t\toption: function (name, value) {\n\t\t\tvar options = this.options;\n\n\t\t\tif (value === void 0) {\n\t\t\t\treturn options[name];\n\t\t\t} else {\n\t\t\t\toptions[name] = value;\n\n\t\t\t\tif (name === 'group') {\n\t\t\t\t\t_prepareGroup(options);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\n\t\t/**\n\t\t * Destroy\n\t\t */\n\t\tdestroy: function () {\n\t\t\tvar el = this.el;\n\n\t\t\tel[expando] = null;\n\n\t\t\t_off(el, 'mousedown', this._onTapStart);\n\t\t\t_off(el, 'touchstart', this._onTapStart);\n\t\t\t_off(el, 'pointerdown', this._onTapStart);\n\n\t\t\tif (this.nativeDraggable) {\n\t\t\t\t_off(el, 'dragover', this);\n\t\t\t\t_off(el, 'dragenter', this);\n\t\t\t}\n\t\t\t// Remove draggable attributes\n\t\t\tArray.prototype.forEach.call(el.querySelectorAll('[draggable]'), function (el) {\n\t\t\t\tel.removeAttribute('draggable');\n\t\t\t});\n\n\t\t\tthis._onDrop();\n\n\t\t\tsortables.splice(sortables.indexOf(this.el), 1);\n\n\t\t\tthis.el = el = null;\n\t\t},\n\n\t\t_hideClone: function() {\n\t\t\tif (!cloneEl.cloneHidden) {\n\t\t\t\t_css(cloneEl, 'display', 'none');\n\t\t\t\tcloneEl.cloneHidden = true;\n\t\t\t\tif (cloneEl.parentNode && this.options.removeCloneOnHide) {\n\t\t\t\t\tcloneEl.parentNode.removeChild(cloneEl);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\t_showClone: function(putSortable) {\n\t\t\tif (putSortable.lastPutMode !== 'clone') {\n\t\t\t\tthis._hideClone();\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (cloneEl.cloneHidden) {\n\t\t\t\t// show clone at dragEl or original position\n\t\t\t\tif (rootEl.contains(dragEl) && !this.options.group.revertClone) {\n\t\t\t\t\trootEl.insertBefore(cloneEl, dragEl);\n\t\t\t\t} else if (nextEl) {\n\t\t\t\t\trootEl.insertBefore(cloneEl, nextEl);\n\t\t\t\t} else {\n\t\t\t\t\trootEl.appendChild(cloneEl);\n\t\t\t\t}\n\n\t\t\t\tif (this.options.group.revertClone) {\n\t\t\t\t\tthis._animate(dragEl, cloneEl);\n\t\t\t\t}\n\t\t\t\t_css(cloneEl, 'display', '');\n\t\t\t\tcloneEl.cloneHidden = false;\n\t\t\t}\n\t\t}\n\t};\n\n\tfunction _closest(/**HTMLElement*/el, /**String*/selector, /**HTMLElement*/ctx, includeCTX) {\n\t\tif (el) {\n\t\t\tctx = ctx || document;\n\n\t\t\tdo {\n\t\t\t\tif (\n\t\t\t\t\tselector != null &&\n\t\t\t\t\t(\n\t\t\t\t\t\tselector[0] === '>' ?\n\t\t\t\t\t\tel.parentNode === ctx && _matches(el, selector) :\n\t\t\t\t\t\t_matches(el, selector)\n\t\t\t\t\t) ||\n\t\t\t\t\tincludeCTX && el === ctx\n\t\t\t\t) {\n\t\t\t\t\treturn el;\n\t\t\t\t}\n\n\t\t\t\tif (el === ctx) break;\n\t\t\t\t/* jshint boss:true */\n\t\t\t} while (el = _getParentOrHost(el));\n\t\t}\n\n\t\treturn null;\n\t}\n\n\n\tfunction _getParentOrHost(el) {\n\t\treturn (el.host && el !== document && el.host.nodeType)\n\t\t\t? el.host\n\t\t\t: el.parentNode;\n\t}\n\n\n\tfunction _globalDragOver(/**Event*/evt) {\n\t\tif (evt.dataTransfer) {\n\t\t\tevt.dataTransfer.dropEffect = 'move';\n\t\t}\n\t\tevt.cancelable && evt.preventDefault();\n\t}\n\n\n\tfunction _on(el, event, fn) {\n\t\tel.addEventListener(event, fn, IE11OrLess ? false : captureMode);\n\t}\n\n\n\tfunction _off(el, event, fn) {\n\t\tel.removeEventListener(event, fn, IE11OrLess ? false : captureMode);\n\t}\n\n\n\tfunction _toggleClass(el, name, state) {\n\t\tif (el && name) {\n\t\t\tif (el.classList) {\n\t\t\t\tel.classList[state ? 'add' : 'remove'](name);\n\t\t\t}\n\t\t\telse {\n\t\t\t\tvar className = (' ' + el.className + ' ').replace(R_SPACE, ' ').replace(' ' + name + ' ', ' ');\n\t\t\t\tel.className = (className + (state ? ' ' + name : '')).replace(R_SPACE, ' ');\n\t\t\t}\n\t\t}\n\t}\n\n\n\tfunction _css(el, prop, val) {\n\t\tvar style = el && el.style;\n\n\t\tif (style) {\n\t\t\tif (val === void 0) {\n\t\t\t\tif (document.defaultView && document.defaultView.getComputedStyle) {\n\t\t\t\t\tval = document.defaultView.getComputedStyle(el, '');\n\t\t\t\t}\n\t\t\t\telse if (el.currentStyle) {\n\t\t\t\t\tval = el.currentStyle;\n\t\t\t\t}\n\n\t\t\t\treturn prop === void 0 ? val : val[prop];\n\t\t\t}\n\t\t\telse {\n\t\t\t\tif (!(prop in style) && prop.indexOf('webkit') === -1) {\n\t\t\t\t\tprop = '-webkit-' + prop;\n\t\t\t\t}\n\n\t\t\t\tstyle[prop] = val + (typeof val === 'string' ? '' : 'px');\n\t\t\t}\n\t\t}\n\t}\n\n\tfunction _matrix(el) {\n\t\tvar appliedTransforms = '';\n\t\tdo {\n\t\t\tvar transform = _css(el, 'transform');\n\n\t\t\tif (transform && transform !== 'none') {\n\t\t\t\tappliedTransforms = transform + ' ' + appliedTransforms;\n\t\t\t}\n\t\t\t/* jshint boss:true */\n\t\t} while (el = el.parentNode);\n\n\t\tif (window.DOMMatrix) {\n\t\t\treturn new DOMMatrix(appliedTransforms);\n\t\t} else if (window.WebKitCSSMatrix) {\n\t\t\treturn new WebKitCSSMatrix(appliedTransforms);\n\t\t} else if (window.CSSMatrix) {\n\t\t\treturn new CSSMatrix(appliedTransforms);\n\t\t}\n\t}\n\n\n\tfunction _find(ctx, tagName, iterator) {\n\t\tif (ctx) {\n\t\t\tvar list = ctx.getElementsByTagName(tagName), i = 0, n = list.length;\n\n\t\t\tif (iterator) {\n\t\t\t\tfor (; i < n; i++) {\n\t\t\t\t\titerator(list[i], i);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn list;\n\t\t}\n\n\t\treturn [];\n\t}\n\n\n\n\tfunction _dispatchEvent(\n\t\tsortable, rootEl, name,\n\t\ttargetEl, toEl, fromEl,\n\t\tstartIndex, newIndex,\n\t\tstartDraggableIndex, newDraggableIndex,\n\t\toriginalEvt\n\t) {\n\t\tsortable = (sortable || rootEl[expando]);\n\t\tvar evt,\n\t\t\toptions = sortable.options,\n\t\t\tonName = 'on' + name.charAt(0).toUpperCase() + name.substr(1);\n\t\t// Support for new CustomEvent feature\n\t\tif (window.CustomEvent && !IE11OrLess && !Edge) {\n\t\t\tevt = new CustomEvent(name, {\n\t\t\t\tbubbles: true,\n\t\t\t\tcancelable: true\n\t\t\t});\n\t\t} else {\n\t\t\tevt = document.createEvent('Event');\n\t\t\tevt.initEvent(name, true, true);\n\t\t}\n\n\t\tevt.to = toEl || rootEl;\n\t\tevt.from = fromEl || rootEl;\n\t\tevt.item = targetEl || rootEl;\n\t\tevt.clone = cloneEl;\n\n\t\tevt.oldIndex = startIndex;\n\t\tevt.newIndex = newIndex;\n\n\t\tevt.oldDraggableIndex = startDraggableIndex;\n\t\tevt.newDraggableIndex = newDraggableIndex;\n\n\t\tevt.originalEvent = originalEvt;\n\t\tevt.pullMode = putSortable ? putSortable.lastPutMode : undefined;\n\n\t\tif (rootEl) {\n\t\t\trootEl.dispatchEvent(evt);\n\t\t}\n\n\t\tif (options[onName]) {\n\t\t\toptions[onName].call(sortable, evt);\n\t\t}\n\t}\n\n\n\tfunction _onMove(fromEl, toEl, dragEl, dragRect, targetEl, targetRect, originalEvt, willInsertAfter) {\n\t\tvar evt,\n\t\t\tsortable = fromEl[expando],\n\t\t\tonMoveFn = sortable.options.onMove,\n\t\t\tretVal;\n\t\t// Support for new CustomEvent feature\n\t\tif (window.CustomEvent && !IE11OrLess && !Edge) {\n\t\t\tevt = new CustomEvent('move', {\n\t\t\t\tbubbles: true,\n\t\t\t\tcancelable: true\n\t\t\t});\n\t\t} else {\n\t\t\tevt = document.createEvent('Event');\n\t\t\tevt.initEvent('move', true, true);\n\t\t}\n\n\t\tevt.to = toEl;\n\t\tevt.from = fromEl;\n\t\tevt.dragged = dragEl;\n\t\tevt.draggedRect = dragRect;\n\t\tevt.related = targetEl || toEl;\n\t\tevt.relatedRect = targetRect || _getRect(toEl);\n\t\tevt.willInsertAfter = willInsertAfter;\n\n\t\tevt.originalEvent = originalEvt;\n\n\t\tfromEl.dispatchEvent(evt);\n\n\t\tif (onMoveFn) {\n\t\t\tretVal = onMoveFn.call(sortable, evt, originalEvt);\n\t\t}\n\n\t\treturn retVal;\n\t}\n\n\tfunction _disableDraggable(el) {\n\t\tel.draggable = false;\n\t}\n\n\tfunction _unsilent() {\n\t\t_silent = false;\n\t}\n\n\t/**\n\t * Gets nth child of el, ignoring hidden children, sortable's elements (does not ignore clone if it's visible)\n\t * and non-draggable elements\n\t * @param  {HTMLElement} el       The parent element\n\t * @param  {Number} childNum      The index of the child\n\t * @param  {Object} options       Parent Sortable's options\n\t * @return {HTMLElement}          The child at index childNum, or null if not found\n\t */\n\tfunction _getChild(el, childNum, options) {\n\t\tvar currentChild = 0,\n\t\t\ti = 0,\n\t\t\tchildren = el.children;\n\n\t\twhile (i < children.length) {\n\t\t\tif (\n\t\t\t\tchildren[i].style.display !== 'none' &&\n\t\t\t\tchildren[i] !== ghostEl &&\n\t\t\t\tchildren[i] !== dragEl &&\n\t\t\t\t_closest(children[i], options.draggable, el, false)\n\t\t\t) {\n\t\t\t\tif (currentChild === childNum) {\n\t\t\t\t\treturn children[i];\n\t\t\t\t}\n\t\t\t\tcurrentChild++;\n\t\t\t}\n\n\t\t\ti++;\n\t\t}\n\t\treturn null;\n\t}\n\n\t/**\n\t * Gets the last child in the el, ignoring ghostEl or invisible elements (clones)\n\t * @param  {HTMLElement} el       Parent element\n\t * @return {HTMLElement}          The last child, ignoring ghostEl\n\t */\n\tfunction _lastChild(el) {\n\t\tvar last = el.lastElementChild;\n\n\t\twhile (last && (last === ghostEl || _css(last, 'display') === 'none')) {\n\t\t\tlast = last.previousElementSibling;\n\t\t}\n\n\t\treturn last || null;\n\t}\n\n\tfunction _ghostIsLast(evt, axis, el) {\n\t\tvar elRect = _getRect(_lastChild(el)),\n\t\t\tmouseOnAxis = axis === 'vertical' ? evt.clientY : evt.clientX,\n\t\t\tmouseOnOppAxis = axis === 'vertical' ? evt.clientX : evt.clientY,\n\t\t\ttargetS2 = axis === 'vertical' ? elRect.bottom : elRect.right,\n\t\t\ttargetS1Opp = axis === 'vertical' ? elRect.left : elRect.top,\n\t\t\ttargetS2Opp = axis === 'vertical' ? elRect.right : elRect.bottom,\n\t\t\tspacer = 10;\n\n\t\treturn (\n\t\t\taxis === 'vertical' ?\n\t\t\t\t(mouseOnOppAxis > targetS2Opp + spacer || mouseOnOppAxis <= targetS2Opp && mouseOnAxis > targetS2 && mouseOnOppAxis >= targetS1Opp) :\n\t\t\t\t(mouseOnAxis > targetS2 && mouseOnOppAxis > targetS1Opp || mouseOnAxis <= targetS2 && mouseOnOppAxis > targetS2Opp + spacer)\n\t\t);\n\t}\n\n\tfunction _getSwapDirection(evt, target, axis, swapThreshold, invertedSwapThreshold, invertSwap, isLastTarget) {\n\t\tvar targetRect = _getRect(target),\n\t\t\tmouseOnAxis = axis === 'vertical' ? evt.clientY : evt.clientX,\n\t\t\ttargetLength = axis === 'vertical' ? targetRect.height : targetRect.width,\n\t\t\ttargetS1 = axis === 'vertical' ? targetRect.top : targetRect.left,\n\t\t\ttargetS2 = axis === 'vertical' ? targetRect.bottom : targetRect.right,\n\t\t\tdragRect = _getRect(dragEl),\n\t\t\tinvert = false;\n\n\n\t\tif (!invertSwap) {\n\t\t\t// Never invert or create dragEl shadow when target movemenet causes mouse to move past the end of regular swapThreshold\n\t\t\tif (isLastTarget && targetMoveDistance < targetLength * swapThreshold) { // multiplied only by swapThreshold because mouse will already be inside target by (1 - threshold) * targetLength / 2\n\t\t\t\t// check if past first invert threshold on side opposite of lastDirection\n\t\t\t\tif (!pastFirstInvertThresh &&\n\t\t\t\t\t(lastDirection === 1 ?\n\t\t\t\t\t\t(\n\t\t\t\t\t\t\tmouseOnAxis > targetS1 + targetLength * invertedSwapThreshold / 2\n\t\t\t\t\t\t) :\n\t\t\t\t\t\t(\n\t\t\t\t\t\t\tmouseOnAxis < targetS2 - targetLength * invertedSwapThreshold / 2\n\t\t\t\t\t\t)\n\t\t\t\t\t)\n\t\t\t\t)\n\t\t\t\t{\n\t\t\t\t\t// past first invert threshold, do not restrict inverted threshold to dragEl shadow\n\t\t\t\t\tpastFirstInvertThresh = true;\n\t\t\t\t}\n\n\t\t\t\tif (!pastFirstInvertThresh) {\n\t\t\t\t\tvar dragS1 = axis === 'vertical' ? dragRect.top : dragRect.left,\n\t\t\t\t\t\tdragS2 = axis === 'vertical' ? dragRect.bottom : dragRect.right;\n\t\t\t\t\t// dragEl shadow (target move distance shadow)\n\t\t\t\t\tif (\n\t\t\t\t\t\tlastDirection === 1 ?\n\t\t\t\t\t\t(\n\t\t\t\t\t\t\tmouseOnAxis < targetS1 + targetMoveDistance // over dragEl shadow\n\t\t\t\t\t\t) :\n\t\t\t\t\t\t(\n\t\t\t\t\t\t\tmouseOnAxis > targetS2 - targetMoveDistance\n\t\t\t\t\t\t)\n\t\t\t\t\t)\n\t\t\t\t\t{\n\t\t\t\t\t\treturn lastDirection * -1;\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tinvert = true;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t// Regular\n\t\t\t\tif (\n\t\t\t\t\tmouseOnAxis > targetS1 + (targetLength * (1 - swapThreshold) / 2) &&\n\t\t\t\t\tmouseOnAxis < targetS2 - (targetLength * (1 - swapThreshold) / 2)\n\t\t\t\t) {\n\t\t\t\t\treturn _getInsertDirection(target);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tinvert = invert || invertSwap;\n\n\t\tif (invert) {\n\t\t\t// Invert of regular\n\t\t\tif (\n\t\t\t\tmouseOnAxis < targetS1 + (targetLength * invertedSwapThreshold / 2) ||\n\t\t\t\tmouseOnAxis > targetS2 - (targetLength * invertedSwapThreshold / 2)\n\t\t\t)\n\t\t\t{\n\t\t\t\treturn ((mouseOnAxis > targetS1 + targetLength / 2) ? 1 : -1);\n\t\t\t}\n\t\t}\n\n\t\treturn 0;\n\t}\n\n\t/**\n\t * Gets the direction dragEl must be swapped relative to target in order to make it\n\t * seem that dragEl has been \"inserted\" into that element's position\n\t * @param  {HTMLElement} target       The target whose position dragEl is being inserted at\n\t * @return {Number}                   Direction dragEl must be swapped\n\t */\n\tfunction _getInsertDirection(target) {\n\t\tvar dragElIndex = _index(dragEl),\n\t\t\ttargetIndex = _index(target);\n\n\t\tif (dragElIndex < targetIndex) {\n\t\t\treturn 1;\n\t\t} else {\n\t\t\treturn -1;\n\t\t}\n\t}\n\n\n\t/**\n\t * Generate id\n\t * @param   {HTMLElement} el\n\t * @returns {String}\n\t * @private\n\t */\n\tfunction _generateId(el) {\n\t\tvar str = el.tagName + el.className + el.src + el.href + el.textContent,\n\t\t\ti = str.length,\n\t\t\tsum = 0;\n\n\t\twhile (i--) {\n\t\t\tsum += str.charCodeAt(i);\n\t\t}\n\n\t\treturn sum.toString(36);\n\t}\n\n\t/**\n\t * Returns the index of an element within its parent for a selected set of\n\t * elements\n\t * @param  {HTMLElement} el\n\t * @param  {selector} selector\n\t * @return {number}\n\t */\n\tfunction _index(el, selector) {\n\t\tvar index = 0;\n\n\t\tif (!el || !el.parentNode) {\n\t\t\treturn -1;\n\t\t}\n\n\t\twhile (el && (el = el.previousElementSibling)) {\n\t\t\tif ((el.nodeName.toUpperCase() !== 'TEMPLATE') && el !== cloneEl && (!selector || _matches(el, selector))) {\n\t\t\t\tindex++;\n\t\t\t}\n\t\t}\n\n\t\treturn index;\n\t}\n\n\tfunction _matches(/**HTMLElement*/el, /**String*/selector) {\n\t\tif (!selector) return;\n\n\t\tselector[0] === '>' && (selector = selector.substring(1));\n\n\t\tif (el) {\n\t\t\ttry {\n\t\t\t\tif (el.matches) {\n\t\t\t\t\treturn el.matches(selector);\n\t\t\t\t} else if (el.msMatchesSelector) {\n\t\t\t\t\treturn el.msMatchesSelector(selector);\n\t\t\t\t} else if (el.webkitMatchesSelector) {\n\t\t\t\t\treturn el.webkitMatchesSelector(selector);\n\t\t\t\t}\n\t\t\t} catch(_) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\n\t\treturn false;\n\t}\n\n\tvar _throttleTimeout;\n\tfunction _throttle(callback, ms) {\n\t\treturn function () {\n\t\t\tif (!_throttleTimeout) {\n\t\t\t\tvar args = arguments,\n\t\t\t\t\t_this = this;\n\n\t\t\t\t_throttleTimeout = setTimeout(function () {\n\t\t\t\t\tif (args.length === 1) {\n\t\t\t\t\t\tcallback.call(_this, args[0]);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tcallback.apply(_this, args);\n\t\t\t\t\t}\n\n\t\t\t\t\t_throttleTimeout = void 0;\n\t\t\t\t}, ms);\n\t\t\t}\n\t\t};\n\t}\n\n\tfunction _cancelThrottle() {\n\t\tclearTimeout(_throttleTimeout);\n\t\t_throttleTimeout = void 0;\n\t}\n\n\tfunction _extend(dst, src) {\n\t\tif (dst && src) {\n\t\t\tfor (var key in src) {\n\t\t\t\tif (src.hasOwnProperty(key)) {\n\t\t\t\t\tdst[key] = src[key];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn dst;\n\t}\n\n\tfunction _clone(el) {\n\t\tif (Polymer && Polymer.dom) {\n\t\t\treturn Polymer.dom(el).cloneNode(true);\n\t\t}\n\t\telse if ($) {\n\t\t\treturn $(el).clone(true)[0];\n\t\t}\n\t\telse {\n\t\t\treturn el.cloneNode(true);\n\t\t}\n\t}\n\n\tfunction _saveInputCheckedState(root) {\n\t\tsavedInputChecked.length = 0;\n\n\t\tvar inputs = root.getElementsByTagName('input');\n\t\tvar idx = inputs.length;\n\n\t\twhile (idx--) {\n\t\t\tvar el = inputs[idx];\n\t\t\tel.checked && savedInputChecked.push(el);\n\t\t}\n\t}\n\n\tfunction _nextTick(fn) {\n\t\treturn setTimeout(fn, 0);\n\t}\n\n\tfunction _cancelNextTick(id) {\n\t\treturn clearTimeout(id);\n\t}\n\n\n\t/**\n\t * Returns the \"bounding client rect\" of given element\n\t * @param  {HTMLElement} el                The element whose boundingClientRect is wanted\n\t * @param  {[HTMLElement]} container       the parent the element will be placed in\n\t * @param  {[Boolean]} adjustForTransform  Whether the rect should compensate for parent's transform\n\t * @return {Object}                        The boundingClientRect of el\n\t */\n\tfunction _getRect(el, adjustForTransform, container, adjustForFixed) {\n\t\tif (!el.getBoundingClientRect && el !== win) return;\n\n\t\tvar elRect,\n\t\t\ttop,\n\t\t\tleft,\n\t\t\tbottom,\n\t\t\tright,\n\t\t\theight,\n\t\t\twidth;\n\n\t\tif (el !== win && el !== _getWindowScrollingElement()) {\n\t\t\telRect = el.getBoundingClientRect();\n\t\t\ttop = elRect.top;\n\t\t\tleft = elRect.left;\n\t\t\tbottom = elRect.bottom;\n\t\t\tright = elRect.right;\n\t\t\theight = elRect.height;\n\t\t\twidth = elRect.width;\n\t\t} else {\n\t\t\ttop = 0;\n\t\t\tleft = 0;\n\t\t\tbottom = window.innerHeight;\n\t\t\tright = window.innerWidth;\n\t\t\theight = window.innerHeight;\n\t\t\twidth = window.innerWidth;\n\t\t}\n\n\t\tif (adjustForFixed && el !== win) {\n\t\t\t// Adjust for translate()\n\t\t\tcontainer = container || el.parentNode;\n\n\t\t\t// solves #1123 (see: https://stackoverflow.com/a/37953806/6088312)\n\t\t\t// Not needed on <= IE11\n\t\t\tif (!IE11OrLess) {\n\t\t\t\tdo {\n\t\t\t\t\tif (container && container.getBoundingClientRect && _css(container, 'transform') !== 'none') {\n\t\t\t\t\t\tvar containerRect = container.getBoundingClientRect();\n\n\t\t\t\t\t\t// Set relative to edges of padding box of container\n\t\t\t\t\t\ttop -= containerRect.top + parseInt(_css(container, 'border-top-width'));\n\t\t\t\t\t\tleft -= containerRect.left + parseInt(_css(container, 'border-left-width'));\n\t\t\t\t\t\tbottom = top + elRect.height;\n\t\t\t\t\t\tright = left + elRect.width;\n\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t\t/* jshint boss:true */\n\t\t\t\t} while (container = container.parentNode);\n\t\t\t}\n\t\t}\n\n\t\tif (adjustForTransform && el !== win) {\n\t\t\t// Adjust for scale()\n\t\t\tvar matrix = _matrix(container || el),\n\t\t\t\tscaleX = matrix && matrix.a,\n\t\t\t\tscaleY = matrix && matrix.d;\n\n\t\t\tif (matrix) {\n\t\t\t\ttop /= scaleY;\n\t\t\t\tleft /= scaleX;\n\n\t\t\t\twidth /= scaleX;\n\t\t\t\theight /= scaleY;\n\n\t\t\t\tbottom = top + height;\n\t\t\t\tright = left + width;\n\t\t\t}\n\t\t}\n\n\t\treturn {\n\t\t\ttop: top,\n\t\t\tleft: left,\n\t\t\tbottom: bottom,\n\t\t\tright: right,\n\t\t\twidth: width,\n\t\t\theight: height\n\t\t};\n\t}\n\n\n\t/**\n\t * Checks if a side of an element is scrolled past a side of it's parents\n\t * @param  {HTMLElement}  el       The element who's side being scrolled out of view is in question\n\t * @param  {String}       side     Side of the element in question ('top', 'left', 'right', 'bottom')\n\t * @return {HTMLElement}           The parent scroll element that the el's side is scrolled past, or null if there is no such element\n\t */\n\tfunction _isScrolledPast(el, side) {\n\t\tvar parent = _getParentAutoScrollElement(el, true),\n\t\t\telSide = _getRect(el)[side];\n\n\t\t/* jshint boss:true */\n\t\twhile (parent) {\n\t\t\tvar parentSide = _getRect(parent)[side],\n\t\t\t\tvisible;\n\n\t\t\tif (side === 'top' || side === 'left') {\n\t\t\t\tvisible = elSide >= parentSide;\n\t\t\t} else {\n\t\t\t\tvisible = elSide <= parentSide;\n\t\t\t}\n\n\t\t\tif (!visible) return parent;\n\n\t\t\tif (parent === _getWindowScrollingElement()) break;\n\n\t\t\tparent = _getParentAutoScrollElement(parent, false);\n\t\t}\n\n\t\treturn false;\n\t}\n\n\t/**\n\t * Returns the scroll offset of the given element, added with all the scroll offsets of parent elements.\n\t * The value is returned in real pixels.\n\t * @param  {HTMLElement} el\n\t * @return {Array}             Offsets in the format of [left, top]\n\t */\n\tfunction _getRelativeScrollOffset(el) {\n\t\tvar offsetLeft = 0,\n\t\t\toffsetTop = 0,\n\t\t\twinScroller = _getWindowScrollingElement();\n\n\t\tif (el) {\n\t\t\tdo {\n\t\t\t\tvar matrix = _matrix(el),\n\t\t\t\t\tscaleX = matrix.a,\n\t\t\t\t\tscaleY = matrix.d;\n\n\t\t\t\toffsetLeft += el.scrollLeft * scaleX;\n\t\t\t\toffsetTop += el.scrollTop * scaleY;\n\t\t\t} while (el !== winScroller && (el = el.parentNode));\n\t\t}\n\n\t\treturn [offsetLeft, offsetTop];\n\t}\n\n\t// Fixed #973:\n\t_on(document, 'touchmove', function(evt) {\n\t\tif ((Sortable.active || awaitingDragStarted) && evt.cancelable) {\n\t\t\tevt.preventDefault();\n\t\t}\n\t});\n\n\n\t// Export utils\n\tSortable.utils = {\n\t\ton: _on,\n\t\toff: _off,\n\t\tcss: _css,\n\t\tfind: _find,\n\t\tis: function (el, selector) {\n\t\t\treturn !!_closest(el, selector, el, false);\n\t\t},\n\t\textend: _extend,\n\t\tthrottle: _throttle,\n\t\tclosest: _closest,\n\t\ttoggleClass: _toggleClass,\n\t\tclone: _clone,\n\t\tindex: _index,\n\t\tnextTick: _nextTick,\n\t\tcancelNextTick: _cancelNextTick,\n\t\tdetectDirection: _detectDirection,\n\t\tgetChild: _getChild\n\t};\n\n\n\t/**\n\t * Create sortable instance\n\t * @param {HTMLElement}  el\n\t * @param {Object}      [options]\n\t */\n\tSortable.create = function (el, options) {\n\t\treturn new Sortable(el, options);\n\t};\n\n\n\t// Export\n\tSortable.version = '1.9.0';\n\treturn Sortable;\n});\n","import { SDataArray } from 's-array';\nimport S, { DataSignal } from 's-js';\nimport Sortable from 'sortablejs';\nimport { Counter } from './counter';\n\n/**\n * One-way binds the given data-signal array to react to UI changes in the given HTML element (note the currying).\n */\nexport function sortableBindSarray<T>(sArray: SDataArray<T>, sortableOptions?: {[name: string]: any}):\n    (element: HTMLElement) => void {\n  return (element) => {\n    // noinspection JSUnusedGlobalSymbols\n    Sortable.create(element, {\n      ...sortableOptions,\n      onEnd: (event: Sortable.SortableEvent) => {\n        // It's unclear whether oldIndex or newIndex are ever undefined. However, this is the current type declaration\n        // in @types/sortablejs.\n        if (event.oldIndex === undefined || event.newIndex === undefined || event.newIndex === event.oldIndex) {\n          return;\n        }\n        const from: number = event.oldIndex;\n        const to: number = event.newIndex;\n        S.freeze(() => {\n          const item: T = sArray()[from];\n          sArray.splice(from, 1);\n          sArray.splice(to, 0, item);\n        });\n      },\n    });\n  };\n}\n\nfunction bind<T extends number | string, U extends HTMLInputElement | HTMLSelectElement>(\n    signal: DataSignal<T>,\n    get: (element: U) => T,\n    set: (element: U, newValue: T) => void,\n    invalidCounter?: Counter\n): (element: U) => void {\n  return (element) => {\n    let isCurrentlyUpdatingSignal = false;\n    const isInvalidSignal: DataSignal<boolean> = S.value(false);\n    S(() => {\n      const newValue: T = signal();\n      if (!isCurrentlyUpdatingSignal) {\n        set(element, newValue);\n      }\n      isInvalidSignal(!element.checkValidity());\n    });\n\n    const event = 'input';\n    element.addEventListener(event, valueListener, false);\n    if (invalidCounter !== undefined) {\n      invalidCounter.add(isInvalidSignal);\n    }\n    S.cleanup(() => {\n      element.removeEventListener(event, valueListener);\n      if (invalidCounter !== undefined) {\n        invalidCounter.delete(isInvalidSignal);\n      }\n    });\n\n    function valueListener(): void {\n      const current: T = S.sample(signal);\n      const updated: T = get(element);\n      if (current !== updated) {\n        isCurrentlyUpdatingSignal = true;\n        try {\n          signal(updated);\n        } finally {\n          isCurrentlyUpdatingSignal = false;\n        }\n      }\n    }\n  };\n}\n\n/**\n * Two-way binds the given `number` data signal with the given `<input>` element (note the currying).\n */\nexport function bindNumber(signal: DataSignal<number>, invalidCounter?: Counter):\n    (element: HTMLInputElement) => void {\n  return bind(\n      signal,\n      (element) => element.valueAsNumber,\n      (element, newValue) => element.valueAsNumber = newValue,\n      invalidCounter\n  );\n}\n\n/**\n * Two-way binds the given `string` data signal with the given `<input>` element (note the currying).\n */\nexport function bindString(signal: DataSignal<string>, invalidCounter?: Counter):\n    (element: HTMLInputElement | HTMLSelectElement) => void {\n  return bind(\n      signal,\n      (element) => element.value,\n      (element, newValue) => element.value = newValue,\n      invalidCounter\n  );\n}\n\n/**\n * Two-way binds the given data signal with the given `input` element (note the currying): The element is checked if\n * and only if the data signal has the given “on”-value.\n */\nexport function bindToOnValue<T>(signal: DataSignal<T>, onValue: T): (element: HTMLInputElement) => void {\n  return (element) => {\n    let currentlyUpdatingSignal = false;\n    S(() => {\n      const newValue: T = signal();\n      if (!currentlyUpdatingSignal) {\n        element.checked = newValue === onValue;\n      }\n    });\n\n    const event = 'change';\n    element.addEventListener(event, radioListener, false);\n    S.cleanup(() => element.removeEventListener(event, radioListener));\n\n    function radioListener(): void {\n      if (element.checked) {\n        currentlyUpdatingSignal = true;\n        try {\n          signal(onValue);\n        } finally {\n          currentlyUpdatingSignal = false;\n        }\n      }\n    }\n  };\n}\n\n/**\n * Two-way binds the given data signal with the given `<select multiple>` element (note the currying).\n */\nexport function bindStringSet(signal: DataSignal<Set<string>>): (element: HTMLSelectElement) => void {\n  return (element) => {\n    let currentlyUpdatingSignal = false;\n    S(() => {\n      const activeOptions: Set<string> = signal();\n      if (!currentlyUpdatingSignal) {\n        for (const option of element.options) {\n          option.selected = activeOptions.has(option.value);\n        }\n      }\n    });\n    const event = 'input';\n    element.addEventListener(event, valueListener, false);\n    S.cleanup(() => element.removeEventListener(event, valueListener));\n\n    function valueListener(): void {\n      const current: Set<string> = S.sample(signal);\n      const updated: Set<string> = toSet();\n      if (!setEquals(current, updated)) {\n        currentlyUpdatingSignal = true;\n        try {\n          signal(updated);\n        } finally {\n          currentlyUpdatingSignal = false;\n        }\n      }\n    }\n\n    function toSet(): Set<string> {\n      return Array.from(element.options)\n          .filter((option) => option.selected)\n          .reduce((set, option) => set.add(option.value), new Set<string>());\n    }\n  };\n}\n\nfunction setEquals<T>(left: Set<T>, right: Set<T>): boolean {\n  if (left.size !== right.size) {\n    return false;\n  }\n  for (const value of left) {\n    if (!right.has(value)) {\n      return false;\n    }\n  }\n  return true;\n}\n\n/**\n * One-way binds the presence of CSS classes on the given HTML element to react to the given signal (note the currying).\n */\nexport function withClassIff(signal: () => boolean, ...classes: string[]): (element: HTMLElement) => void {\n  return (element) => {\n    // The typical use of this function is to add an attribute of form 'fn={withClassIf(booleanSignal)}' to the HTML\n    // (or SVG) element in JSX. Surplus already wraps each computation in an S.js computation. Hence, it is not\n    // necessary (for the intended effect) to wrap the following in another S.js lambda. However, by doing so we can\n    // restrict the scope of what is re-executed if the signal changes. Without the S.js lambda here, the entire\n    // computation in the fn attribute would be re-executed (which would include running this function).\n    S(() => {\n      if (signal()) {\n        element.classList.add(...classes);\n      } else {\n        element.classList.remove(...classes);\n      }\n    });\n  };\n}\n\n/**\n * If the given signal is changed to the given value, focus on the given HTML element.\n */\nexport function focusOnChangeToValue<T>(signal: () => T, value: T): (element: HTMLElement) => void {\n  return (element) => {\n    let previousValue: T = S.sample(signal);\n    S(() => {\n      const newValue: T = signal();\n      if (newValue !== previousValue && newValue === value) {\n        // We cannot focus immediately, because the input may still be hidden (the order in which S.js invokes the\n        // computations is undefined). We therefore need to await the end of the S.js transaction!\n        setTimeout(() => element.focus());\n      }\n      previousValue = newValue;\n    });\n  };\n}\n\n/**\n * One-way binds the href attribute to react to the given signal.\n *\n * This function is necessary because we want to remove the href attribute if the given signal is the empty URL (as\n * opposed to setting the href attribute to the empty string, which would still be shown as a link in the browser).\n */\nexport function hrefFrom(signal: () => string): (element: HTMLAnchorElement) => void {\n  return (element) => {\n    S(() => {\n      const url: string = signal();\n      if (url.length === 0) {\n        element.removeAttribute('href');\n      } else {\n        element.setAttribute('href', url);\n      }\n    });\n  };\n}\n","import { SDataArray } from 's-array';\nimport { DataSignal } from 's-js';\n\nexport interface Jsonable {\n  toJSON(): any;\n}\n\n/**\n * Makes an s.js signal jsonable by adding a `toJSON` method that extracts its value during JSONization.\n *\n * Adapted from GitHub project\n * [adamhaile/surplus-todomvc](https://github.com/adamhaile/surplus-todomvc/blob/37ffcdfca66a11365ff88aeed5db9f38b97ba2c6/src/models.ts).\n */\nexport function jsonable<T extends () => any>(s: T): T & Jsonable {\n  const augmentedSignal = s as T & Jsonable;\n  augmentedSignal.toJSON = toJSON;\n  return augmentedSignal;\n}\n\nfunction toJSON(this: () => any): any {\n  const value: any = this();\n  // A good idea here would be to check if value.toJSON exists. But this is not public API, and we don't need this in\n  // this project.\n  if (value instanceof Set) {\n    return [...value];\n  } else {\n    return value;\n  }\n}\n\n/**\n * Creates a new plain JSON value for the given value (which may contain signals or `Set` instances).\n */\nexport function toPlain<T>(source: T): Plain<T> {\n  if (typeof source === 'function' && 'toJSON' in source) {\n    return toPlain(source());\n  } else if (Array.isArray(source)) {\n    return source.map(toPlain) as Plain<T>;\n  } else if (source instanceof Set) {\n    return toPlain(Array.from(source)) as Plain<T>;\n  } else if (typeof source === 'object' && source !== null) {\n    const typedSource: Record<string, any> = source;\n    const target: Record<string, any> = {};\n    for (const key in typedSource) {\n      if (typedSource.hasOwnProperty(key) && key !== 'transient') {\n        const plainValue = toPlain(typedSource[key]);\n        if (plainValue !== undefined) {\n          target[key] = plainValue;\n        }\n      }\n    }\n    return target as Plain<T>;\n  } else {\n    return source as Plain<T>;\n  }\n}\n\n/**\n * Construct a type with the properties of T, but make those properties optional whose keys are in the union K.\n */\ntype MakeOptional<T, K extends keyof T> = Pick<T, Exclude<keyof T, K>> & Partial<Pick<T, K>>;\n\n// The following requires at least TypeScript 3.4. See: https://github.com/Microsoft/TypeScript/issues/24622\ntype PlainHelper<T> =\n    T extends SDataArray<infer U1> ? U1[] :\n    T extends DataSignal<infer U2> ? U2 :\n    T extends Set<infer U3> ? U3[] :\n    T extends ({[P in keyof T]: T[P]} & {transient: any}) ?\n        MakeOptional<{[P in keyof T]: PlainHelper<T[P]>}, 'transient'> :\n    T extends {[P in keyof T]: T[P]} ? {[P in keyof T]: PlainHelper<T[P]>} :\n    T;\n\nexport type Plain<T> = PlainHelper<PlainHelper<PlainHelper<T>>>;\n","/**\n * Function that always throws an error.\n *\n * The purpose of this function is to be used as a compile-time type completeness check; for instance, in a `switch`\n * statement. Calling this function will cause no error *only if* control-flow-based type analysis infers the argument\n * type as `never` – in other words, if the function call cannot be reached.\n */\nexport function unreachableCase(x: never): never {\n  throw new Error(`Unexpected case that should be unreachable: ${x}`);\n}\n\n/**\n * Returns the given value as string if the type of the value is `string`, `boolean`, or `number`; otherwise,\n * returns the given default value.\n *\n * This function is meant to be used when we cannot trust the type system (typically, user input).\n */\nexport function ensureString(value: string, defaultValue: string = ''): string {\n  const actualValue: unknown = value;\n  switch (typeof actualValue) {\n    case 'string': return actualValue;\n    case 'boolean': case 'number': return actualValue.toString();\n    default: return defaultValue;\n  }\n}\n\n/**\n * Returns the given value if it is a number, or otherwise the given default value.\n *\n * This function is meant to be used when we cannot trust the type system (typically, user input).\n */\nexport function ensureNumber(value: number, defaultValue: number = 0): number {\n  const actualValue: unknown = value;\n  return typeof actualValue === 'number'\n      ? actualValue\n      : defaultValue;\n}\n\n/**\n * Returns the given value if it is a boolean, or otherwise the given default value.\n *\n * This function is meant to be used when we cannot trust the type system (typically, user input).\n */\nexport function ensureBoolean(value: boolean, defaultValue: boolean = false): boolean {\n  const actualValue: unknown = value;\n  return typeof actualValue === 'boolean'\n      ? actualValue\n      : defaultValue;\n}\n\n/**\n * Returns a newly created array where each element is the result of invoking `ensureElementType()`. If the given value\n * is not an array, returns the default array.\n *\n * This function is meant to be used when we cannot trust the type system (typically, user input).\n */\nexport function ensureArray<T>(value: T[], defaultValue: T[] = [], validElementPredicate: (element: T) => boolean):\n    T[] {\n  return Array.isArray(value) && value.findIndex((element) => !validElementPredicate(element)) === -1\n      ? value\n      : defaultValue;\n}\n","import S, { DataSignal } from 's-js';\nimport { jsonable, Plain, toPlain } from '../../utils/s';\nimport { ensureString } from '../../utils/typescript';\n\n/**\n * Non-transient state of the settings UI component.\n */\nexport interface Settings {\n  readonly name: DataSignal<string>;\n  readonly youTrackBaseUrl: DataSignal<string>;\n  readonly hubUrl: DataSignal<string>;\n  readonly youTrackServiceId: DataSignal<string>;\n}\n\n/**\n * Creates a new state for the settings UI component.\n */\nexport function createSettings(): Settings {\n  return {\n    name: jsonable(S.value('')),\n    youTrackBaseUrl: jsonable(S.value('')),\n    hubUrl: jsonable(S.value('')),\n    youTrackServiceId: jsonable(S.value('')),\n  };\n}\n\n/**\n * Updates the state of the settings UI component to the given values in a plain JSON object.\n *\n * The update is performed within a single S.js transaction.\n *\n * @param settings state of the settings UI component\n * @param plain plain JSON object\n */\nexport function assignSettings(settings: Settings, plain: Plain<Settings>): void {\n  S.freeze(() => {\n    settings.name(ensureString(plain.name));\n    settings.youTrackBaseUrl(ensureString(plain.youTrackBaseUrl));\n    settings.hubUrl(ensureString(plain.hubUrl));\n    settings.youTrackServiceId(ensureString(plain.youTrackServiceId));\n  });\n}\n\n/**\n * Creates a new normalized plain JSON value for the given settings.\n *\n * Normalization means that the YouTrack base URL is the result of {@link toNormalizedUrl}().\n */\nexport function toNormalizedPlainSettings<T extends Settings>(settings: T): Plain<T> {\n  const plainSettings = toPlain(settings);\n  return {\n    ...plainSettings,\n    youTrackBaseUrl: toNormalizedUrl(plainSettings.youTrackBaseUrl),\n    hubUrl: toNormalizedUrl(plainSettings.youTrackBaseUrl),\n  };\n}\n\n/**\n * Returns the normalized URL.\n *\n * Normalization means returning a syntactically valid URL that ends with a slash (/).\n *\n * @return the normalized URL, or the empty string if the given URL is not valid\n */\nexport function toNormalizedUrl(urlString: string): string {\n  try {\n    const url = new URL(urlString);\n    if (url.host.length === 0) {\n      // Oddly, Safari 12's implementation of the URL constructor does not throw on 'http:' or 'https:' whereas both\n      // Chrome and Firefox do.\n      return '';\n    } else if (url.pathname.length === 0 || url.pathname.charAt(url.pathname.length - 1) !== '/') {\n      url.pathname = url.pathname.concat('/');\n    }\n    return url.toString();\n  } catch (exception) {\n    if (!(exception instanceof TypeError)) {\n      throw exception;\n    }\n    return '';\n  }\n}\n","import { strict as assert } from 'assert';\nimport S, { DataSignal } from 's-js';\nimport { hrefFrom } from '../../utils/surplus';\nimport { Settings, toNormalizedUrl } from './settings-model';\n\n/**\n * Controller for elementary settings (name of YouTrack instance, base URL, etc.).\n */\nexport class SettingsCtrl {\n  public readonly normalizedBaseUrl: () => string;\n  public readonly normalizedHubUrl: () => string;\n  public readonly isInCloudUrl: () => boolean;\n\n  public static currentUri(): URL {\n    const uri = new URL(window.location.href);\n    uri.hash = '';\n    uri.username = '';\n    uri.password = '';\n    uri.search = '';\n    return uri;\n  }\n\n  public static currentOrigin(): URL {\n    const uri = SettingsCtrl.currentUri();\n    uri.pathname = '';\n    return uri;\n  }\n\n  public constructor(\n      private readonly settings_: Settings\n  ) {\n    this.normalizedBaseUrl = S(() => toNormalizedUrl(this.settings_.youTrackBaseUrl()));\n    this.normalizedHubUrl = S(() => toNormalizedUrl(this.settings_.hubUrl()));\n    const isInCloudUrlSignal: DataSignal<boolean> = S.value(false);\n    this.isInCloudUrl = isInCloudUrlSignal;\n\n    let previousNormalizedBaseUrl: string = S.sample(this.normalizedBaseUrl);\n    // 'seed' is undefined (the calculation does not keep a state), and 'onchanges' is false (do the initial run).\n    S.on(this.normalizedBaseUrl, () => {\n      const normalizedBaseUrl = S.sample(this.normalizedBaseUrl);\n      const {hubUrl, isInCloudUrl} = hubUrlFromYouTrackBaseUrl(normalizedBaseUrl);\n      isInCloudUrlSignal(isInCloudUrl);\n\n      const previousHubUrl = S.sample(settings_.hubUrl);\n      if (previousHubUrl === '' || isInCloudUrl ||\n          previousHubUrl === hubUrlFromYouTrackBaseUrl(previousNormalizedBaseUrl).hubUrl) {\n        // The hub URL is currently the default one for the base URL. Keep in sync.\n        // If the current if-condition is not true, the user has modified the hub URL, so it shouldn't be updates.\n        previousNormalizedBaseUrl = normalizedBaseUrl;\n        this.settings_.hubUrl(hubUrl);\n      }\n    }, undefined, false);\n  }\n\n  public hrefRelativeToBaseUrl(relativePath: string): (element: HTMLAnchorElement) => void {\n    const signal = (): string => {\n      const baseUrl = this.normalizedBaseUrl();\n      return baseUrl.length === 0\n          ? ''\n          : new URL(relativePath, baseUrl).toString();\n    };\n    return hrefFrom(signal);\n  }\n\n  public hubRelativeToBaseUrlAndServiceId(relativePath: (serviceId: string) => string):\n      (element: HTMLAnchorElement) => void {\n    const signal = (): string => {\n      const baseUrl = this.normalizedBaseUrl();\n      const serviceId = this.settings_.youTrackServiceId();\n      return (baseUrl.length === 0 || serviceId.length === 0)\n          ? ''\n          : new URL(relativePath(serviceId), this.normalizedBaseUrl()).toString();\n    };\n    return hrefFrom(signal);\n  }\n}\n\nfunction hubUrlFromYouTrackBaseUrl(baseUrl: string): {hubUrl: string, isInCloudUrl: boolean} {\n  assert(baseUrl.length === 0 || baseUrl.endsWith('/'));\n\n  const inCloudMatch: RegExpMatchArray | null = baseUrl.match(/^(https:\\/\\/[^./]*\\.myjetbrains\\.com\\/)youtrack\\/$/);\n  let hubUrl: string;\n  let isInCloudUrl: boolean = false;\n  if (inCloudMatch !== null) {\n    // https://www.jetbrains.com/help/youtrack/incloud/OAuth-Authorization.html#HubOauthEndpoints\n    hubUrl = `${inCloudMatch[1]}hub`;\n    isInCloudUrl = true;\n  } else if (baseUrl.length > 0) {\n    // https://www.jetbrains.com/help/youtrack/standalone/OAuth-Authorization.html#HubOauthEndpoints\n    hubUrl = `${baseUrl}hub`;\n  } else {\n    hubUrl = '';\n  }\n  return {hubUrl, isInCloudUrl};\n}\n","import { authorizationFor, getMinutesPerWorkWeek, httpGet } from '@fschopp/project-planning-for-you-track';\nimport S, { DataSignal } from 's-js';\nimport { CustomField, IssueLinkType, SavedQuery, User } from '../../youtrack-rest';\nimport { AlertsCtrl } from '../alerts/alerts-ctrl';\nimport { YouTrackMetadata } from './you-track-metadata-model';\n\nenum YouTrackRestUrl {\n  CUSTOM_FIELDS = 'api/admin/customFieldSettings/customFields',\n  ISSUE_LINK_TYPES = 'api/issueLinkTypes',\n  SAVED_QUERIES = 'api/savedQueries',\n  USERS = 'api/admin/users',\n}\n\n/**\n * Controller for retrieving YouTrack metadata.\n *\n * This class provides signals containing lists of users, saved searches, etc.\n */\nexport class YouTrackMetadataCtrl {\n  /**\n   * Signal carrying YouTrack metadata. Default values are used if {@link youTrackMetadata} is `undefined`.\n   */\n  public readonly definedYouTrackMetadata: () => YouTrackMetadata;\n\n  /**\n   * Signal carrying a (possibly empty) map of YouTrack users, index by ID.\n   */\n  public readonly youTrackUserMap: () => Map<string, User>;\n\n  /**\n   * Signal carrying a (possibly empty) map of YouTrack issue links, indexed by ID.\n   */\n  public readonly directedIssueLinkTypes: () => Map<string, IssueLinkType>;\n\n  /**\n   * Signal carrying a (possibly empty) map from YouTrack saved search ID to YouTrack saved search.\n   */\n  public readonly savedQueries: () => Map<string, SavedQuery>;\n\n  /**\n   * Signal indicating whether metadata requests to YouTrack are currently pending.\n   */\n  public pendingMetadata: () => boolean;\n\n  public constructor(\n      youTrackMetadata: DataSignal<YouTrackMetadata | undefined>,\n      normalizedBaseUrl: () => string,\n      alertCtrl: AlertsCtrl\n  ) {\n    const pendingMetadata: DataSignal<boolean> = S.value(false);\n    this.pendingMetadata = pendingMetadata;\n\n    this.definedYouTrackMetadata = S(() => {\n      const currentYouTrackMetadata: YouTrackMetadata | undefined = youTrackMetadata();\n      return currentYouTrackMetadata !== undefined && normalizedBaseUrl() === currentYouTrackMetadata.baseUrl\n          ? currentYouTrackMetadata\n          : emptyYouTrackMetadata();\n    });\n    this.youTrackUserMap = S(() =>\n        this.definedYouTrackMetadata().users\n            .reduce((map, user) => map.set(user.id, user), new Map<string, User>())\n    );\n    this.directedIssueLinkTypes = S(() =>\n        this.definedYouTrackMetadata().issueLinkTypes\n            .filter((linkType) => linkType.directed)\n            .reduce((map, linkType) => map.set(linkType.id, linkType), new Map<string, IssueLinkType>())\n    );\n    this.savedQueries = S(() =>\n        this.definedYouTrackMetadata().savedSearches\n            .reduce((map, savedQuery) => map.set(savedQuery.id, savedQuery), new Map<string, SavedQuery>())\n    );\n\n    S(() => {\n      const currentBaseUrl: string = normalizedBaseUrl();\n      const currentYouTrackMetadata: YouTrackMetadata | undefined = S.sample(youTrackMetadata);\n      if (currentBaseUrl.length > 0 && !S.sample(pendingMetadata) && currentYouTrackMetadata === undefined &&\n          authorizationFor(currentBaseUrl) !== undefined) {\n        pendingMetadata(true);\n        Promise\n            .all([\n              loadCustomFields(currentBaseUrl),\n              loadIssueLinkTypes(currentBaseUrl),\n              loadSavedSearches(currentBaseUrl),\n              loadUsers(currentBaseUrl),\n              getMinutesPerWorkWeek(currentBaseUrl),\n            ])\n            .then(([customFields, issueLinkTypes, savedSearches, users, minutesPerWorkWeek]) => {\n              youTrackMetadata({\n                baseUrl: currentBaseUrl,\n                customFields,\n                issueLinkTypes,\n                savedSearches,\n                users,\n                minutesPerWorkWeek,\n              });\n            })\n            .catch((exception) => alertCtrl.alert('Failed to retrieve YouTrack metadata', exception))\n            .finally(() => pendingMetadata(false));\n      }\n    });\n  }\n\n  /**\n   * Returns a new signal containing a map from YouTrack issue field ID to custom field.\n   *\n   * The returned map only contains entries with the given field type (such as `enum[1]`, `period`, etc.).\n   */\n  public mapOfCustomFieldTypes(fieldTypeId: string): () => Map<string, CustomField> {\n    return S(() => this.definedYouTrackMetadata().customFields\n        .filter((customField) => customField.fieldType.id === fieldTypeId)\n        .reduce((map, customField) => map.set(customField.id, customField), new Map<string, CustomField>())\n    );\n  }\n}\n\nasync function loadCustomFields(baseUrl: string): Promise<CustomField[]> {\n  const queryParams = {\n    fields: 'fieldDefaults(bundle(id,values(color(background,foreground),id,isResolved,name,ordinal))),' +\n        'fieldType(id),id,name',\n  };\n  return await httpGet<CustomField[]>(baseUrl, YouTrackRestUrl.CUSTOM_FIELDS, queryParams);\n}\n\nasync function loadIssueLinkTypes(baseUrl: string): Promise<IssueLinkType[]> {\n  const queryParams = {\n    fields: 'directed,id,name,sourceToTarget,targetToSource',\n  };\n  return await httpGet<IssueLinkType[]>(baseUrl, YouTrackRestUrl.ISSUE_LINK_TYPES, queryParams);\n}\n\nasync function loadSavedSearches(baseUrl: string): Promise<SavedQuery[]> {\n  const queryParams = {\n    fields: 'id,name,owner(fullName)',\n  };\n  return await httpGet<SavedQuery[]>(baseUrl, YouTrackRestUrl.SAVED_QUERIES, queryParams);\n}\n\nasync function loadUsers(baseUrl: string): Promise<User[]> {\n  const queryParams = {\n    fields: 'avatarUrl,id,fullName',\n  };\n  return await httpGet<User[]>(baseUrl, YouTrackRestUrl.USERS, queryParams);\n}\n\nfunction emptyYouTrackMetadata(): YouTrackMetadata {\n  return {\n    baseUrl: '',\n    customFields: [],\n    issueLinkTypes: [],\n    savedSearches: [],\n    users: [],\n    minutesPerWorkWeek: 5 * 8 * 60,\n  };\n}\n","import { goToOauthPage, } from '@fschopp/project-planning-for-you-track';\nimport S from 's-js';\nimport { Counter } from '../../utils/counter';\nimport { AlertsCtrl } from '../alerts/alerts-ctrl';\nimport { SettingsCtrl } from '../settings/settings-ctrl';\nimport { Settings } from '../settings/settings-model';\nimport { YouTrackMetadataCtrl } from '../you-track-metadata/you-track-metadata-ctrl';\nimport { App, AppComputation } from './app-model';\n\n/**\n * Controller for {@link App}.\n *\n * @typeparam T Type of of the user-provided state; that is, of {@link App.settings}.\n */\nexport class AppCtrl<T extends Settings> {\n  /**\n   * Creates a new {@link AppCtrl}, including all transitive (controller) dependencies.\n   *\n   * This method is a convenience method. It creates and “wires” dependencies such as {@link AlertsCtrl} or\n   * {@link SettingsCtrl}, using reasonable defaults.\n   *\n   * @typeparam T Type of of the user-provided state; that is, of {@link App.settings}.\n   * @param app The user-provided application state.\n   * @param appComputation The computed application state.\n   */\n  public static createDefaultAppCtrl<T extends Settings>(app: App<T>, appComputation: AppComputation): AppCtrl<T> {\n    const settingsCtrl: SettingsCtrl = new SettingsCtrl(app.settings);\n    const alertsCtrl: AlertsCtrl = new AlertsCtrl(appComputation.alerts);\n    const youTrackMetadataCtrl: YouTrackMetadataCtrl =\n        new YouTrackMetadataCtrl(appComputation.youTrackMetadata, settingsCtrl.normalizedBaseUrl, alertsCtrl);\n    const invalidCounter = new Counter(appComputation.numInvalidSettings);\n    return new AppCtrl(app, appComputation, settingsCtrl, alertsCtrl, youTrackMetadataCtrl, invalidCounter);\n  }\n\n  /**\n   * Constructor.\n   *\n   * @param app_ The user-provided application state.\n   * @param appComputation_ The computed application state.\n   * @param settingsCtrl The controller for elementary settings (name of YouTrack instance, base URL, etc.).\n   * @param alertsCtrl The controller for displaying alerts to the user.\n   * @param youTrackMetadataCtrl The controller for retrieving YouTrack metadata.\n   * @param invalidCounter The controller for counting the number of invalid settings. Unfortunately, in its current\n   *     form, only the views update the counter. This is because the count information originates from the HTML5\n   *     constraint validation and makes its way into `invalidCounter` predominantly through data binding (for instance,\n   *     with {@link bindString}()). This somewhat blurs the lines between controller and view. A more principled\n   *     distribution of concerns would be to have the validation entirely done by controllers. The refactoring will be\n   *     left for the future...\n   */\n  public constructor(\n      private readonly app_: App<T>,\n      private readonly appComputation_: AppComputation,\n      public readonly settingsCtrl: SettingsCtrl,\n      public readonly alertsCtrl: AlertsCtrl,\n      public readonly youTrackMetadataCtrl: YouTrackMetadataCtrl,\n      public readonly invalidCounter: Counter\n  ) {\n    // 'seed' is undefined (the calculation does not keep a state), and 'onchanges' is true (skip the initial run).\n    S.on(this.appComputation_.connect, () => this.connect(), undefined, true);\n\n    // Bind document.title to react to changes of this.app.transient.appName\n    S(() => {\n      const appName: string = this.appComputation_.name();\n      const title: string = this.app_.settings.name();\n      document.title = title.length > 0\n          ? `${appName}: ${title}`\n          : appName;\n    });\n  }\n\n  public showErrorIfFailure(title: string, promise: Promise<void>): void {\n    promise\n        .catch((exception) => this.alertsCtrl.alert(title, exception))\n        .finally(() => {\n          this.appComputation_.progress(undefined);\n        });\n  }\n\n  private connect(): void {\n    goToOauthPage(this.settingsCtrl.normalizedBaseUrl(), this.settingsCtrl.normalizedHubUrl(),\n        this.app_.settings.youTrackServiceId(), this.app_);\n  }\n}\n","// synchronous array signals for S.js\nimport S from \"s-js\";\nexport default function SArray(values) {\n    if (!Array.isArray(values))\n        throw new Error(\"SArray must be initialized with an array\");\n    var dirty = S.data(false), mutations = [], mutcount = 0, pops = 0, shifts = 0, data = S.root(function () { return S.on(dirty, update, values, true); });\n    // add mutators\n    var array = function array(newvalues) {\n        if (arguments.length > 0) {\n            mutation(function array() { values = newvalues; });\n            return newvalues;\n        }\n        else {\n            return data();\n        }\n    };\n    array.push = push;\n    array.pop = pop;\n    array.unshift = unshift;\n    array.shift = shift;\n    array.splice = splice;\n    // not ES5\n    array.remove = remove;\n    array.removeAll = removeAll;\n    lift(array);\n    return array;\n    function mutation(m) {\n        mutations[mutcount++] = m;\n        dirty(true);\n    }\n    function update() {\n        if (pops)\n            values.splice(values.length - pops, pops);\n        if (shifts)\n            values.splice(0, shifts);\n        pops = 0;\n        shifts = 0;\n        for (var i = 0; i < mutcount; i++) {\n            mutations[i]();\n            mutations[i] = null;\n        }\n        mutcount = 0;\n        return values;\n    }\n    // mutators\n    function push(item) {\n        mutation(function push() { values.push(item); });\n        return array;\n    }\n    function pop() {\n        array();\n        if ((pops + shifts) < values.length) {\n            var value = values[values.length - ++pops];\n            dirty(true);\n            return value;\n        }\n    }\n    function unshift(item) {\n        mutation(function unshift() { values.unshift(item); });\n        return array;\n    }\n    function shift() {\n        array();\n        if ((pops + shifts) < values.length) {\n            var value = values[shifts++];\n            dirty(true);\n            return value;\n        }\n    }\n    function splice( /* arguments */) {\n        var args = Array.prototype.slice.call(arguments);\n        mutation(function splice() { Array.prototype.splice.apply(values, args); });\n        return array;\n    }\n    function remove(item) {\n        mutation(function remove() {\n            for (var i = 0; i < values.length; i++) {\n                if (values[i] === item) {\n                    values.splice(i, 1);\n                    break;\n                }\n            }\n        });\n        return array;\n    }\n    function removeAll(item) {\n        mutation(function removeAll() {\n            for (var i = 0; i < values.length;) {\n                if (values[i] === item) {\n                    values.splice(i, 1);\n                }\n                else {\n                    i++;\n                }\n            }\n        });\n        return array;\n    }\n}\n// util to add transformer methods\nexport function lift(seq) {\n    var _seq = seq;\n    _seq.concat = chainConcat;\n    _seq.every = chainEvery;\n    _seq.filter = chainFilter;\n    _seq.find = chainFind;\n    //s.findIndex = findIndex;\n    _seq.forEach = chainForEach;\n    _seq.includes = chainIncludes;\n    //s.indexOf   = indexOf;\n    //s.join      = join;\n    //s.lastIndexOf = lastIndexOf;\n    _seq.map = chainMap;\n    _seq.sort = chainSort;\n    _seq.reduce = chainReduce;\n    _seq.reduceRight = chainReduceRight;\n    _seq.reverse = chainReverse;\n    _seq.slice = chainSlice;\n    _seq.some = chainSome;\n    // non-ES5 transformers\n    _seq.mapS = chainMapS;\n    _seq.mapSample = chainMapSample;\n    _seq.mapSequentially = chainMapSequentially;\n    _seq.orderBy = chainOrderBy;\n    return _seq;\n}\nexport function mapS(seq, enter, exit, move) {\n    var items = [], mapped = [], disposers = [], len = 0;\n    S(function () { S.cleanup(function () { disposers.forEach(function (d) { d(); }); }); });\n    return S.on(seq, function mapS() {\n        var new_items = seq(), new_len = new_items.length, temp = new Array(new_len), tempdisposers = new Array(new_len), from = null, to = null, i, j, k, item;\n        if (move)\n            from = [], to = [];\n        // 1) step through all old items and see if they can be found in the new set; if so, save them in a temp array and mark them moved; if not, exit them\n        NEXT: for (i = 0, k = 0; i < len; i++) {\n            item = items[i];\n            for (j = 0; j < new_len; j++, k = (k + 1) % new_len) {\n                if (item === new_items[k] && !temp.hasOwnProperty(k.toString())) {\n                    temp[k] = mapped[i];\n                    tempdisposers[k] = disposers[i];\n                    if (move && i !== k) {\n                        from.push(i);\n                        to.push(k);\n                    }\n                    k = (k + 1) % new_len;\n                    continue NEXT;\n                }\n            }\n            if (exit)\n                exit(item, mapped[i](), i);\n            disposers[i]();\n        }\n        if (move && from.length)\n            move(items, mapped, from, to);\n        // 2) set all the new values, pulling from the temp array if copied, otherwise entering the new value\n        for (i = 0; i < new_len; i++) {\n            if (temp.hasOwnProperty(i.toString())) {\n                mapped[i] = temp[i];\n                disposers[i] = tempdisposers[i];\n            }\n            else {\n                mapped[i] = S.root(mapper);\n            }\n        }\n        // 3) in case the new set is shorter than the old, set the length of the mapped array\n        len = mapped.length = new_len;\n        // 4) save a copy of the mapped items for the next update\n        items = new_items.slice();\n        return mapped;\n        function mapper(disposer) {\n            disposers[i] = disposer;\n            var _item = new_items[i], _i = i;\n            return S(function (value) { return enter(_item, value, _i); }, undefined);\n        }\n    });\n}\nfunction chainMapS(enter, exit, move) {\n    var r = lift(mapS(this, enter, exit, move));\n    r.combine = chainCombine;\n    return r;\n}\nexport function mapSample(seq, enter, exit, move) {\n    var items = [], mapped = [], disposers = [], len = 0;\n    S(function () { S.cleanup(function () { disposers.forEach(function (d) { d(); }); }); });\n    return S.on(seq, function mapSample() {\n        var new_items = seq(), new_len = new_items.length, new_indices, new_indices_next, temp, tempdisposers, from = null, to = null, i, j, start, end, new_end, item;\n        // fast path for empty arrays\n        if (new_len === 0) {\n            if (len !== 0) {\n                if (exit !== undefined) {\n                    for (i = 0; i < len; i++) {\n                        item = items[i];\n                        exit(item, mapped[i], i);\n                        disposers[i]();\n                    }\n                }\n                else {\n                    for (i = 0; i < len; i++) {\n                        disposers[i]();\n                    }\n                }\n                items = [];\n                mapped = [];\n                disposers = [];\n                len = 0;\n            }\n        }\n        else if (len === 0) {\n            for (j = 0; j < new_len; j++) {\n                items[j] = new_items[j];\n                mapped[j] = S.root(mapper);\n            }\n            len = new_len;\n        }\n        else {\n            new_indices = new Map();\n            temp = new Array(new_len);\n            tempdisposers = new Array(new_len);\n            if (move)\n                from = [], to = [];\n            // skip common prefix and suffix\n            for (start = 0, end = Math.min(len, new_len); start < end && items[start] === new_items[start]; start++)\n                ;\n            for (end = len - 1, new_end = new_len - 1; end >= 0 && new_end >= 0 && items[end] === new_items[new_end]; end--, new_end--) {\n                temp[new_end] = mapped[end];\n                tempdisposers[new_end] = disposers[end];\n            }\n            // 0) prepare a map of all indices in new_items, scanning backwards so we encounter them in natural order\n            new_indices_next = new Array(new_end + 1);\n            for (j = new_end; j >= start; j--) {\n                item = new_items[j];\n                i = new_indices.get(item);\n                new_indices_next[j] = i === undefined ? -1 : i;\n                new_indices.set(item, j);\n            }\n            // 1) step through all old items and see if they can be found in the new set; if so, save them in a temp array and mark them moved; if not, exit them\n            for (i = start; i <= end; i++) {\n                item = items[i];\n                j = new_indices.get(item);\n                if (j !== undefined && j !== -1) {\n                    temp[j] = mapped[i];\n                    tempdisposers[j] = disposers[i];\n                    if (move && i !== j) {\n                        from.push(i);\n                        to.push(j);\n                    }\n                    j = new_indices_next[j];\n                    new_indices.set(item, j);\n                }\n                else {\n                    if (exit)\n                        exit(item, mapped[i], i);\n                    disposers[i]();\n                }\n            }\n            if (move && (from.length !== 0 || end !== len - 1)) {\n                end++, new_end++;\n                while (end < len) {\n                    from.push(end++);\n                    to.push(new_end++);\n                }\n                move(items, mapped, from, to);\n            }\n            // 2) set all the new values, pulling from the temp array if copied, otherwise entering the new value\n            for (j = start; j < new_len; j++) {\n                if (temp.hasOwnProperty(j)) {\n                    mapped[j] = temp[j];\n                    disposers[j] = tempdisposers[j];\n                }\n                else {\n                    mapped[j] = S.root(mapper);\n                }\n            }\n            // 3) in case the new set is shorter than the old, set the length of the mapped array\n            len = mapped.length = new_len;\n            // 4) save a copy of the mapped items for the next update\n            items = new_items.slice();\n        }\n        return mapped;\n        function mapper(disposer) {\n            disposers[j] = disposer;\n            return enter(new_items[j], mapped[j], j);\n        }\n    });\n}\nfunction chainMapSample(enter, exit, move) {\n    return lift(mapSample(this, enter, exit, move));\n}\nexport function mapSequentially(seq, update) {\n    var mapped = [];\n    return S(function mapSequentially() {\n        var s = seq();\n        for (var i = 0; i < s.length; i++) {\n            mapped[i] = update(s[i], mapped[i], i);\n        }\n        if (mapped.length > s.length)\n            mapped.length = s.length;\n        return mapped;\n    });\n}\nfunction chainMapSequentially(enter) {\n    return lift(mapSequentially(this, enter));\n}\nexport function forEach(seq, enter, exit, move) {\n    var items = [], len = 0;\n    return S.on(seq, function forEach() {\n        var new_items = seq(), new_len = new_items.length, found = new Array(new_len), from = [], to = [], i, j, k, item;\n        // 1) step through all old items and see if they can be found in the new set; if so, save them in a temp array and mark them moved; if not, exit them\n        NEXT: for (i = 0, k = 0; i < len; i++) {\n            item = items[i];\n            for (j = 0; j < new_len; j++, k = (k + 1) % new_len) {\n                if (item === new_items[k] && !found[k]) {\n                    found[k] = true;\n                    if (i !== k) {\n                        from.push(i);\n                        to.push(k);\n                    }\n                    k = (k + 1) % new_len;\n                    continue NEXT;\n                }\n            }\n            if (exit)\n                exit(item, i);\n        }\n        if (move && from.length)\n            move(from, to);\n        // 2) set all the new values, pulling from the temp array if copied, otherwise entering the new value\n        for (var i = 0; i < new_len; i++) {\n            if (!found[i])\n                enter(new_items[i], i);\n        }\n        // 3) in case the new set is shorter than the old, set the length of the mapped array\n        len = new_len;\n        // 4) save a copy of the mapped items for the next update\n        items = new_items.slice();\n        return items;\n    });\n}\nfunction chainForEach(enter, exit, move) {\n    return lift(forEach(this, enter, exit, move));\n}\nexport function combine(seq) {\n    return S(function combine() {\n        var s = seq(), result = new Array(s.length);\n        for (var i = 0; i < s.length; i++) {\n            result[i] = s[i]();\n        }\n        return result;\n    });\n}\nfunction chainCombine() {\n    return lift(combine(this));\n}\nexport function map(seq, enter, exit, move) {\n    return combine(mapS(seq, enter, exit, move == undefined ? undefined :\n        function (items, mapped, from, to) { move(items, mapped.map(function (s) { return s(); }), from, to); }));\n}\nfunction chainMap(enter, exit, move) {\n    return lift(map(this, enter, exit, move));\n}\nexport function find(seq, pred) {\n    return S(function find() {\n        var s = seq(), i, item;\n        for (i = 0; i < s.length; i++) {\n            item = s[i];\n            if (pred(item))\n                return item;\n        }\n        return undefined;\n    });\n}\nfunction chainFind(pred) {\n    return find(this, pred);\n}\nexport function includes(seq, o) {\n    return S(function find() {\n        var s = seq();\n        for (var i = 0; i < s.length; i++) {\n            if (s[i] === o)\n                return true;\n        }\n        return false;\n    });\n}\nfunction chainIncludes(o) {\n    return includes(this, o);\n}\nexport function sort(seq, fn) {\n    return S(function sort() {\n        var copy = seq().slice(0);\n        if (fn)\n            copy.sort(fn);\n        else\n            copy.sort();\n        return copy;\n    });\n}\nfunction chainSort(fn) {\n    return lift(sort(this, fn));\n}\nexport function orderBy(seq, by) {\n    var key, fn;\n    if (typeof by !== 'function') {\n        key = by;\n        fn = function (o) { return o[key]; };\n    }\n    else {\n        fn = by;\n    }\n    return S(function orderBy() {\n        var copy = seq().slice(0);\n        copy.sort(function (a, b) {\n            a = fn(a);\n            b = fn(b);\n            return a < b ? -1 : a > b ? 1 : 0;\n        });\n        return copy;\n    });\n}\nfunction chainOrderBy(by) {\n    return lift(orderBy(this, by));\n}\nexport function filter(seq, predicate) {\n    return S(function filter() {\n        var s = seq(), result = [], i, v;\n        for (i = 0; i < s.length; i++) {\n            v = s[i];\n            if (predicate(v))\n                result.push(v);\n        }\n        return result;\n    });\n}\nfunction chainFilter(predicate) {\n    return lift(filter(this, predicate));\n}\nexport function concat(seq) {\n    var others = [];\n    for (var _a = 1; _a < arguments.length; _a++) {\n        others[_a - 1] = arguments[_a];\n    }\n    return S(function concat() {\n        var s = seq();\n        for (var i = 0; i < others.length; i++) {\n            s = s.concat(others[i]());\n        }\n        return s;\n    });\n}\nfunction chainConcat() {\n    var others = [];\n    for (var _a = 0; _a < arguments.length; _a++) {\n        others[_a] = arguments[_a];\n    }\n    return lift(concat.apply(void 0, [this].concat(others)));\n}\nexport function reduce(seq, fn, seed) {\n    return S(function reduce() {\n        var s = seq(), result = seed instanceof Function ? seed() : seed;\n        for (var i = 0; i < s.length; i++) {\n            result = fn(result, s[i], i, s);\n        }\n        return result;\n    });\n}\nfunction chainReduce(fn, seed) {\n    return reduce(this, fn, seed);\n}\nexport function reduceRight(seq, fn, seed) {\n    return S(function reduceRight() {\n        var s = seq(), result = seed instanceof Function ? seed() : seed;\n        for (var i = s.length - 1; i >= 0; i--) {\n            result = fn(result, s[i], i, s);\n        }\n        return result;\n    });\n}\nfunction chainReduceRight(fn, seed) {\n    return reduceRight(this, fn, seed);\n}\nexport function every(seq, fn) {\n    return S(function every() {\n        var s = seq();\n        for (var i = 0; i < s.length; i++) {\n            if (!fn(s[i]))\n                return false;\n        }\n        return true;\n    });\n}\nfunction chainEvery(fn) {\n    return every(this, fn);\n}\nexport function some(seq, fn) {\n    return S(function some() {\n        var s = seq();\n        if (fn === undefined)\n            return s.length !== 0;\n        for (var i = 0; i < s.length; i++) {\n            if (fn(s[i]))\n                return true;\n        }\n        return false;\n    });\n}\nfunction chainSome(fn) {\n    return some(this, fn);\n}\nexport function reverse(seq) {\n    return S(function () {\n        var copy = seq().slice(0);\n        copy.reverse();\n        return copy;\n    });\n}\nfunction chainReverse() {\n    return lift(reverse(this));\n}\nexport function slice(seq, s, e) {\n    return S(function () {\n        return seq().slice(s, e);\n    });\n}\nfunction chainSlice(s, e) {\n    return lift(slice(this, s, e));\n}\n","import createSDataArray, { SDataArray } from 's-array';\nimport S, { DataSignal } from 's-js';\nimport { jsonable, Plain } from '../../utils/s';\nimport { Alert } from '../alerts/alerts-model';\nimport { Settings } from '../settings/settings-model';\nimport { YouTrackMetadata } from '../you-track-metadata/you-track-metadata-model';\n\n/**\n * The currently visible application page.\n */\nexport enum Page {\n  HOME = '',\n  WARNINGS = 'warnings',\n  SETTINGS = 'settings',\n}\n\n/**\n * Returns the given value if it is of type {@link Page}, or otherwise the given default value.\n */\nfunction ensurePage(value: Page, defaultValue: Page = Page.HOME): Page {\n  switch (value) {\n    case Page.HOME: case Page.WARNINGS: case Page.SETTINGS: return value;\n    default: return defaultValue;\n  }\n}\n\n/**\n * User-provided state of the application.\n *\n * The properties of this interface constitute user input. As such, it must be possible to reconstruct the application\n * state as defined by this interface after navigating back or forth, after a browser restart, or even on a new machine.\n *\n * The state contains [S.js](https://github.com/adamhaile/S) data signals. These signals allow declarative programming:\n * Any S.js computation based on a data signal will get updated whenever the data signal is updated.\n */\nexport interface App<T extends Settings> {\n  /**\n   * Data signal carrying the current page.\n   */\n  readonly currentPage: DataSignal<Page>;\n\n  /**\n   * The current settings.\n   */\n  readonly settings: T;\n}\n\n/**\n * Computed state of the application.\n *\n * The state defined by this interface is the result of a computation and therefore can be regenerated.\n */\nexport interface AppComputation {\n  /**\n   * Signal carrying the name of the application.\n   */\n  readonly name: DataSignal<string>;\n\n  /**\n   * Signal carrying the number of invalid settings.\n   *\n   * There are no constraints on what is a setting. For instance, multiple `<input>` elements may be aggregated in a\n   * single setting. Therefore, the only meaningful information conveyed to consumers of this signal is whether there\n   * are any invalid settings at all and that the number of invalid settings has changed.\n   */\n  readonly numInvalidSettings: DataSignal<number>;\n\n  /**\n   * Array signal carrying the list of alerts currently shown.\n   */\n  readonly alerts: SDataArray<Alert>;\n\n  /**\n   * Signal carrying YouTrack metadata, or `undefined` if metadata for the current base URL is not (yet) available.\n   */\n  readonly youTrackMetadata: DataSignal<YouTrackMetadata | undefined>;\n\n  /**\n   * Signal carrying the current progress (in percent) or `undefined` if no processing is currently happening.\n   */\n  readonly progress: DataSignal<number | undefined>;\n\n  /**\n   * Signal to trigger connecting to YouTrack.\n   */\n  readonly connect: DataSignal<null>;\n}\n\n/**\n * Returns a newly created object for keeping the user-provided application state.\n */\nexport function createApp<T extends Settings>(settings: T): App<T> {\n  return {\n    currentPage: jsonable(S.value(Page.HOME)),\n    settings,\n  };\n}\n\n/**\n * Returns a newly created object for keeping the computed application state.\n */\nexport function createAppComputation(): AppComputation {\n  return {\n    name: S.value(document.title),\n    numInvalidSettings: S.value(0),\n    alerts: createSDataArray<Alert>([]),\n    youTrackMetadata: S.value(undefined),\n    progress: S.value(undefined),\n    connect: S.data(null),\n  };\n}\n\n/**\n * Updates the application state to the given values in a plain JSON object.\n *\n * The update is performed within a single S.js transaction.\n *\n * @param app application state\n * @param plain Plain JSON object. This function cannot rely on static type checking, because the data may be user\n *     input.\n */\nexport function assignApp<T extends Settings>(app: App<T>, plain: Plain<App<T>>) {\n  S.freeze(() => {\n    app.currentPage(ensurePage(plain.currentPage));\n  });\n}\n","import S, { DataSignal } from 's-js';\nimport { jsonable, Plain } from '../../utils/s';\nimport { ensureNumber, ensureString, unreachableCase } from '../../utils/typescript';\n\nexport const DEFAULT_HOURS_PER_WEEK = 40;\nexport const DEFAULT_NUM_MEMBERS = 1;\n\nexport type Contributor = YouTrackContributor | ExternalContributor;\n\nexport interface ContributorBase {\n  readonly type: ContributorKind;\n  readonly hoursPerWeek: DataSignal<number>;\n}\n\nexport const enum ContributorKind {\n  YOU_TRACK,\n  EXTERNAL,\n}\n\n/**\n * Returns the given value if it is of type {@link ContributorKind}, or otherwise the given default value.\n */\nfunction ensureContributorKind(value: ContributorKind,\n    defaultValue: ContributorKind = ContributorKind.YOU_TRACK): ContributorKind {\n  switch (value) {\n    case ContributorKind.EXTERNAL: case ContributorKind.YOU_TRACK: return value;\n    default: return defaultValue;\n  }\n}\n\nexport interface ExternalContributor extends ContributorBase {\n  readonly type: ContributorKind.EXTERNAL;\n  readonly name: DataSignal<string>;\n  readonly numMembers: DataSignal<number>;\n}\n\nexport interface YouTrackContributor extends ContributorBase {\n  readonly type: ContributorKind.YOU_TRACK;\n  readonly id: string;\n}\n\n\n/**\n * Returns a newly created {@link Contributor} object with the values from the given plain JSON object.\n *\n * @param plain Plain JSON object. This function cannot rely on static type checking, because the data may be user\n *     input.\n */\nexport function createContributor(plain: Plain<Contributor>): Contributor {\n  // Type cast is necessary, because TypeScript cannot know that ensureContributorKind is the identity function (for\n  // well-formed input).\n  const plainCopy: Plain<Contributor> = {\n    ...plain,\n    type: ensureContributorKind(plain.type),\n  } as Plain<Contributor>;\n  switch (plainCopy.type) {\n    case ContributorKind.YOU_TRACK:\n      return createYouTrackContributor(plainCopy);\n    case ContributorKind.EXTERNAL:\n      return createExternalContributor(plainCopy);\n    default:\n      return unreachableCase(plainCopy);\n  }\n}\n\nfunction createExternalContributor(plain: Plain<ExternalContributor>): ExternalContributor {\n  return {\n    ...createContributorBase(plain),\n    type: ContributorKind.EXTERNAL,\n    name: jsonable(S.value(ensureString(plain.name))),\n    numMembers: jsonable(S.value(ensureNumber(plain.numMembers, DEFAULT_NUM_MEMBERS))),\n  };\n}\n\nfunction createYouTrackContributor(plain: Plain<YouTrackContributor>): YouTrackContributor {\n  return {\n    ...createContributorBase(plain),\n    type: ContributorKind.YOU_TRACK,\n    id: ensureString(plain.id),\n  };\n}\n\nfunction createContributorBase(plain: Plain<ContributorBase>): Pick<ContributorBase, 'hoursPerWeek'> {\n  return {\n    hoursPerWeek: jsonable(S.value(ensureNumber(plain.hoursPerWeek, DEFAULT_HOURS_PER_WEEK))),\n  };\n}\n","import createSDataArray, { SDataArray } from 's-array';\nimport S, { DataSignal } from 's-js';\nimport { jsonable, Plain } from '../../utils/s';\nimport { ensureNumber, ensureString } from '../../utils/typescript';\nimport {\n  Contributor,\n  createContributor,\n  DEFAULT_HOURS_PER_WEEK,\n  DEFAULT_NUM_MEMBERS,\n} from '../contributor/contributor-model';\n\n/**\n * Value for {@link ContributorEditArea.id} to indicate an external contributor.\n */\nexport const EXTERNAL_CONTRIBUTOR_VALUE = 'youtrack-planning-js/external';\n\nexport interface ContributorEditArea {\n  hoursPerWeek: DataSignal<number>;\n  id: DataSignal<string>;\n  name: DataSignal<string>;\n  numMembers: DataSignal<number>;\n}\n\nexport function createContributors(): SDataArray<Contributor> {\n  return jsonable(createSDataArray<Contributor>([]));\n}\n\nexport function createContributorEditArea() {\n  return {\n    hoursPerWeek: jsonable(S.value(DEFAULT_HOURS_PER_WEEK)),\n    id: jsonable(S.value('')),\n    name: jsonable(S.value('')),\n    numMembers: jsonable(S.value(DEFAULT_NUM_MEMBERS)),\n  };\n}\n\nexport function assignContributors(contributors: SDataArray<Contributor>, plain: Plain<Contributor>[]): void {\n  S.freeze(() => contributors(plain.map(createContributor)));\n}\n\nexport function assignContributorEditArea(contributorEditArea: ContributorEditArea, plain: Plain<ContributorEditArea>):\n    void {\n  S.freeze(() => {\n    contributorEditArea.hoursPerWeek(ensureNumber(plain.hoursPerWeek));\n    contributorEditArea.id(ensureString(plain.id));\n    contributorEditArea.name(plain.name);\n    contributorEditArea.numMembers(plain.numMembers);\n  });\n}\n","import { SArray, SDataArray } from 's-array';\nimport S from 's-js';\nimport { Counter } from '../../utils/counter';\nimport { Plain } from '../../utils/s';\nimport { unreachableCase } from '../../utils/typescript';\nimport { ContributorCtrl } from '../contributor/contributor-ctrl';\nimport { Contributor, ContributorKind, createContributor, DEFAULT_NUM_MEMBERS } from '../contributor/contributor-model';\nimport { ContributorEditArea, EXTERNAL_CONTRIBUTOR_VALUE } from './contributors-model';\n\nexport class ContributorsCtrl {\n  public readonly contributorCtrls: SArray<[Contributor, ContributorCtrl]>;\n\n  public readonly newEntryType = S(() => this.contributorEditArea_.id() === EXTERNAL_CONTRIBUTOR_VALUE\n      ? ContributorKind.EXTERNAL\n      : ContributorKind.YOU_TRACK\n  );\n\n  public constructor(\n      private readonly contributors_: SDataArray<Contributor>,\n      private readonly contributorEditArea_: ContributorEditArea,\n      createContributorCtrl: (contributor: Contributor) => ContributorCtrl,\n      invalidCounter: Counter\n  ) {\n    this.contributorCtrls = contributors_.map((contributor) => [contributor, createContributorCtrl(contributor)]);\n    invalidCounter.add(() => contributors_().length === 0);\n  }\n\n  public create(): void {\n    const id: string = this.contributorEditArea_.id();\n    const type: ContributorKind = this.newEntryType();\n    const sharedProperties = {\n      hoursPerWeek: this.contributorEditArea_.hoursPerWeek(),\n    };\n    let plainContributor: Plain<Contributor>;\n    switch (type) {\n      case ContributorKind.YOU_TRACK:\n        plainContributor = {\n          type,\n          id,\n          ...sharedProperties,\n        };\n        break;\n      case ContributorKind.EXTERNAL:\n        plainContributor = {\n          type,\n          name: this.contributorEditArea_.name(),\n          numMembers: this.contributorEditArea_.numMembers(),\n          ...sharedProperties,\n        };\n        this.contributorEditArea_.name('');\n        this.contributorEditArea_.numMembers(DEFAULT_NUM_MEMBERS);\n        break;\n      default: return unreachableCase(type);\n    }\n    this.contributorEditArea_.id('');\n    this.contributors_.push(createContributor(plainContributor));\n  }\n\n  public reset(): void {\n    this.contributorEditArea_.id('');\n  }\n}\n","export const FORM_GROUP_CLASS = 'form-group row';\nexport const LABEL_CLASS = 'col-form-label col-form-label-sm col-lg-3 text-lg-right';\nexport const OFFSET_CLASS = 'offset-lg-3';\nexport const INPUT_CLASS = 'form-control form-control-sm';\nexport const INPUT_CLASS_RIGHT = 'form-control form-control-sm text-right';\nexport const PLAINTEXT_CLASS = 'form-control-plaintext form-control-sm';\nexport const SELECT_CLASS = 'custom-select custom-select-sm';\nexport const EDIT_AREA_CLASS = 'col-lg-9';\nexport const HELP_CLASS = 'form-text text-muted';\nexport const CHECK_CLASS = 'form-check-input col-form-label-sm';\nexport const CHECK_LABEL_CLASS = 'form-check-label col-form-label-sm';\n\nexport const DRAGGABLE_HANDLE_CLASS = 'draggable-handle';\n",null,"import * as Surplus from 'surplus'; // lgtm [js/unused-local-variable]\nimport { bindNumber, bindString } from '../../utils/surplus';\nimport { DRAGGABLE_HANDLE_CLASS, INPUT_CLASS, INPUT_CLASS_RIGHT, PLAINTEXT_CLASS } from '../bootstrap';\nexport const MAX_PERSONS_PER_CONTRIBUTORS = 100;\nexport const MAX_HOURS_PER_WEEK = 7 * 24;\n// Unfortunately, Firefox does not automatically resize <input> element of type number to the maximum required width.\n// https://stackoverflow.com/questions/22590483/why-does-adding-min-max-properties-change-the-width-of-a-numeric-html5-input-ele\n// As a workaround, we set the width relative to the width of digit '0'. We include some extra digits to account for:\n// Padding on the left, padding on the right, and spin buttons.\nexport const INPUT_WIDTH_3_DIGITS = `${4 + Math.ceil(Math.log(MAX_HOURS_PER_WEEK) / Math.LN10)}ch`;\nexport function ContributorView({ contributor, ctrl, youTrackUserMap, invalidCounter }) {\n    return (<li class=\"list-group-item draggable d-flex\">\n        <div class={DRAGGABLE_HANDLE_CLASS}>⣿</div>\n        <div class=\"form-inline flex-grow-1\">\n          <div class=\"flex-fill mr-3 mb-1 mb-sm-0\">\n            {contributor.type === 1 /* EXTERNAL */\n        ? <input class={`${INPUT_CLASS} w-100`} aria-label=\"Name of external contributor\" size={10} required fn={bindString(contributor.name, invalidCounter)}/>\n        : <input class={PLAINTEXT_CLASS} aria-label=\"Name of YouTrack user\" readOnly value={youTrackUserName(contributor, youTrackUserMap)}/>}\n          </div>\n          {contributor.type === 1 /* EXTERNAL */ &&\n        <div class=\"input-group input-group-sm flex-nowrap mr-3 mb-1 mb-sm-0\">\n              <input type=\"number\" class={INPUT_CLASS_RIGHT} min=\"1\" max={MAX_PERSONS_PER_CONTRIBUTORS} required aria-label=\"Number of persons\" style={{ width: INPUT_WIDTH_3_DIGITS }} fn={bindNumber(contributor.numMembers, invalidCounter)}/>\n              <div class=\"input-group-append\">\n                <span class=\"input-group-text\">👤</span>\n              </div>\n            </div>}\n          <div class=\"input-group input-group-sm flex-nowrap mr-3 mb-1 mb-sm-0\">\n            <input type=\"number\" class={INPUT_CLASS_RIGHT} min=\"1\" max={MAX_HOURS_PER_WEEK} required aria-label=\"Hours per week per person\" style={{ width: INPUT_WIDTH_3_DIGITS }} fn={bindNumber(contributor.hoursPerWeek, invalidCounter)}/>\n            <div class=\"input-group-append\">\n              <span class=\"input-group-text\">h/week</span>\n            </div>\n          </div>\n        </div>\n        <button type=\"button\" class=\"close\" aria-label=\"Remove contributor\" onClick={() => ctrl.remove()}>\n          <span aria-hidden=\"true\">&times;</span>\n        </button>\n      </li>);\n}\nfunction youTrackUserName(contributor, youTrackUserMapSignal) {\n    const userMap = youTrackUserMapSignal();\n    return userMap.has(contributor.id)\n        ? userMap.get(contributor.id).fullName\n        : `Unknown name (User ID = ${contributor.id})`;\n}\n//# sourceMappingURL=contributor-view.jsx.map",null,"import S, { DataSignal } from 's-js';\nimport { jsonable, Plain } from '../../utils/s';\nimport { ensureBoolean, ensureString } from '../../utils/typescript';\n\n/**\n * Non-transient state of the settings UI component.\n */\nexport interface DependsLinkType {\n  readonly dependsLinkTypeId: DataSignal<string>;\n  readonly doesInwardDependOnOutward: DataSignal<boolean>;\n}\n\n/**\n * Creates a new state for the settings UI component.\n */\nexport function createDependsLinkType(): DependsLinkType {\n  return {\n    dependsLinkTypeId: jsonable(S.value('')),\n    doesInwardDependOnOutward: jsonable(S.value(true)),\n  };\n}\n\n/**\n * Updates the state of the settings UI component to the given values in a plain JSON object.\n *\n * The update is performed within a single S.js transaction.\n *\n * @param type state of the settings UI component\n * @param plain plain JSON object\n */\nexport function assignDependsLinkType(type: DependsLinkType, plain: Plain<DependsLinkType>):\n    void {\n  S.freeze(() => {\n    type.dependsLinkTypeId(ensureString(plain.dependsLinkTypeId));\n    type.doesInwardDependOnOutward(ensureBoolean(plain.doesInwardDependOnOutward));\n  });\n}\n",null,"import S from 's-js';\nimport * as Surplus from 'surplus'; // lgtm [js/unused-local-variable]\nimport { bindString, bindStringSet, bindToOnValue, withClassIff } from '../utils/surplus';\nimport { CHECK_CLASS, CHECK_LABEL_CLASS, EDIT_AREA_CLASS, FORM_GROUP_CLASS, HELP_CLASS, LABEL_CLASS, SELECT_CLASS, } from './bootstrap';\n/**\n * Returns a newly created `<select>` control for choosing at most one from a list of option.\n *\n * The control shows a disabled placeholder option if the current value is empty. If the current value is not available,\n * the control shows “Unknown (ID: <YouTrack entity ID>)” as select option, and this option is *not* disabled. (If it\n * was disabled, we would be running into [Firefox bug 1569314](https://bugzilla.mozilla.org/show_bug.cgi?id=1569314).)\n */\nexport function SelectView({ id, label, required = false, elementId, elements, idFromElement, optionTextFromElement, invalidCounter, children }) {\n    return (<div class={FORM_GROUP_CLASS}>\n        <label for={id} class={LABEL_CLASS}>{label}</label>\n        <div class={EDIT_AREA_CLASS}>\n          <select id={id} class={SELECT_CLASS} aria-describedby={`${id}Help`} required={required} fn={bindString(elementId, invalidCounter)}>\n            {!required &&\n        <option value=\"\">None</option>}\n            <SinglePlaceholder defaultPlaceholder={!required ? undefined : 'None selected'} unknownIdPlaceholder={(unknownId) => `Unknown (ID: ${unknownId})`} selectedId={elementId()} choices={elements()}>\n              <option value={elementId()} selected disabled={elementId().length === 0}/>\n            </SinglePlaceholder>\n            {Array.from(elements().values(), (element) => <option value={idFromElement(element)} selected={idFromElement(element) === S.sample(elementId)}>\n                  {optionTextFromElement(element)}\n                </option>)}\n          </select>\n          <small id={`${id}Help`} class={HELP_CLASS}>{children}</small>\n        </div>\n      </div>);\n}\n/**\n * Returns a “secondary” `<select>` control that allows to choose a single element.\n *\n * The element must differ from the value that (typically) is already the active value of another “primary” control.\n * If the current value is not available, the control shows “Unknown (ID: <YouTrack entity ID>)” as select option, and\n * this option is *not* disabled (see {@link SelectView}).\n */\nexport function SecondarySelectView({ id, label, elementId, elements, idFromElement, optionTextFromElement, primaryElementId, children }) {\n    return <div class={FORM_GROUP_CLASS}>\n      <label for={id} class={LABEL_CLASS}>{label}</label>\n      <div class={EDIT_AREA_CLASS}>\n        <select id={id} class={SELECT_CLASS} aria-describedby={`${id}Help`} fn={bindString(elementId)}>\n          <option value=\"\">None</option>\n          <SinglePlaceholder unknownIdPlaceholder={(unknownId) => `Unknown (ID: ${unknownId})`} selectedId={elementId()} choices={elements()}>\n            <option value={elementId()} selected/>\n          </SinglePlaceholder>\n          {Array.from(elements().values(), (element) => <option value={idFromElement(element)} selected={idFromElement(element) === S.sample(elementId)} disabled={idFromElement(element) === primaryElementId()}>\n                {optionTextFromElement(element)}\n              </option>)}\n        </select>\n        <small id={`${id}Help`} class={HELP_CLASS}>{children}</small>\n      </div>\n    </div>;\n}\n/**\n * Returns a `<select multiple>` control that allows to choose zero or more elements.\n *\n * The user may choose zero or more elements, so the input is assumed to be always valid.\n */\nexport function MultiSelectView({ id, label, elementIds, bundleElements, idFromElement, optionTextFromElement, children }) {\n    return <div class={FORM_GROUP_CLASS}>\n        <label for={id} class={LABEL_CLASS}>{label}</label>\n        <div class={EDIT_AREA_CLASS}>\n          <select id={id} class={SELECT_CLASS} multiple aria-describedby={`${id}Help`} fn={bindStringSet(elementIds)}>\n            {multiplePlaceholders(elementIds(), bundleElements(), (inactiveStateId) => <option value={inactiveStateId} selected>Unknown (ID: {inactiveStateId})</option>)}\n            {Array.from(bundleElements().values(), (bundleElement) => <option value={idFromElement(bundleElement)} selected={S.sample(elementIds).has(idFromElement(bundleElement))}>\n                {optionTextFromElement(bundleElement)}\n              </option>)}\n          </select>\n          <small id={`${id}Help`} class={HELP_CLASS}>{children}</small>\n        </div>\n      </div>;\n}\nexport function RadioToggleView({ id, label, value, names, children }) {\n    return <div class={FORM_GROUP_CLASS}>\n      <label for={id} class={LABEL_CLASS}>{label}</label>\n      <fieldset id={id} class={EDIT_AREA_CLASS} aria-describedby={`${id}Help`}>\n        <div class=\"form-check form-check-inline\">\n          <input class={CHECK_CLASS} type=\"radio\" id={`${id}True`} fn={bindToOnValue(value, true)}/>\n          <label class={CHECK_LABEL_CLASS} for={`${id}True`}>\n            {names()[0]}\n          </label>\n        </div>\n        <div class=\"form-check form-check-inline\">\n          <input class={CHECK_CLASS} type=\"radio\" id={`${id}False`} fn={bindToOnValue(value, false)}/>\n          <label class={CHECK_LABEL_CLASS} for={`${id}False`}>\n            {names()[1]}\n          </label>\n        </div>\n        <small id={`${id}Help`} class={HELP_CLASS}>{children}</small>\n      </fieldset>\n    </div>;\n}\nexport function ProgressBarView({ className, progress }) {\n    return (<div class={`progress ${className || ''}`} fn={withClassIff(() => progress() === undefined, 'd-none')}>\n        <div class=\"progress-bar progress-bar-striped progress-bar-animated\" role=\"progressbar\" aria-valuenow={asString(progress)} aria-valuemin=\"0\" aria-valuemax=\"100\" style={{ width: asString(progress, '%') }}/>\n      </div>);\n}\n/**\n * Returns the `children` property (typically an `<option>` element) if certain conditions are met, or otherwise `null`.\n *\n * The {@link HTMLElement.innerText} of the placeholder is set to:\n * - the result of `unknownIdPlaceholder(selectedId)` if `selectedId` is contained in `choices`\n * - `defaultPlaceholder` if it is defined and if `selectedId` is empty.\n *\n * @return in the two cases above, the placeholder (that is, the `children` property), otherwise `null`\n */\nfunction SinglePlaceholder({ defaultPlaceholder, unknownIdPlaceholder, selectedId, choices, children }) {\n    const existsAsOption = choices.has(selectedId);\n    let text = '';\n    if (!existsAsOption && selectedId.length > 0) {\n        text = unknownIdPlaceholder(selectedId);\n    }\n    else if (defaultPlaceholder !== undefined && selectedId.length === 0) {\n        text = defaultPlaceholder;\n    }\n    if (text.length > 0) {\n        children.innerText = text;\n        return children;\n    }\n    else {\n        return null;\n    }\n}\nfunction multiplePlaceholders(selectedIds, choices, elementFactory) {\n    return Array.from(selectedIds)\n        .filter((inactiveStateId) => !choices.has(inactiveStateId))\n        .map(elementFactory);\n}\nfunction asString(progress, unit = '') {\n    const currentProgress = progress();\n    const value = currentProgress === undefined || currentProgress < 0\n        ? 0\n        : Math.min(100, currentProgress);\n    return value === 0\n        ? value.toString()\n        : `${value}${unit}`;\n}\n//# sourceMappingURL=base-views.jsx.map",null,"import * as Surplus from 'surplus'; // lgtm [js/unused-local-variable]\nimport { MultiSelectView, SecondarySelectView, SelectView, } from './base-views';\nexport function IssueFieldView({ id, label, required, elementId, elements, invalidCounter, children }) {\n    return (<SelectView id={id} label={label} required={required} elementId={elementId} elements={elements} idFromElement={(field) => field.id} optionTextFromElement={(field) => field.name} invalidCounter={invalidCounter}>\n        {children}\n      </SelectView>);\n}\n/**\n * Returns a control that allows to choose the assignee custom field.\n *\n * The assignee custom field is assumed to be optional (and hence the input is always valid, even if empty).\n */\nexport function AssigneeFieldView({ elementId, elements }) {\n    return (<IssueFieldView id=\"assigneeField\" label=\"Assignee Field:\" elementId={elementId} elements={elements}>\n        The custom field (of type user) that contains the assignee.\n      </IssueFieldView>);\n}\n/**\n * Returns a control that allows to choose the issue type custom field.\n *\n * The issue type custom field is assumed to be optional (and hence the input is always valid, even if empty).\n */\nexport function IssueTypeFieldView({ elementId, elements }) {\n    return (<IssueFieldView id=\"typeField\" label=\"Type Field:\" elementId={elementId} elements={elements}>\n        The custom field (of type enum) that contains the issue type.\n      </IssueFieldView>);\n}\nexport function LinkTypeView({ id, label, required, elementId, elements, invalidCounter, children }) {\n    return (<SelectView id={id} label={label} required={required} elementId={elementId} elements={elements} idFromElement={(linkType) => linkType.id} optionTextFromElement={(linkType) => `${linkType.name} (${linkType.sourceToTarget} → ${linkType.targetToSource})`} invalidCounter={invalidCounter}>\n        {children}\n      </SelectView>);\n}\nexport function SavedQueryView({ id, label, elementId, elements, invalidCounter, children }) {\n    return (<SelectView id={id} label={label} required elementId={elementId} elements={elements} idFromElement={idFromElement} optionTextFromElement={optionTextFromSavedQuery} invalidCounter={invalidCounter}>\n        {children}\n      </SelectView>);\n}\nexport function OverlaySavedQueryView({ id, label, elementId, elements, primaryElementId, children }) {\n    return (<SecondarySelectView id={id} label={label} elementId={elementId} elements={elements} idFromElement={idFromElement} optionTextFromElement={optionTextFromSavedQuery} primaryElementId={primaryElementId}>\n        {children}\n      </SecondarySelectView>);\n}\nexport function BundleElementsView({ id, label, elementIds, bundleElements, children }) {\n    return (<MultiSelectView id={id} label={label} elementIds={elementIds} bundleElements={bundleElements} idFromElement={idFromElement} optionTextFromElement={optionTextFromElement}>\n        {children}\n      </MultiSelectView>);\n}\nfunction idFromElement(element) {\n    return element.id;\n}\nfunction optionTextFromElement(element) {\n    return element.name;\n}\nfunction optionTextFromSavedQuery(savedQuery) {\n    return `${savedQuery.name} (${savedQuery.owner.fullName})`;\n}\n//# sourceMappingURL=you-track-base-views.jsx.map",null,"import * as Surplus from 'surplus'; // lgtm [js/unused-local-variable]\nimport { RadioToggleView } from '../base-views';\nimport { LinkTypeView } from '../you-track-base-views';\n/**\n * Returns a control that allows to choose the “finish-to-start” dependency link type.\n *\n * The bound value is assumed to be required.\n */\nexport function DependsLinkTypeView({ dependsLinkType, directedIssueLinkTypes, invalidCounter }) {\n    return (<div>\n        <LinkTypeView id=\"dependsLinkType\" label=\"Dependency Link:\" required elementId={dependsLinkType.dependsLinkTypeId} elements={directedIssueLinkTypes} invalidCounter={invalidCounter}>\n          The type of issue link that indicates a finish-to-start dependency.\n        </LinkTypeView>\n        <RadioToggleView id=\"doesInwardDependOnOutward\" label=\"A before B:\" value={dependsLinkType.doesInwardDependOnOutward} names={() => issueLinkDirectionNames(directedIssueLinkTypes, dependsLinkType.dependsLinkTypeId)}>\n          The side of a dependency link synonymous with “needs to be finished before”.\n        </RadioToggleView>\n      </div>);\n}\nfunction issueLinkDirectionNames(directedIssueLinkTypes, dependsLinkTypeId) {\n    const issueLinkType = directedIssueLinkTypes().get(dependsLinkTypeId());\n    return issueLinkType === undefined\n        ? ['A → B', 'A ← B']\n        : [`A ${issueLinkType.sourceToTarget} B`, `A ${issueLinkType.targetToSource} B`];\n}\n//# sourceMappingURL=depends-link-type-view.jsx.map",null,"import * as Surplus from 'surplus'; // lgtm [js/unused-local-variable]\nimport { withClassIff } from '../../utils/surplus';\nimport { Page } from '../app/app-model';\nimport { ProgressBarView } from '../base-views';\nexport function NavView({ className, appName, currentPage, progress, numWarnings, isActionBtnVisible, actionBtnLabel, actionSignal, children }) {\n    return (<nav class={append('navbar navbar-expand navbar-light bg-light', className)}>\n        <ProgressBarView className=\"progress-navbar\" progress={progress}/>\n        <a class=\"navbar-brand d-none d-md-inline-block\">{appName()}</a>\n        <ul class=\"navbar-nav mr-auto ml-n2 ml-md-0\">\n          <li class=\"nav-item\" fn={withClassIff(() => currentPage() === Page.HOME, 'active')}>\n            <a class=\"nav-link text-nowrap\" href={href(Page.HOME)}>\n              🗓\n              <span class=\"ml-sm-1 d-none d-sm-inline\">Project Plan</span>\n            </a>\n          </li>\n          <li class=\"nav-item\" fn={withClassIff(() => currentPage() === Page.WARNINGS, 'active')}>\n            <a class=\"nav-link text-nowrap\" href={href(Page.WARNINGS)}>\n              ⚠️\n              <span class=\"ml-sm-1 d-none d-sm-inline\">Warnings</span>\n              &nbsp;\n              <span class=\"badge badge-warning\" fn={withClassIff(() => numWarnings() === 0, 'd-none')}>\n                {numWarnings()}\n              </span>\n            </a>\n          </li>\n          <li class=\"nav-item\" fn={withClassIff(() => currentPage() === Page.SETTINGS, 'active')}>\n            <a class=\"nav-link text-nowrap\" href={href(Page.SETTINGS)}>\n              ⚙️\n              <span class=\"ml-sm-1 d-none d-sm-inline\">Settings</span>\n            </a>\n          </li>\n        </ul>\n        {children}\n        <button type=\"button\" class=\"btn btn-sm btn-outline-secondary\" onClick={() => actionSignal(null)} fn={withClassIff(() => !isActionBtnVisible(), 'd-none')}>\n          {actionBtnLabel()}\n        </button>\n      </nav>);\n}\nfunction append(list, additional) {\n    return additional === undefined\n        ? list\n        : `${list} ${additional}`;\n}\nfunction href(page) {\n    return `#/${page}`;\n}\n//# sourceMappingURL=nav-view.jsx.map","export function deepEquals<T>(left: T, right: T): boolean {\n  if (Object.is(left, right)) {\n    return true;\n  } else if (typeof left !== typeof right) {\n    return false;\n  }\n\n  if (Array.isArray(left)) {\n    if (!Array.isArray(right)) {\n      return false;\n    }\n    if (left.length !== right.length) {\n      return false;\n    }\n    const length = left.length;\n    for (let i = 0; i < length; ++i) {\n      if (!deepEquals(left[i], right[i])) {\n        return false;\n      }\n    }\n    return true;\n  } else if (typeof left === 'object') {\n    const leftKeys: string[] = Object.keys(left);\n    const rightKeys: string[] = Object.keys(right);\n    if (leftKeys.length !== rightKeys.length) {\n      return false;\n    }\n\n    for (const leftKey of leftKeys) {\n      if (!(right as {}).hasOwnProperty(leftKey) ||\n          !deepEquals((left as Record<string, any>)[leftKey], (right as Record<string, any>)[leftKey])) {\n        return false;\n      }\n    }\n    return true;\n  }\n  return false;\n}\n","import { SDataArray } from 's-array';\nimport { Contributor } from './contributor-model';\n\nexport class ContributorCtrl {\n  public constructor(\n      private readonly contributor_: Contributor,\n      private readonly contributors_: SDataArray<Contributor>\n  ) { }\n\n  public remove(): void {\n    this.contributors_.remove(this.contributor_);\n  }\n}\n","import S from 's-js';\nimport {\n  CustomField,\n  EnumBundleCustomFieldDefaults,\n  EnumBundleElement,\n  StateBundleCustomFieldDefaults,\n  StateBundleElement,\n} from '../../youtrack-rest';\nimport { ContributorsCtrl } from '../contributors/contributors-ctrl';\nimport { SettingsCtrl } from '../settings/settings-ctrl';\nimport { YouTrackMetadataCtrl } from '../you-track-metadata/you-track-metadata-ctrl';\nimport { ProjectPlanningSettings } from './project-planning-settings-model';\n\n/**\n * Controller for settings related to project planning (YouTrack custom fields, list of available resources, etc.).\n */\nexport class ProjectPlanningSettingsCtrl {\n  public readonly enumFields: () => Map<string, CustomField>;\n  public readonly periodFields: () => Map<string, CustomField>;\n  public readonly stateFields: () => Map<string, CustomField>;\n  public readonly userFields: () => Map<string, CustomField>;\n  public readonly states: () => Map<string, StateBundleElement>;\n  public readonly types: () => Map<string, EnumBundleElement>;\n\n  public constructor(\n      private readonly settings_: ProjectPlanningSettings,\n      public readonly settingsCtrl: SettingsCtrl,\n      public readonly youTrackMetadataCtrl: YouTrackMetadataCtrl,\n      public readonly contributorsCtrl: ContributorsCtrl\n  ) {\n    this.enumFields = youTrackMetadataCtrl.mapOfCustomFieldTypes('enum[1]');\n    this.periodFields = youTrackMetadataCtrl.mapOfCustomFieldTypes('period');\n    this.stateFields = youTrackMetadataCtrl.mapOfCustomFieldTypes('state[1]');\n    this.userFields = youTrackMetadataCtrl.mapOfCustomFieldTypes('user[1]');\n    this.states = S(() => {\n      const customField: CustomField | undefined = this.stateFields().get(this.settings_.stateFieldId());\n      const array: StateBundleElement[] = customField === undefined\n          ? []\n          : (customField.fieldDefaults as StateBundleCustomFieldDefaults).bundle.values\n              .filter((stateBundleElement) => !stateBundleElement.isResolved)\n              .sort((left, right) => left.ordinal - right.ordinal);\n      return array.reduce((map, element) => map.set(element.id, element), new Map<string, StateBundleElement>());\n    });\n    this.types = S(() => {\n      const customField: CustomField | undefined = this.enumFields().get(this.settings_.typeFieldId());\n      const array: EnumBundleElement[] = customField === undefined\n          ? []\n          : (customField.fieldDefaults as EnumBundleCustomFieldDefaults).bundle.values\n              .sort((left, right) => left.ordinal - right.ordinal);\n      return array.reduce((map, element) => map.set(element.id, element), new Map<string, EnumBundleElement>());\n    });\n\n    // If saved search and overlay are the same, set the overlay to none.\n    S(() => {\n      if (this.settings_.savedQueryId() === this.settings_.overlaySavedQueryId()) {\n        this.settings_.overlaySavedQueryId('');\n      }\n    });\n  }\n}\n","import {\n  appendSchedule,\n  Contributor,\n  Failure,\n  isFailure,\n  ProjectPlan,\n  retrieveProjectPlan,\n  RetrieveProjectPlanOptions,\n  Schedule,\n  scheduleUnresolved,\n  SchedulingOptions,\n  YouTrackConfig,\n  YouTrackIssue,\n} from '@fschopp/project-planning-for-you-track';\nimport { strict as assert } from 'assert';\nimport S, { DataSignal } from 's-js';\nimport { deepEquals } from '../../utils/deep-equals';\nimport { Plain } from '../../utils/s';\nimport { unreachableCase } from '../../utils/typescript';\nimport { AppCtrl } from '../app/app-ctrl';\nimport { App, Page } from '../app/app-model';\nimport { ContributorCtrl } from '../contributor/contributor-ctrl';\nimport { Contributor as ContributorModel, ContributorKind } from '../contributor/contributor-model';\nimport { ContributorsCtrl } from '../contributors/contributors-ctrl';\nimport { ProjectPlanningSettingsCtrl } from '../project-planning-settings/project-planning-settings-ctrl';\nimport { ProjectPlanningSettings } from '../project-planning-settings/project-planning-settings-model';\nimport { toNormalizedPlainSettings } from '../settings/settings-model';\nimport { YouTrackMetadata } from '../you-track-metadata/you-track-metadata-model';\nimport { ProjectPlanningAppComputation } from './project-planning-app-model';\n\nconst MIN_STATE_CHANGE_DURATION_MS = 60 * 60 * 1000;\nconst DEFAULT_REMAINING_EFFORT_MS = 0;\nconst DEFAULT_WAIT_TIME_MS = 0;\n\n/**\n * Resolution is 1 hour.\n */\nconst SCHEDULING_RESOLUTION_MS = 60 * 60 * 1000;\n\n/**\n * Cannot preempt or split issues that are less than 4 hours ideal time.\n */\nconst MIN_ACTIVITY_DURATION = 4;\n\n/**\n * Prefix for the IDs of external contributors.\n *\n * No YouTrack user ID must have the same prefix. Given that all\n * [YouTrack IDs are of form \"x-y\" where both x and y are integers](https://github.com/JetBrains/xodus/blob/master/entity-store/src/main/java/jetbrains/exodus/entitystore/PersistentEntityId.java)\n * (see also the\n * [`EntityId` interface](https://github.com/JetBrains/xodus/blob/master/openAPI/src/main/java/jetbrains/exodus/entitystore/EntityId.java)),\n * anything starting with a non-numeric character should already be safe.\n */\nconst EXTERNAL_CONTRIBUTOR_ID_PREFIX = '@fschopp/project-planning-ui-for-you-track/';\n\nexport enum Action {\n  COMPLETE_SETTINGS = 'complete',\n  CONNECT = 'connect',\n  BUILD_PLAN = 'build',\n  UPDATE_PREDICTION = 'update',\n  STOP = 'stop',\n  NOTHING = 'nothing',\n}\n\n/**\n * Project plan together the settings used to compute it.\n */\nexport interface ExtendedProjectPlan {\n  /**\n   * The project plan.\n   */\n  plan: ProjectPlan;\n\n  /**\n   * The settings from the user interface.\n   *\n   * The settings are guaranteed to have been normalized with {@link toNormalizedPlainSettings}().\n   */\n  settings: Plain<ProjectPlanningSettings>;\n\n  /**\n   * Time when the YouTrack activity log had been completely received and processed.\n   */\n  youTrackTimestamp: number;\n\n  /**\n   * Mapping from contributor IDs in {@link plan} to the index of the corresponding contributor in the\n   * {@link ProjectPlanningSettings.contributors} property of {@link settings}.\n   */\n  idToContributorIdx: Map<string, number>;\n}\n\n/**\n * Controller for {@link App}.\n */\nexport class ProjectPlanningAppCtrl {\n  /**\n   * Signal carrying the kind of action triggered by the button in the nav bar.\n   */\n  public readonly action: () => Action;\n\n  /**\n   * Signal carrying the latest project plan and the settings used to compute it, or undefined if no project plan was\n   * computed yet.\n   *\n   * The settings are the result of {@link toNormalizedPlainSettings}(); that is, they are normalized.\n   */\n  public readonly extendedProjectPlan: () => ExtendedProjectPlan | undefined;\n\n  /**\n   * Signal carrying the number of warnings in the project plan.\n   */\n  public readonly numWarnings: () => number;\n\n\n  private readonly extendedProjectPlan_: DataSignal<ExtendedProjectPlan | undefined> = S.value(undefined);\n  private retrievedProjectPlanTimestamp_: number | undefined;\n  private retrieveProjectPlanResult_: ProjectPlan | undefined;\n\n\n  public static createDefaultProjectPlanningAppCtrl(\n      app: App<ProjectPlanningSettings>, appComputation: ProjectPlanningAppComputation): ProjectPlanningAppCtrl {\n    const appCtrl: AppCtrl<ProjectPlanningSettings> = AppCtrl.createDefaultAppCtrl(app, appComputation);\n    const createContributorCtrl = (contributor: ContributorModel): ContributorCtrl =>\n        new ContributorCtrl(contributor, app.settings.contributors);\n    const contributorsCtrl: ContributorsCtrl = new ContributorsCtrl(\n        app.settings.contributors, app.settings.transient, createContributorCtrl, appCtrl.invalidCounter);\n    const settingsCtrl: ProjectPlanningSettingsCtrl = new ProjectPlanningSettingsCtrl(\n        app.settings, appCtrl.settingsCtrl, appCtrl.youTrackMetadataCtrl, contributorsCtrl);\n    return new ProjectPlanningAppCtrl(app, appComputation, appCtrl, settingsCtrl);\n  }\n\n  /**\n   * Constructor.\n   *\n   * @param app_ The user-provided application state.\n   * @param appComputation_ The computed application state.\n   * @param appCtrl Controller for {@link App}.\n   * @param settingsCtrl Controller for {@link ProjectPlanningSettings}.\n   */\n  public constructor(\n      private readonly app_: App<ProjectPlanningSettings>,\n      private readonly appComputation_: ProjectPlanningAppComputation,\n      public readonly appCtrl: AppCtrl<ProjectPlanningSettings>,\n      public readonly settingsCtrl: ProjectPlanningSettingsCtrl\n  ) {\n    this.action = S(() => actionFromState(\n        this.appComputation_.progress(), this.appCtrl.youTrackMetadataCtrl.pendingMetadata(),\n        this.appComputation_.youTrackMetadata(), this.extendedProjectPlan_(),\n        toNormalizedPlainSettings(this.app_.settings), app_.currentPage(), appComputation_.numInvalidSettings() === 0));\n    this.extendedProjectPlan = this.extendedProjectPlan_;\n    this.numWarnings = S(() => {\n      const extendedProjectPlan: ExtendedProjectPlan | undefined = this.extendedProjectPlan();\n      return extendedProjectPlan === undefined\n          ? 0\n          : extendedProjectPlan.plan.warnings.length;\n    });\n\n    // 'seed' is undefined (the calculation does not keep a state), and 'onchanges' is true (skip the initial run).\n    S.on(this.appComputation_.doAction, () => this.defaultAction(), undefined, true);\n  }\n\n  public defaultAction(): void {\n    const action: Action = this.action();\n    switch (action) {\n      case Action.COMPLETE_SETTINGS: this.app_.currentPage(Page.SETTINGS); return;\n      case Action.CONNECT: this.appComputation_.connect(null); return;\n      case Action.BUILD_PLAN:\n        return this.appCtrl.showErrorIfFailure(\n            'Failed to build project plan',\n            this.buildPlan(toNormalizedPlainSettings(this.app_.settings))\n        );\n      case Action.UPDATE_PREDICTION:\n        return this.appCtrl.showErrorIfFailure(\n            'Failed to update prediction',\n            this.updatePrediction(toNormalizedPlainSettings(this.app_.settings))\n        );\n      case Action.STOP: case Action.NOTHING: return;\n      default: return unreachableCase(action);\n    }\n  }\n\n  private async buildPlan(currentConfig: Plain<ProjectPlanningSettings>): Promise<void> {\n    const typeFieldId = currentConfig.typeFieldId;\n    const splittableTypeIds = new Set<string>(currentConfig.splittableTypeIds);\n    const youTrackConfig: YouTrackConfig = {\n      stateFieldId: currentConfig.stateFieldId,\n      inactiveStateIds: currentConfig.inactiveStateIds,\n      remainingEffortFieldId: currentConfig.remainingEffortFieldId,\n      remainingWaitFieldId: currentConfig.remainingWaitFieldId,\n      assigneeFieldId: currentConfig.assigneeFieldId,\n      otherCustomFieldIds: [typeFieldId],\n      dependsLinkTypeId: currentConfig.dependsLinkTypeId,\n      doesInwardDependOnOutward: currentConfig.doesInwardDependOnOutward,\n      savedQueryId: currentConfig.savedQueryId,\n      overlaySavedQueryId: currentConfig.overlaySavedQueryId,\n      minStateChangeDurationMs: MIN_STATE_CHANGE_DURATION_MS,\n      defaultRemainingEffortMs: DEFAULT_REMAINING_EFFORT_MS,\n      defaultWaitTimeMs: DEFAULT_WAIT_TIME_MS,\n      isSplittableFn: (issue: YouTrackIssue) => {\n        const value: string | undefined = issue.customFields[typeFieldId];\n        return splittableTypeIds.has(value);\n      },\n    };\n    const options: RetrieveProjectPlanOptions = {\n      progressCallback: (percentDone) => this.appComputation_.progress(percentDone),\n    };\n    this.retrieveProjectPlanResult_ = await retrieveProjectPlan(\n        this.appCtrl.settingsCtrl.normalizedBaseUrl(),\n        youTrackConfig,\n        options\n    );\n    this.retrievedProjectPlanTimestamp_ = Date.now();\n    await this.updatePrediction(currentConfig);\n  }\n\n  private async updatePrediction(currentConfig: Plain<ProjectPlanningSettings>): Promise<void> {\n    const youTrackMetadata: YouTrackMetadata | undefined = this.appComputation_.youTrackMetadata();\n    assert(this.retrieveProjectPlanResult_ !== undefined && youTrackMetadata !== undefined &&\n        this.retrievedProjectPlanTimestamp_ !== undefined);\n\n    const contributors: Contributor[] = [];\n    const idToContributorIdx = new Map<string, number>();\n    currentConfig.contributors.forEach((contributor, index) => {\n      let id: string;\n      let numMembers: number;\n      if (contributor.type === ContributorKind.EXTERNAL) {\n        id = `${EXTERNAL_CONTRIBUTOR_ID_PREFIX}${idToContributorIdx.size}`;\n        numMembers = contributor.numMembers;\n      } else {\n        id = contributor.id;\n        numMembers = 1;\n      }\n      idToContributorIdx.set(id, index);\n      contributors.push({\n        id,\n        minutesPerWeek: 60 * contributor.hoursPerWeek,\n        numMembers,\n      });\n    });\n    const schedulingOptions: SchedulingOptions = {\n      contributors,\n      minutesPerWeek: youTrackMetadata!.minutesPerWorkWeek,\n      resolutionMs: SCHEDULING_RESOLUTION_MS,\n      minActivityDuration: MIN_ACTIVITY_DURATION,\n      predictionStartTimeMs: this.retrievedProjectPlanTimestamp_,\n    };\n    const schedule: Schedule = await scheduleUnresolved(\n        this.retrieveProjectPlanResult_!.issues, schedulingOptions);\n    const finalPlan: ProjectPlan | Failure = appendSchedule(\n        this.retrieveProjectPlanResult_!, schedule, schedulingOptions.predictionStartTimeMs!);\n    if (isFailure(finalPlan)) {\n      throw finalPlan;\n    } else {\n      this.extendedProjectPlan_({\n        plan: finalPlan,\n        settings: currentConfig,\n        youTrackTimestamp: this.retrievedProjectPlanTimestamp_!,\n        idToContributorIdx,\n      });\n    }\n  }\n}\n\nfunction actionFromState(progress: number | undefined, pendingMetadata: boolean,\n    youTrackMetadata: YouTrackMetadata | undefined, extendedProjectPlan: ExtendedProjectPlan | undefined,\n    currentSettings: Plain<ProjectPlanningSettings>, currentPage: Page, validSettings: boolean): Action {\n  if (progress !== undefined || pendingMetadata) {\n    return Action.STOP;\n  } else if (!validSettings) {\n    return currentPage === Page.SETTINGS\n        ? Action.NOTHING\n        : Action.COMPLETE_SETTINGS;\n  } else if (youTrackMetadata === undefined) {\n    return Action.CONNECT;\n  } else if (extendedProjectPlan === undefined) {\n    return Action.BUILD_PLAN;\n  }\n\n  const newWithoutContributors = {...currentSettings};\n  const lastWithoutContributors = {...extendedProjectPlan.settings};\n  delete newWithoutContributors.contributors;\n  delete lastWithoutContributors.contributors;\n  const youTrackConfigChanged = !deepEquals(newWithoutContributors, lastWithoutContributors);\n  const contributorsChanged = !deepEquals(currentSettings.contributors, extendedProjectPlan.settings.contributors);\n\n  if (youTrackConfigChanged) {\n    return Action.BUILD_PLAN;\n  } else if (contributorsChanged) {\n    return Action.UPDATE_PREDICTION;\n  } else {\n    return Action.NOTHING;\n  }\n}\n","import { SDataArray } from 's-array';\nimport S, { DataSignal } from 's-js';\nimport { jsonable, Plain } from '../../utils/s';\nimport { ensureArray, ensureString } from '../../utils/typescript';\nimport { Contributor } from '../contributor/contributor-model';\nimport {\n  assignContributorEditArea,\n  assignContributors,\n  ContributorEditArea,\n  createContributorEditArea,\n  createContributors,\n} from '../contributors/contributors-model';\nimport {\n  assignDependsLinkType,\n  createDependsLinkType,\n  DependsLinkType,\n} from '../depends-link-type/depends-link-type-model';\nimport { assignSettings, createSettings, Settings } from '../settings/settings-model';\n\n/**\n * User-provided state of the settings UI component.\n */\nexport interface ProjectPlanningSettings extends Settings, DependsLinkType {\n  readonly stateFieldId: DataSignal<string>;\n  readonly inactiveStateIds: DataSignal<Set<string>>;\n  readonly remainingEffortFieldId: DataSignal<string>;\n  readonly remainingWaitFieldId: DataSignal<string>;\n  readonly assigneeFieldId: DataSignal<string>;\n  readonly typeFieldId: DataSignal<string>;\n  readonly splittableTypeIds: DataSignal<Set<string>>;\n  readonly savedQueryId: DataSignal<string>;\n  readonly overlaySavedQueryId: DataSignal<string>;\n  readonly contributors: SDataArray<Contributor>;\n  readonly transient: ContributorEditArea;\n}\n\n/**\n * Creates a new state for the settings UI component.\n */\nexport function createProjectPlanningSettings(): ProjectPlanningSettings {\n  return {\n    ...createSettings(),\n    stateFieldId: jsonable(S.value('')),\n    inactiveStateIds: jsonable(S.value(new Set<string>())),\n    remainingEffortFieldId: jsonable(S.value('')),\n    remainingWaitFieldId: jsonable(S.value('')),\n    assigneeFieldId: jsonable(S.value('')),\n    typeFieldId: jsonable(S.value('')),\n    splittableTypeIds: jsonable(S.value(new Set<string>())),\n    ...createDependsLinkType(),\n    savedQueryId: jsonable(S.value('')),\n    overlaySavedQueryId: jsonable(S.value('')),\n    contributors: createContributors(),\n    transient: createContributorEditArea(),\n  };\n}\n\n/**\n * Updates the state of the settings UI component to the given values in a plain JSON object.\n *\n * The update is performed within a single S.js transaction.\n *\n * @param settings state of the settings UI component\n * @param plain plain JSON object\n */\nexport function assignProjectPlanningSettings(settings: ProjectPlanningSettings, plain: Plain<ProjectPlanningSettings>):\n    void {\n  S.freeze(() => {\n    assignSettings(settings, plain);\n    settings.stateFieldId(ensureString(plain.stateFieldId));\n    settings.inactiveStateIds(new Set<string>(ensureArray(plain.inactiveStateIds, [], isValidId)));\n    settings.remainingEffortFieldId(ensureString(plain.remainingEffortFieldId));\n    settings.remainingWaitFieldId(ensureString(plain.remainingWaitFieldId));\n    settings.assigneeFieldId(ensureString(plain.assigneeFieldId));\n    settings.typeFieldId(ensureString(plain.typeFieldId));\n    settings.splittableTypeIds(new Set<string>(ensureArray(plain.splittableTypeIds, [], isValidId)));\n    assignDependsLinkType(settings, plain);\n    settings.savedQueryId(ensureString(plain.savedQueryId));\n    settings.overlaySavedQueryId(ensureString(plain.overlaySavedQueryId));\n    assignContributors(settings.contributors, plain.contributors);\n    if (plain.transient !== undefined) {\n      assignContributorEditArea(settings.transient, plain.transient);\n    }\n  });\n}\n\nfunction isValidId(value: unknown): boolean {\n  return typeof value === 'string' && value.length > 0;\n}\n","import S, { DataSignal } from 's-js';\nimport { Plain } from '../../utils/s';\nimport { App, AppComputation, assignApp, createApp, createAppComputation } from '../app/app-model';\nimport {\n  assignProjectPlanningSettings,\n  createProjectPlanningSettings,\n  ProjectPlanningSettings,\n} from '../project-planning-settings/project-planning-settings-model';\n\nexport interface ProjectPlanningAppComputation extends AppComputation {\n  /**\n   * Signal to trigger the current action ({@link ProjectPlanningAppCtrl.action}).\n   */\n  readonly doAction: DataSignal<null>;\n}\n\n/**\n * Returns a newly created object for keeping the user-provided application state.\n */\nexport function createProjectPlanningApp(): App<ProjectPlanningSettings> {\n  return createApp(createProjectPlanningSettings());\n}\n\n/**\n * Returns a newly created object for keeping the computed application state.\n */\nexport function createProjectPlanningAppComputation(): ProjectPlanningAppComputation {\n  return {\n    ...createAppComputation(),\n    doAction: S.data(null),\n  };\n}\n\n/**\n * Updates the application state to the given values in a plain JSON object.\n *\n * The update is performed within a single S.js transaction.\n *\n * @param app application state\n * @param plain plain JSON object\n */\nexport function assignProjectPlanningApp(\n    app: App<ProjectPlanningSettings>, plain: Plain<App<ProjectPlanningSettings>>) {\n  S.freeze(() => {\n    assignApp(app, plain);\n    assignProjectPlanningSettings(app.settings, plain.settings);\n  });\n}\n","import { unreachableCase } from '../../utils/typescript';\nimport { Action } from './project-planning-app-ctrl';\n\nexport function projectPlanningActionLabel(action: Action): string {\n  switch (action) {\n    case Action.COMPLETE_SETTINGS: return 'Finish settings...';\n    case Action.CONNECT: return 'Connect';\n    case Action.BUILD_PLAN: return 'Build plan';\n    case Action.UPDATE_PREDICTION: return 'Update prediction';\n    case Action.STOP: return 'Stop';\n    case Action.NOTHING: return 'Nothing';\n    default: return unreachableCase(action);\n  }\n}\n",null,"import * as Surplus from 'surplus'; // lgtm [js/unused-local-variable]\nimport { bindString } from '../../utils/surplus';\nimport { EDIT_AREA_CLASS, FORM_GROUP_CLASS, HELP_CLASS, INPUT_CLASS, LABEL_CLASS, OFFSET_CLASS } from '../bootstrap';\nimport { SettingsCtrl } from './settings-ctrl';\nexport function SettingsView({ settings, ctrl, connectSignal, invalidCounter }) {\n    return <div>\n    <div class={FORM_GROUP_CLASS}>\n      <label for=\"instanceName\" class={LABEL_CLASS}>Title:</label>\n      <div class={EDIT_AREA_CLASS}>\n        <input id=\"instanceName\" type=\"text\" class={INPUT_CLASS} aria-describedby=\"instanceNameHelp\" fn={bindString(settings.name)}/>\n        <small id=\"instanceNameHelp\" class=\"form-text text-muted\">\n          The tab/window title, which is also used for bookmarks.\n        </small>\n      </div>\n    </div>\n    <hr />\n    <div class={FORM_GROUP_CLASS}>\n      <label for=\"baseUrl\" class={LABEL_CLASS}>Base URL:</label>\n      <div class={EDIT_AREA_CLASS}>\n        <input id=\"baseUrl\" type=\"URL\" required class={INPUT_CLASS} aria-describedby=\"baseUrlHelp\" fn={bindString(settings.youTrackBaseUrl, invalidCounter)}/>\n        <small id=\"baseUrlHelp\" class=\"form-text text-muted\">\n          For YouTrack InCloud, enter the “Base URL” shown\n          at <a target=\"_blank\" fn={ctrl.hrefRelativeToBaseUrl('admin/domainSettings')}>Server Settings &gt; Domain\n          Settings</a>. The URL should be of form “https://&lt;your-domain&gt;/youtrack”. For YouTrack Standalone, enter\n          the “Base URL” shown at <a target=\"_blank\" fn={ctrl.hrefRelativeToBaseUrl('admin/settings')}>Server\n          Settings &gt; Global Settings</a>.\n        </small>\n      </div>\n    </div>\n    <div class={FORM_GROUP_CLASS}>\n      <label for=\"hubServiceUrl\" class={LABEL_CLASS}>Hub URL:</label>\n      <div class={EDIT_AREA_CLASS}>\n        <input id=\"hubServiceUrl\" type=\"URL\" required class={INPUT_CLASS} aria-describedby=\"hubServiceUrlHelp\" disabled={ctrl.isInCloudUrl()} fn={bindString(settings.hubUrl, invalidCounter)}/>\n        <small id=\"hubServiceUrlHelp\" class=\"form-text text-muted\">\n          For YouTrack InCloud without a custom domain, this setting is not configurable. Otherwise, enter the “Hub URL”\n          shown at <a target=\"_blank\" fn={ctrl.hrefRelativeToBaseUrl('admin/ring')}>Server Settings &gt; Hub\n          Integration</a>.\n        </small>\n      </div>\n    </div>\n    <div class={FORM_GROUP_CLASS}>\n      <label for=\"serviceId\" class={LABEL_CLASS}>Service ID in Hub:</label>\n      <div class={EDIT_AREA_CLASS}>\n        <input id=\"serviceId\" type=\"text\" required class={INPUT_CLASS} aria-describedby=\"serviceIdHelp\" fn={bindString(settings.youTrackServiceId, invalidCounter)}/>\n        <small id=\"serviceIdHelp\" class={HELP_CLASS}>\n          Enter the “YouTrack Service ID in Hub” shown\n          at <a target=\"_blank\" fn={ctrl.hrefRelativeToBaseUrl('admin/ring')}>Server Settings &gt; Hub\n          Integration</a>.\n        </small>\n      </div>\n    </div>\n    <div class={FORM_GROUP_CLASS}>\n      <div class={`${OFFSET_CLASS} ${EDIT_AREA_CLASS}`}>\n        <button type=\"button\" class=\"btn btn-sm btn-secondary\" aria-describedby=\"loginHelp\" disabled={ctrl.normalizedBaseUrl().length === 0 || ctrl.normalizedHubUrl().length === 0 ||\n        settings.youTrackServiceId().length === 0} onClick={() => connectSignal(null)}>Connect…</button>\n        <small id=\"loginHelp\" class={HELP_CLASS}>\n          If you are not logged into YouTrack yet, this will take you to the YouTrack login page. Once logged in, you\n          will be redirected back here. Please note: The URI of this web app (that is,\n          “{SettingsCtrl.currentUri().toString()}”) needs to be registered in the&#32;\n          <a target=\"_blank\" fn={ctrl.hubRelativeToBaseUrlAndServiceId((serviceId) => `admin/hub/services/${serviceId}?tab=settings`)}>\n            Hub Settings\n          </a> under “Redirect URIs”. The current origin (that is, “{SettingsCtrl.currentOrigin().toString()}”) also\n          needs to be added under “Allowed origins”\n          at <a target=\"_blank\" fn={ctrl.hrefRelativeToBaseUrl('admin/settings')}>Server Settings &gt; Global\n          Settings</a>.\n        </small>\n      </div>\n    </div>\n  </div>;\n}\n//# sourceMappingURL=settings-view.jsx.map",null,"import { handlePotentialOauthRedirect } from '@fschopp/project-planning-for-you-track';\nimport { strict as assert } from 'assert';\nimport S, { DataSignal } from 's-js';\nimport { Plain, toPlain } from '../utils/s';\nimport { App, Page } from './app/app-model';\nimport { Settings } from './settings/settings-model';\n\nconst FABRICATED_HOST = 'http://ignored-host';\n\ninterface ParsedHash {\n  path: string;\n  params: URLSearchParams;\n  raw: string;\n}\n\ntype RawHash = string;\n\ntype Hash = ParsedHash | RawHash;\n\nfunction isParsedHash(hash: Hash): hash is ParsedHash {\n  return typeof hash !== 'string';\n}\n\nfunction parseWindowLocation(): Hash {\n  const theHash = window.location.hash;\n  if (theHash.startsWith('#/')) {\n     const fabricatedUrl = new URL(theHash.slice(1), 'http://ignored-host/');\n     return {\n       path: fabricatedUrl.pathname,\n       params: fabricatedUrl.searchParams,\n       raw: theHash,\n     };\n  } else {\n    return theHash;\n  }\n}\n\n/**\n * Router that two-way binds the fragment (also called hash) of the URI of the current window/tab and the application\n * state.\n *\n * @typeparam T Type of the application subclass.\n * @typeparam U Type of of the user-provided state; that is, of {@link App.settings}.\n */\nexport class Router<T extends App<U>, U extends Settings = T['settings']> {\n  private hash: DataSignal<Hash> = S.value(parseWindowLocation());\n\n  /**\n   * Constructor.\n   *\n   * @param app The user-provided application state.\n   * @param assignApp Function that updates the application state to the given values in a plain JSON object.\n   * @param assignApp.app plain JSON object\n   * @param assignSettings Function that updates the application settings to the given values in a plain JSON object.\n   * @param assignSettings.app plain JSON object\n   */\n  public constructor(app: T, assignApp: (app: Plain<T>) => any, assignSettings: (settings: Plain<U>) => any) {\n    const savedState: Plain<T> | undefined = handlePotentialOauthRedirect<Plain<T>>();\n    if (savedState !== undefined) {\n      assignApp(savedState);\n    }\n\n    // Bind hash to react to changes of window.location.hash\n    const setStateFromHash = () => this.hash(parseWindowLocation());\n    window.addEventListener('hashchange', setStateFromHash, false);\n    S.cleanup(() => window.removeEventListener('hashchange', setStateFromHash));\n\n    // Bind config to react to changes of hash.\n    const needsNormalization: DataSignal<null> = S.data(null);\n    let hashFromConfig: string = '';\n    S(() => {\n      const currentHash: Hash = this.hash();\n      if (isParsedHash(currentHash)) {\n        if (currentHash.raw.slice(1) === hashFromConfig) {\n          // If this event is the result of us setting the hash ourselves (see below), ignore this update.\n          return;\n        }\n\n        const candidatePageName: string = currentHash.path.slice(1);\n        if (Object.values(Page).includes(candidatePageName)) {\n          app.currentPage(candidatePageName as Page);\n        }\n        if (currentHash.params.has('config')) {\n          const config: Plain<U> = JSON.parse(currentHash.params.get('config')!);\n          assignSettings(config);\n        } else {\n          needsNormalization(null);\n        }\n      }\n    });\n\n    // Bind browser hash to react to changes of config\n    S(() => {\n      // We need to depend on the following data signal, in order to guarantee normalization of the hash if the user\n      // changes it manually. (We cannot use S.on(), which may be a bit clearer, because we also depend on the\n      // configuration signals.)\n      needsNormalization();\n      const currentHash = window.location.hash.slice(1);\n      const url = new URL(`/${app.currentPage()}`, FABRICATED_HOST);\n      // JSON.stringify visits the object tree recursively, so even changes to nested data signal will trigger this\n      // computation to re-run. What is remarkable: nested data signals (say in a SDataArray) that do not yet exist will\n      // also trigger this computation in the future! The reason it works: The set of data signals a computation depends\n      // on is not static but updated whenever the computation runs. Now adding an element to SDataArray reruns this\n      // computation, which then records the dependency on the element's data signal(s). The same works when removing\n      // elements.\n      url.searchParams.set('config', JSON.stringify(toPlain(app.settings)));\n      assert(url.toString().startsWith(FABRICATED_HOST), 'URL.toString() returned unexpected result.');\n      hashFromConfig = url.toString().substring(FABRICATED_HOST.length);\n      if (currentHash !== hashFromConfig) {\n        window.location.hash = hashFromConfig;\n      }\n    });\n  }\n}\n",null,"import * as Surplus from 'surplus'; // lgtm [js/unused-local-variable]\nexport function WarningsView({ projectPlan }) {\n    return (<ul class=\"list-group\">\n        {warnings(projectPlan()).map((warning) => <li class=\"list-group-item\">{warning.description}</li>)}\n      </ul>);\n}\nfunction warnings(projectPlan) {\n    return projectPlan === undefined\n        ? []\n        : projectPlan.warnings;\n}\n//# sourceMappingURL=warnings-view.jsx.map","export * from './components/alerts/alerts-ctrl';\nexport * from './components/alerts/alerts-model';\nexport * from './components/alerts/alerts-view';\n\nexport * from './components/app/app-ctrl';\nexport * from './components/app/app-model';\n\nexport * from './components/contributor/contributor-model';\n\nexport * from './components/contributors/contributors-ctrl';\nexport * from './components/contributors/contributors-model';\nexport * from './components/contributors/contributors-view';\n\nexport * from './components/depends-link-type/depends-link-type-model';\nexport * from './components/depends-link-type/depends-link-type-view';\n\nexport * from './components/nav/nav-view';\n\nexport * from './components/project-planning-app/project-planning-app-ctrl';\nexport * from './components/project-planning-app/project-planning-app-model';\nexport * from './components/project-planning-app/project-planning-app-view';\n\nexport * from './components/project-planning-settings/project-planning-settings-ctrl';\nexport * from './components/project-planning-settings/project-planning-settings-model';\nexport * from './components/project-planning-settings/project-planning-settings-view';\n\nexport * from './components/router';\n\nexport * from './components/settings/settings-ctrl';\nexport * from './components/settings/settings-model';\nexport * from './components/settings/settings-view';\n\nexport * from './components/warnings/warnings-view';\n\nexport * from './components/you-track-base-views';\n\nexport * from './components/you-track-metadata/you-track-metadata-ctrl';\nexport * from './components/you-track-metadata/you-track-metadata-model';\n\nexport * from './utils/counter';\nexport * from './utils/s';\nexport * from './utils/surplus';\nexport * from './utils/typescript';\n\nimport * as YouTrackRest from './youtrack-rest';\nexport { YouTrackRest };\n","import { IssueActivity, ProjectPlan, YouTrackIssue } from '@fschopp/project-planning-for-you-track';\nimport S from 's-js';\nimport { ProjectPlanningAppComputation, ProjectPlanningAppCtrl } from '../main';\nimport { DemoApp } from './demo-model';\n\nexport class DemoCtrl {\n  public readonly jsonProjectPlan: () => string;\n\n  public static createDefaultDemoCtrl(app: DemoApp, appComputation: ProjectPlanningAppComputation): DemoCtrl {\n    const projectPlanningAppCtrl: ProjectPlanningAppCtrl =\n      ProjectPlanningAppCtrl.createDefaultProjectPlanningAppCtrl(app, appComputation);\n    return new DemoCtrl(projectPlanningAppCtrl);\n  }\n\n  public constructor(\n      public readonly projectPlanningAppCtrl: ProjectPlanningAppCtrl\n  ) {\n    this.jsonProjectPlan = S(() => {\n      const extendedProjectPlan = projectPlanningAppCtrl.extendedProjectPlan();\n      if (extendedProjectPlan === undefined) {\n        return '';\n      }\n      const projectPlan: ProjectPlan = extendedProjectPlan.plan;\n      // OK in demo to deep clone like this\n      const clonedProjectPlan: ProjectPlan = JSON.parse(JSON.stringify(projectPlan));\n      humanReadableTimestamps(clonedProjectPlan);\n      return JSON.stringify(clonedProjectPlan, undefined, 2);\n    });\n  }\n}\n\nfunction humanReadableTimestamps(projectPlan: ProjectPlan): void {\n  interface IsoTimestampedIssue {\n    $resolved: string;\n  }\n  interface IsoTimestampedIssueActivity {\n    $start: string;\n    $end: string;\n  }\n\n  for (const issue of projectPlan.issues) {\n    if (issue.resolved !== Number.MAX_SAFE_INTEGER) {\n      (issue as YouTrackIssue & IsoTimestampedIssue).$resolved = new Date(issue.resolved).toISOString();\n    }\n    for (const issueActivity of issue.issueActivities) {\n      const timestampedIssueActivity = issueActivity as IssueActivity & IsoTimestampedIssueActivity;\n      timestampedIssueActivity.$start = new Date(issueActivity.start).toISOString();\n      timestampedIssueActivity.$end = new Date(issueActivity.end).toISOString();\n    }\n  }\n}\n","import S, { DataSignal } from 's-js';\nimport { App, assignProjectPlanningApp, ensureNumber, jsonable, Plain } from '../main';\nimport { createProjectPlanningApp } from '../main/components/project-planning-app/project-planning-app-model';\nimport { ProjectPlanningSettings } from '../main/components/project-planning-settings/project-planning-settings-model';\n\nexport interface DemoApp extends App<ProjectPlanningSettings> {\n  readonly zoom: DataSignal<number>;\n}\n\nexport function createDemoApp(): DemoApp {\n  return {\n    ...createProjectPlanningApp(),\n    zoom: jsonable(S.value(0)),\n  };\n}\n\nexport function assignDemoApp(demoApp: DemoApp, plain: Plain<DemoApp>) {\n  S.freeze(() => {\n    assignProjectPlanningApp(demoApp, plain);\n    demoApp.zoom(ensureNumber(plain.zoom));\n  });\n}\n",null,"import * as Surplus from 'surplus'; // lgtm [js/unused-local-variable]\nimport { Action, AlertsView, bindNumber, NavView, Page, projectPlanningActionLabel, ProjectPlanningSettingsView, WarningsView, withClassIff, } from '../main';\nexport function DemoView({ app, appComputation, ctrl }) {\n    return (<div>\n        <NavView appName={appComputation.name} currentPage={app.currentPage} progress={appComputation.progress} numWarnings={ctrl.projectPlanningAppCtrl.numWarnings} isActionBtnVisible={() => ctrl.projectPlanningAppCtrl.action() !== Action.NOTHING} actionBtnLabel={() => projectPlanningActionLabel(ctrl.projectPlanningAppCtrl.action())} actionSignal={appComputation.doAction}/>\n        \n        <main role=\"main\" class=\"position-relative overflow-hidden flex-shrink-1 flex-grow-1 border-top border-bottom\">\n          <div class=\"overflow-hidden position-absolute fill-parent d-flex flex-column\" fn={withClassIff(() => app.currentPage() !== Page.HOME, 'invisible')}>\n            <div class=\"d-flex align-items-center border-bottom px-3 py-2 flex-shrink-0 flex-grow-0\">\n              <label for=\"zoom\" class=\"mb-0\">🔍</label>\n              <input class=\"custom-range ml-2\" type=\"range\" id=\"zoom\" min=\"0\" max=\"425\" step=\"1\" fn={bindNumber(app.zoom)}/>\n            </div>\n            <div class=\"overflow-auto flex-shrink-1 flex-grow-1\">\n              <div class=\"container\">\n                <h2 class=\"mt-3\">Demo: Project Planning User Interface for YouTrack</h2>\n                <p class=\"lead\">\n                  User-interface for&#32;\n                  <a href=\"https://github.com/fschopp/project-planning-for-you-track\">\n                    fschopp/project-planning-for-you-track\n                  </a>.\n                  Allows easy embedding of arbitrary widgets (for instance, a Gantt chart) in order to visualize project\n                  schedules created from&#32;\n                  <a href=\"https://www.jetbrains.com/help/youtrack/standalone/Saved-Search.html\">\n                    YouTrack saved searches\n                  </a>.\n                </p>\n                <p>Current zoom level: {app.zoom()}</p>\n                <pre>{ctrl.jsonProjectPlan()}</pre>\n              </div>\n            </div>\n          </div>\n          <div class=\"overflow-auto position-absolute fill-parent\" fn={withClassIff(() => app.currentPage() !== Page.WARNINGS, 'invisible')}>\n            <div class=\"container\">\n              <h2 class=\"mt-3\">Project Plan Warnings</h2>\n              <WarningsView projectPlan={() => projectPlan(ctrl.projectPlanningAppCtrl.extendedProjectPlan)}/>\n            </div>\n          </div>\n          <div class=\"overflow-auto position-absolute fill-parent\" fn={withClassIff(() => app.currentPage() !== Page.SETTINGS, 'invisible')}>\n            <form class=\"container was-validated\">\n              <h2 class=\"mt-3\">Settings</h2>\n              <ProjectPlanningSettingsView settings={app.settings} ctrl={ctrl.projectPlanningAppCtrl.settingsCtrl} connectSignal={appComputation.connect} invalidCounter={ctrl.projectPlanningAppCtrl.appCtrl.invalidCounter}/>\n            </form>\n          </div>\n        </main>\n        <footer class=\"footer my-3\">\n          <div class=\"container\">\n            <a href=\"https://github.com/fschopp/project-planning-ui-for-you-track\">Back to project page.</a>\n          </div>\n        </footer>\n        <AlertsView alerts={appComputation.alerts} ctrl={ctrl.projectPlanningAppCtrl.appCtrl.alertsCtrl}/>\n      </div>);\n}\nfunction projectPlan(signal) {\n    const extendedProjectPlan = signal();\n    return extendedProjectPlan === undefined\n        ? undefined\n        : extendedProjectPlan.plan;\n}\n//# sourceMappingURL=demo-view.jsx.map","// This file is the entry point for the TypeScript compiler, and it should not export any symbols. Otherwise, TypeDoc\n// would add those to the generated documentation. See also the tsconfig.json file.\n\nimport S from 's-js';\nimport {\n  assignProjectPlanningSettings,\n  createProjectPlanningAppComputation,\n  ProjectPlanningAppComputation,\n  Router,\n} from '../main';\nimport './demo-ctrl';\nimport { DemoCtrl } from './demo-ctrl';\nimport { assignDemoApp, createDemoApp, DemoApp } from './demo-model';\nimport { DemoView } from './demo-view';\n\n// Unfortunate workaround for Safari. See https://github.com/fschopp/project-planning-for-you-track/issues/1\nconst DELAY_BEFORE_ACCESSING_SESSION_STORAGE_MS = 50;\nwindow.setTimeout(run, DELAY_BEFORE_ACCESSING_SESSION_STORAGE_MS);\n\nfunction run() {\n  S.root(() => {\n    // Create model\n    const app: DemoApp = createDemoApp();\n    const appComputation: ProjectPlanningAppComputation = createProjectPlanningAppComputation();\n\n    // Create controller\n    const ctrl = DemoCtrl.createDefaultDemoCtrl(app, appComputation);\n    new Router(\n        app,\n        (plainApp) => assignDemoApp(app, plainApp),\n        (plainSettings) => assignProjectPlanningSettings(app.settings, plainSettings)\n    );\n\n    // Create view\n    document.body.append(...DemoView({app, appComputation, ctrl}).children);\n  });\n}\n"]}